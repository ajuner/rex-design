(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{202:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return J})),n.d(t,"b",(function(){return U})),n.d(t,"j",(function(){return G})),n.d(t,"c",(function(){return de})),n.d(t,"e",(function(){return ge})),n.d(t,"g",(function(){return Oe})),n.d(t,"i",(function(){return C})),n.d(t,"h",(function(){return x})),n.d(t,"f",(function(){return be}));var r=n(221),a=n.n(r),o=n(170),l=n(0),i=n.n(l);function s(e){return String(Number.parseInt(e))===e}function u(e){return s(e)?"array":"object"}function m(e,t,n){const r=Array.isArray(t)?t:p(t);let a=e;for(let l=0;l<r.length;l+=1){if(!o.i(a))return n;a=o.g(a,r[l])}return void 0===a?n:a}function c(e,t,n){const r=Array.isArray(t)?t:p(t),a=r.length-1;let l=e;for(let i=0;i<a;i+=1){const e=r[i];if(null==o.g(l,e)&&(s(r[i+1])?o.q(l,e,[]):o.q(l,e,{})),l=o.g(l,e),!o.i(l))return}o.i(l)&&o.q(l,r[a],n)}function d(e,t){return void 0!==e?e:t}function p(e){return e.split(".")}try{u.displayName="keyToValueShape",u.__docgenInfo={description:"",displayName:"keyToValueShape",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#keyToValueShape"]={docgenInfo:u.__docgenInfo,name:"keyToValueShape",path:"../xform/src/common-utils.tsx#keyToValueShape"})}catch(Se){}try{m.displayName="observableGetIn",m.__docgenInfo={description:"lodash.get(...) for mobx observables",displayName:"observableGetIn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#observableGetIn"]={docgenInfo:m.__docgenInfo,name:"observableGetIn",path:"../xform/src/common-utils.tsx#observableGetIn"})}catch(Se){}try{c.displayName="observableSetIn",c.__docgenInfo={description:"lodash.set(...) for mobx observables",displayName:"observableSetIn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#observableSetIn"]={docgenInfo:c.__docgenInfo,name:"observableSetIn",path:"../xform/src/common-utils.tsx#observableSetIn"})}catch(Se){}try{d.displayName="composeState",d.__docgenInfo={description:"\u5408\u5e76\u53d7\u63a7\u72b6\u6001\u548c \u975e\u53d7\u63a7\u72b6\u6001",displayName:"composeState",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#composeState"]={docgenInfo:d.__docgenInfo,name:"composeState",path:"../xform/src/common-utils.tsx#composeState"})}catch(Se){}try{p.displayName="splitToPath",p.__docgenInfo={description:"",displayName:"splitToPath",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#splitToPath"]={docgenInfo:p.__docgenInfo,name:"splitToPath",path:"../xform/src/common-utils.tsx#splitToPath"})}catch(Se){}class f{constructor(e){this.fieldMap=new Map,this.model=e,this.valueShape="auto"}_updateValueShape(e){"auto"===this.valueShape?(this.valueShape=e,this.subModels="object"===e?{}:[]):a()(this.valueShape===e,"[xform] Model \u7684\u7ed3\u6784\u9700\u8981\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u4fdd\u6301\u4e00\u81f4\uff0c\u4e00\u4e2a\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u7684\u7ed3\u6784\u4e0d\u80fd\u4ece\u6570\u7ec4\u53d8\u4e3a\u5bf9\u8c61\uff0c\u4e5f\u4e0d\u80fd\u4ece\u5bf9\u8c61\u53d8\u4e3a\u6570\u7ec4")}iterateModels(e){const t=n=>{if(null!=n.subModels)for(const r of Object.values(n.subModels))e(r),t(r._proxy)};t(this)}iterateFields(e){this.fieldMap.forEach(t=>{t._forkMap.forEach(e)}),this.iterateModels(t=>{t._proxy.fieldMap.forEach(t=>{t._forkMap.forEach(e)})})}getSubModel(e){const t=Array.isArray(e)?e:p(e);let n=this.model;for(let r=0;r<t.length-1;r++)n=n._proxy._getSubModel(t[r]);return n._proxy._getSubModel(t[t.length-1])}_getSubModel(e){this._updateValueShape(u(e));let t=this.subModels[e];return null==t&&(t=new h(this.model,e),this.subModels[e]=t),t}getField(e){const t=Array.isArray(e)?e:p(e);if(t.length>1){const e=t[t.length-1];return this.getSubModel(t.slice(0,-1))._proxy.getField([e])}const n=t[0];this._updateValueShape(u(n));let r=this.fieldMap.get(n);return null==r&&(r=new g(this.model,n),this.fieldMap.set(n,r)),r}}const y=[];class b{constructor(e={}){this._nextModelId=1,this._nextFieldId=1,this.state={},this.root=this,this.parent=this,this.path=y,this._proxy=new f(this),this.values=e,Object(o.k)(this,{values:o.l,state:o.l,setValue:o.c})}getNextModelId(){return"Model_"+this._nextModelId++}getNextFieldId(){return"Field_"+this._nextFieldId++}getValue(e,t){return m(this.values,String(e),t)}setValue(e,t){c(this.values,e,t)}getSubModel(e){return this._proxy.getSubModel(String(e))}getField(e){return this._proxy.getField(e)}_asField(){throw new Error("FormModel \u4e0b\u4e0d\u652f\u6301\u4f7f\u7528 name=& \u7684 Field")}}class h{constructor(e,t){this.state={},a()(!t.includes("."),"name \u4e2d\u4e0d\u80fd\u5305\u542b ."),this.root=e.root,this.parent=e,this.name=t,this._proxy=new f(this),this.id=this.root.getNextModelId(),Object(o.k)(this,{values:o.d,state:o.l,setValue:o.c,name:o.l},{name:`${this.id}(${this.name})`})}get path(){return[...this.parent.path,this.name]}getSubModel(e){return this._proxy.getSubModel(String(e))}getField(e){return this._proxy.getField(String(e))}get values(){return this.parent.getValue(this.name)}set values(e){this.parent.setValue(this.name,e)}getValue(e,t){return m(this.values,String(e),t)}setValue(e,t){null==this.values&&(this._proxy._updateValueShape(u(p(String(e))[0])),this.values="array"===this._proxy.valueShape?[]:{}),c(this.values,String(e),t)}_asField(){return this.parent.getField(this.name)}}class g{constructor(e,t,n=g.ORIGINAL){if(this.config=null,this.isMounted=!1,this.state={},this.handleBlur=()=>this.validate("blur"),this.handleChange=e=>{var t;return this.value=d(e,null===(t=this.config)||void 0===t?void 0:t.fallbackValue),this.validate("change")},this.parent=e,this.name=t,this.forkName=n,this.id=this.parent.root.getNextFieldId(),Object(o.k)(this,{state:o.l,value:o.d,path:o.d,validate:o.c,handleBlur:o.c,handleChange:o.c},{name:`${this.id}(${t}${n===g.ORIGINAL?"":"#"+n})`}),n===g.ORIGINAL)this._forkMap=new Map;else{const e=this.parent.getField(t);this._forkMap=e._forkMap}this._forkMap.set(n,this)}get value(){return this.parent.getValue(this.name)}set value(e){this.parent.setValue(this.name,e)}get path(){return this.parent.path.concat([this.name])}_useTrack(e){Object(l.useLayoutEffect)(()=>{if(!this.isMounted)return this.config=e,this.isMounted=!0,()=>{this.config=null,this.isMounted=!1};console.warn(`[xform] field \`${this.path.join(".")}\` \u5df2\u5728\u89c6\u56fe\u4e2d\u88ab\u52a0\u8f7d\uff0c\u4f60\u9700\u8981 fork \u8be5\u5b57\u6bb5\u6765\u8fdb\u884c\u591a\u6b21\u52a0\u8f7d.`)},[e])}getFork(e){return this._forkMap.has(e)?this._forkMap.get(e):new g(this.parent,this.name,e)}async validate(e="*"){var t,n;if(!this.isMounted)return;const{validate:r,fallbackValue:a,isEmpty:l,required:i,requiredMessage:s="\u8be5\u5b57\u6bb5\u4e3a\u5fc5\u586b\u9879",validateOnMount:u,validateOnBlur:m,validateOnChange:c}=this.config,p=d(this.value,a);if(!("*"===e||m&&"blur"===e||u&&"mount"===e||c&&"change"===e))return;let f=!1;return null===(n=(t=this.state).cancelValidation)||void 0===n||n.call(t),this.state.validating=!0,this.state.cancelValidation=Object(o.c)(()=>{f=!0,this.state.cancelValidation=null,this.state.validating=!1}),(async()=>i&&l(p)?s:r?r(p,this,e):null)().then(Object(o.c)(e=>{if(!f)return this.state.cancelValidation=null,this.state.validating=!1,this.state.error=e,e}))}}g.ORIGINAL="original";var v=n(179);class O extends Error{}function S(e){var t;return null===(t=e)||void 0===t?void 0:t.xformAsyncValue}function x(e,t){const n=Object(o.b)(),r=Object(o.f)("refreshAtom"),a=Object(o.f)("createAsyncValue"),l=[];let i="loading",s=t,u=null;const m=Object(o.d)(()=>(a.reportObserved(),i)),c=Object(o.d)(()=>(a.reportObserved(),s)),d=Object(o.d)(()=>(a.reportObserved(),u));let p,f;const y=()=>{p&&(p.dispose(),p=null)};return l.push(y),l.push(Object(o.m)(a,()=>{p=new o.a("async",()=>{"loading"!==i&&(i="loading",a.reportChanged()),p.track(()=>{var t;null==f||f();let l=!1;f=()=>{l=!0};const m=null!==(t=n.inXFormAsyncValueFetcher)&&void 0!==t&&t;n.inXFormAsyncValueFetcher=!0,r.reportObserved(),e().then(e=>{l||Object(o.p)(()=>{i="ready",s=e,u=null,a.reportChanged()})}).catch(e=>{if(!(e instanceof O))throw Object(o.p)(()=>{i="error",u=e,a.reportChanged()}),e}),n.inXFormAsyncValueFetcher=m})}),p.schedule_()})),l.push(Object(o.n)(a,y)),l.push(()=>{i="ready",s=null,u=null}),{xformAsyncValue:!0,get status(){return m.get()},get current(){if(n.inXFormAsyncValueFetcher){if(a.reportObserved(),"loading"===i)throw new O;if("error"===i)throw u;return s}return c.get()},get error(){return d.get()},dispose(){for(const e of l)e()},refresh(){r.reportChanged()}}}try{S.displayName="isAsyncValue",S.__docgenInfo={description:"",displayName:"isAsyncValue",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/async-value.tsx#isAsyncValue"]={docgenInfo:S.__docgenInfo,name:"isAsyncValue",path:"../xform/src/async-value.tsx#isAsyncValue"})}catch(Se){}var j=n(234),F=n(166),E=n(172),_=n(169),I=n.n(_),V=n(26);const C={clearError:Object(o.c)((function(e){e._proxy.iterateFields(e=>{e.state.error=null})})),validateAll:Object(o.c)((function(e,t="*"){let n=!1;const r=Object(o.l)("array"===e._proxy.valueShape?[]:{}),a=[];return e._proxy.iterateFields(e=>{e.isMounted&&a.push(e.validate(t).then(Object(o.c)(t=>{t&&(n=!0,c(r,e.path,t))})))}),Promise.all(a).then(()=>({hasError:n,errors:Object(o.r)(r)}))})),submit:Object(o.c)((async function(e,t={}){const{onError:n,onSubmit:r,valueFilter:a="mounted"}=t,{hasError:l,errors:i}=await C.validateAll(e);l?null==n||n(i,e):"function"==typeof r&&("all"===a?r(Object(o.r)(e.values),e):Object(o.p)(()=>{const t=Object(o.l)("array"===e._proxy.valueShape?[]:{});e._proxy.iterateFields(e=>{e.isMounted&&void 0!==e.value&&c(t,e.path,e.value)}),r(Object(o.r)(t),e)}))})),reset:Object(o.c)((function(e,{onReset:t}={}){e.values={},C.clearError(e),null==t||t(e)}))};var w,N,A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function q(e){return"number"==typeof e?e+"px":e}var T=V.d.div(w||(w=Object(j.a)(["\n  --label-width: auto;\n  --control-width: auto;\n  --form-item-gap: 0;\n  font-size: 12px;\n\n  .form-item {\n    margin-bottom: var(--form-item-gap);\n  }\n\n  .form-item.minimal {\n    margin-bottom: 0;\n\n    > .error-message,\n    > .form-item-label {\n      display: none;\n    }\n  }\n\n  &.horizontal {\n    .form-item {\n      display: flex;\n    }\n\n    .form-item-label {\n      flex: 0 0 var(--label-width);\n      padding-top: 8px;\n      padding-right: 12px;\n      text-align: right;\n      line-height: 1.5;\n    }\n  }\n\n  &.vertical {\n    .form-item-label {\n      font-size: 12px;\n      line-height: 1.5;\n      margin-bottom: 4px;\n    }\n  }\n\n  .form-item-preview {\n    > .form-item-label {\n      padding-top: 0;\n    }\n    > .form-item-control {\n      line-height: 1.5;\n    }\n  }\n\n  .required-indicator {\n    margin-right: 4px;\n    color: #eb4141;\n    ::before {\n      content: '*';\n    }\n  }\n\n  .error-message {\n    margin-top: 4px;\n    color: #eb4141;\n  }\n\n  .tip {\n    margin-left: 4px;\n    color: #999;\n    height: 18px;\n    vertical-align: top;\n  }\n\n  .help {\n    color: #999999;\n    margin-top: 4px;\n    line-height: 1.5;\n  }\n\n  .form-item-control {\n    width: var(--control-width);\n\n    > .next-input,\n    > .next-select {\n      width: 100%;\n    }\n\n    > .next-range {\n      padding: 8px 0;\n    }\n\n    > .next-checkbox-group,\n    > .next-radio-group,\n    > .next-checkbox-wrapper {\n      display: inline-block;\n      line-height: 18px;\n    }\n  }\n\n  &.horizontal .form-item-control {\n    > .next-checkbox-group,\n    > .next-radio-group,\n    > .next-checkbox-wrapper {\n      padding-top: 8px;\n    }\n  }\n"])));function k(e){var t=e.children,n=e.className,r=e.style,a=e.labelPosition,o=void 0===a?"left":a,l=e.labelWidth,s=void 0===l?"left"===o?120:"auto":l,u=e.formItemGap,m=void 0===u?"left"===o?12:16:u,c=e.controlWidth,d=void 0===c?320:c;return i.a.createElement(T,{style:Object.assign({"--label-width":q(s),"--control-width":q(d),"--form-item-gap":q(m)},r),className:I()({horizontal:"left"===o,vertical:"top"===o},n)},t)}var P=V.d.div(N||(N=Object(j.a)(["\n  ",".horizontal & {\n    display: flex;\n  }\n\n  &.inline {\n    .form-item-group-content {\n      display: flex;\n    }\n  }\n"])),T),R=function(e){var t=e.label,n=e.children,r=e.labelWidth,a=e.controlWidth,o=e.className,l=e.style,s=e.inline,u=W().isPreview;return i.a.createElement(P,{className:I()("form-item-group",{inline:s,"form-item-preview":u},o),style:l},null!=t&&i.a.createElement("div",{className:"form-item-label"},t),i.a.createElement("div",{className:"form-item-group-content",style:{"--label-width":q(r),"--control-width":q(a)}},n))},M=function(e){var t=e.title;return i.a.createElement(F.Tooltip,{interactionKind:"hover",title:t,renderTarget:function(e){return i.a.createElement(E.a,Object.assign({},e,{type:"prompt",className:"tip"}))}})};function B(e){var t=e.label,n=e.help,r=e.tip,a=e.asterisk,o=e.error,l=e.children,s=e.className,u=e.style;return i.a.createElement("div",{className:I()("form-item",s),style:u},null==t&&null==r?null:i.a.createElement("div",{className:"form-item-label"},a&&i.a.createElement("span",{className:"required-indicator"}),t&&i.a.createElement("span",{className:"form-item-label-text"},t),r&&i.a.createElement(M,{title:r})),i.a.createElement("div",{className:"form-item-control"},l,n&&i.a.createElement("div",{className:"help"},n),o&&i.a.createElement("div",{className:"error-message"},o)))}function L(e){var t=e.type,n=void 0===t?"primary":t,r=e.children,a=void 0===r?"\u63d0\u4ea4":r,o=A(e,["type","children"]),l=G(),s=W();return i.a.createElement(F.Button,Object.assign({onClick:function(){return C.submit(l,s)},type:n,children:a},o))}function Y(e){var t=e.children,n=void 0===t?"\u91cd\u7f6e":t,r=A(e,["children"]),a=G(),l=W();return i.a.createElement(F.Button,Object.assign({onClick:Object(o.c)((function(){return C.reset(a,l)})),children:n},r))}try{k.displayName="FormLayout",k.__docgenInfo={description:"",displayName:"FormLayout",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},labelPosition:{defaultValue:{value:"left"},description:"\u6807\u7b7e\u4f4d\u7f6e\uff0c\u53ef\u9009 'left' \u6216 'top'",name:"labelPosition",required:!1,type:{name:'"left" | "top"'}},labelWidth:{defaultValue:{value:"labelPosition === 'left' ? 120 : 'auto'"},description:"\u6807\u7b7e\u5bbd\u5ea6",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:{value:320},description:"\u63a7\u4ef6\u5bbd\u5ea6",name:"controlWidth",required:!1,type:{name:"string | number"}},formItemGap:{defaultValue:{value:"labelPosition === 'left' ? 12 : 16"},description:"\u4e24\u4e2a form item \u4e4b\u95f4\u7684\u95f4\u8ddd",name:"formItemGap",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormLayout"]={docgenInfo:k.__docgenInfo,name:"FormLayout",path:"../xform/src/form-ui.tsx#FormLayout"})}catch(Se){}try{B.displayName="FormItemView",B.__docgenInfo={description:"",displayName:"FormItemView",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ReactNode"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormItemView"]={docgenInfo:B.__docgenInfo,name:"FormItemView",path:"../xform/src/form-ui.tsx#FormItemView"})}catch(Se){}try{L.displayName="FormSubmit",L.__docgenInfo={description:"",displayName:"FormSubmit",props:{type:{defaultValue:{value:"primary"},description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"primary" | "secondary" | "normal"'}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"button" | "a"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"link" | "text" | "solid" | "ghost" | "warning"'}},size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormSubmit"]={docgenInfo:L.__docgenInfo,name:"FormSubmit",path:"../xform/src/form-ui.tsx#FormSubmit"})}catch(Se){}try{Y.displayName="FormReset",Y.__docgenInfo={description:"",displayName:"FormReset",props:{type:{defaultValue:null,description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"primary" | "secondary" | "normal"'}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"button" | "a"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"link" | "text" | "solid" | "ghost" | "warning"'}},size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormReset"]={docgenInfo:Y.__docgenInfo,name:"FormReset",path:"../xform/src/form-ui.tsx#FormReset"})}catch(Se){}try{R.displayName="FormItemGroup",R.__docgenInfo={description:"",displayName:"FormItemGroup",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},labelWidth:{defaultValue:null,description:"",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:null,description:"",name:"controlWidth",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormItemGroup"]={docgenInfo:R.__docgenInfo,name:"FormItemGroup",path:"../xform/src/form-ui.tsx#FormItemGroup"})}catch(Se){}const K=i.a.createContext(null);K.displayName="ModelContext";const z=K.Provider;function G(){return Object(l.useContext)(K)}const D=i.a.createContext({isPreview:!1,validateOnMount:!1,validateOnBlur:!0,validateOnChange:!0});D.displayName="FormEnvContext";const W=()=>Object(l.useContext)(D),U=({children:e,...t})=>{const n=W();return i.a.createElement(D.Provider,{value:{...n,...t}},e)};function J({model:e,defaultValue:t,children:n,className:r,style:a,layout:o,...s}){const[u]=Object(l.useState)(()=>new b(t)),m=d(e,u);return i.a.createElement(U,Object.assign({},s),i.a.createElement(z,{value:m},i.a.createElement(k,Object.assign({style:a,className:r},o),n)))}const $=Object(v.b)((function({watch:e,effect:t,fireImmediately:n}){const r=G(),a=Object(l.useCallback)((e,n)=>t(e,{model:r,prev:n,next:e}),[r,t]);return Object(l.useEffect)(()=>"string"==typeof e?Object(o.o)(()=>Object(o.r)(r.getValue(e)),a,{fireImmediately:n}):"function"==typeof e?Object(o.o)(e,a):e instanceof g?Object(o.o)(()=>e.value,a,{fireImmediately:n}):S(e)?Object(o.o)(()=>e.current,a,{fireImmediately:n}):Array.isArray(e)?Object(o.o)(()=>e.map(e=>"string"==typeof e?Object(o.r)(r.getValue(e)):S(e)?e.current:e.value),a,{fireImmediately:n}):void 0,[r,e,a,n]),null})),X=Object(v.b)(({children:e})=>e(G())),Z=Object(v.b)(({name:e,children:t,layout:n,itemFactory:r})=>{var a,o;const l=G();if("&"===e)throw new Error(`XFormArray \u4e0d\u652f\u6301 name=&. path=(${l.path.join(".")||"root"})`);const s=l.getSubModel(e),u=null!==(o=null===(a=s.values)||void 0===a?void 0:a.length)&&void 0!==o?o:0;return i.a.createElement(z,{value:s},n({arrayModel:s,itemCount:u,itemContent:t,itemFactory:r}))}),H=Object(v.b)(({name:e,children:t})=>{const n=G();return"&"===e?i.a.createElement(i.a.Fragment,null,t):i.a.createElement(z,{value:n.getSubModel(e),children:t})});J.Submit=L,J.Reset=Y,J.Effect=$,J.Array=Z,J.Object=H,J.ModelProvider=z,J.ModelConsumer=X,J.Layout=k,J.ItemGroup=R,J.ItemView=B;try{J.displayName="Form",J.__docgenInfo={description:"",displayName:"Form",props:{model:{defaultValue:null,description:"\u53d7\u63a7\u7528\u6cd5\u3002 xform \u6a21\u578b\u5bf9\u8c61\uff0c\u4e00\u822c\u7531\u4e0a\u5c42\u901a\u8fc7 new FormModel(...) \u521b\u5efa\u800c\u6210",name:"model",required:!1,type:{name:"IModel<T>"}},defaultValue:{defaultValue:null,description:"\u975e\u53d7\u63a7\u7528\u6cd5\u3002 \u8868\u5355\u7684\u9ed8\u8ba4\u503c",name:"defaultValue",required:!1,type:{name:"T"}},style:{defaultValue:null,description:"@category \u5e03\u5c40",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"@category \u5e03\u5c40",name:"className",required:!1,type:{name:"string"}},layout:{defaultValue:null,description:"\u8868\u5355\u5e03\u5c40\u53c2\u6570\n@category \u5e03\u5c40",name:"layout",required:!1,type:{name:"FormLayoutParams"}},onSubmit:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onSubmit",required:!1,type:{name:"(submitValues: any, model: IModel<any>) => void"}},onError:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u51fa\u9519\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onError",required:!1,type:{name:"(errors: any, model: IModel<any>) => void"}},onReset:{defaultValue:null,description:"\u6e05\u7a7a\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Reset /> \u4f7f\u7528",name:"onReset",required:!1,type:{name:"(model: IModel<any>) => void"}},isPreview:{defaultValue:{value:"false"},description:"\u662f\u5426\u4e3a\u9884\u89c8\u6001",name:"isPreview",required:!1,type:{name:"boolean"}},validateOnMount:{defaultValue:{value:"false"},description:"\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:{value:"true"},description:"\u503c\u4fee\u6539\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:{value:"true"},description:"\u7ec4\u4ef6\u5931\u53bb\u7126\u70b9\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnBlur",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form"]={docgenInfo:J.__docgenInfo,name:"Form",path:"../xform/src/form.tsx#Form"})}catch(Se){}try{J.Submit.displayName="Form.Submit",J.Submit.__docgenInfo={description:"",displayName:"Form.Submit",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"solid" | "link" | "text" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"a" | "button"'}},type:{defaultValue:{value:"primary"},description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Submit"]={docgenInfo:J.Submit.__docgenInfo,name:"Form.Submit",path:"../xform/src/form.tsx#Form.Submit"})}catch(Se){}try{J.Reset.displayName="Form.Reset",J.Reset.__docgenInfo={description:"",displayName:"Form.Reset",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"solid" | "link" | "text" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"a" | "button"'}},type:{defaultValue:null,description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Reset"]={docgenInfo:J.Reset.__docgenInfo,name:"Form.Reset",path:"../xform/src/form.tsx#Form.Reset"})}catch(Se){}try{J.Effect.displayName="Form.Effect",J.Effect.__docgenInfo={description:"",displayName:"Form.Effect",props:{watch:{defaultValue:null,description:"",name:"watch",required:!0,type:{name:"string | (string | Field<unknown> | AsyncValue<any>)[] | (() => T) | Field<T> | AsyncValue<T>"}},effect:{defaultValue:null,description:"",name:"effect",required:!0,type:{name:"(value: T, detail: { prev: T; next: T; model: IModel<any>; }) => void"}},fireImmediately:{defaultValue:null,description:"",name:"fireImmediately",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Effect"]={docgenInfo:J.Effect.__docgenInfo,name:"Form.Effect",path:"../xform/src/form.tsx#Form.Effect"})}catch(Se){}try{J.Array.displayName="Form.Array",J.Array.__docgenInfo={description:"",displayName:"Form.Array",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"(input: FormArrayLayoutInput) => ReactElement<any, string | JSXElementConstructor<any>>"}},itemFactory:{defaultValue:null,description:"",name:"itemFactory",required:!1,type:{name:"(arrayModel: SubModel<unknown[]>) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Array"]={docgenInfo:J.Array.__docgenInfo,name:"Form.Array",path:"../xform/src/form.tsx#Form.Array"})}catch(Se){}try{J.Object.displayName="Form.Object",J.Object.__docgenInfo={description:"",displayName:"Form.Object",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Object"]={docgenInfo:J.Object.__docgenInfo,name:"Form.Object",path:"../xform/src/form.tsx#Form.Object"})}catch(Se){}try{J.ModelConsumer.displayName="Form.ModelConsumer",J.ModelConsumer.__docgenInfo={description:"",displayName:"Form.ModelConsumer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ModelConsumer"]={docgenInfo:J.ModelConsumer.__docgenInfo,name:"Form.ModelConsumer",path:"../xform/src/form.tsx#Form.ModelConsumer"})}catch(Se){}try{J.Layout.displayName="Form.Layout",J.Layout.__docgenInfo={description:"",displayName:"Form.Layout",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},labelPosition:{defaultValue:{value:"left"},description:"\u6807\u7b7e\u4f4d\u7f6e\uff0c\u53ef\u9009 'left' \u6216 'top'",name:"labelPosition",required:!1,type:{name:'"top" | "left"'}},labelWidth:{defaultValue:{value:"labelPosition === 'left' ? 120 : 'auto'"},description:"\u6807\u7b7e\u5bbd\u5ea6",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:{value:320},description:"\u63a7\u4ef6\u5bbd\u5ea6",name:"controlWidth",required:!1,type:{name:"string | number"}},formItemGap:{defaultValue:{value:"labelPosition === 'left' ? 12 : 16"},description:"\u4e24\u4e2a form item \u4e4b\u95f4\u7684\u95f4\u8ddd",name:"formItemGap",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Layout"]={docgenInfo:J.Layout.__docgenInfo,name:"Form.Layout",path:"../xform/src/form.tsx#Form.Layout"})}catch(Se){}try{J.ItemGroup.displayName="Form.ItemGroup",J.ItemGroup.__docgenInfo={description:"",displayName:"Form.ItemGroup",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},labelWidth:{defaultValue:null,description:"",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:null,description:"",name:"controlWidth",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ItemGroup"]={docgenInfo:J.ItemGroup.__docgenInfo,name:"Form.ItemGroup",path:"../xform/src/form.tsx#Form.ItemGroup"})}catch(Se){}try{J.ItemView.displayName="Form.ItemView",J.ItemView.__docgenInfo={description:"",displayName:"Form.ItemView",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ReactNode"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ItemView"]={docgenInfo:J.ItemView.__docgenInfo,name:"Form.ItemView",path:"../xform/src/form.tsx#Form.ItemView"})}catch(Se){}try{U.displayName="FormEnvProvider",U.__docgenInfo={description:"",displayName:"FormEnvProvider",props:{onSubmit:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onSubmit",required:!1,type:{name:"(submitValues: any, model: IModel<any>) => void"}},onError:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u51fa\u9519\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onError",required:!1,type:{name:"(errors: any, model: IModel<any>) => void"}},onReset:{defaultValue:null,description:"\u6e05\u7a7a\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Reset /> \u4f7f\u7528",name:"onReset",required:!1,type:{name:"(model: IModel<any>) => void"}},isPreview:{defaultValue:{value:"false"},description:"\u662f\u5426\u4e3a\u9884\u89c8\u6001",name:"isPreview",required:!1,type:{name:"boolean"}},validateOnMount:{defaultValue:{value:"false"},description:"\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:{value:"true"},description:"\u503c\u4fee\u6539\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:{value:"true"},description:"\u7ec4\u4ef6\u5931\u53bb\u7126\u70b9\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnBlur",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#FormEnvProvider"]={docgenInfo:U.__docgenInfo,name:"FormEnvProvider",path:"../xform/src/form.tsx#FormEnvProvider"})}catch(Se){}var Q=n(452),ee=n.n(Q),te=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ne(e){return e.value?"\u662f":"\u5426"}function re(e){return!e}function ae(e){return null==e}function oe(e){return null==e||Array.isArray(e)&&e.every(ae)}function le(e){return e.value}var ie=[];function se(e,t){ie.push(Object.assign({component:e},t))}function ue(e){var t,n;const r=null!==(t=e.statusPropName)&&void 0!==t?t:"status",a=null!==(n=e.valuePropName)&&void 0!==n?n:"value";function s({fallbackValue:t=e.fallbackValue,isEmpty:n=e.isEmpty,renderPreview:s=e.renderPreview,componentProps:u,name:m,field:c,...p}){var f;const y=G(),b=W(),h=function(e,t,n){let r;if(null!=e)r=e;else if("&"===n)r=t._asField();else{if(null==n)throw new Error("<FormItem /> \u5fc5\u987b\u901a\u8fc7 name \u6216 field \u6765\u6307\u5b9a\u5bf9\u5e94\u7684\u6570\u636e\u7d22\u5f15");r=t.getField(n)}return r}(c,y,m),g={fallbackValue:t,isEmpty:n,validateOnChange:b.validateOnChange,validateOnBlur:b.validateOnBlur,validateOnMount:b.validateOnMount,...p};h._useTrack(g),Object(l.useEffect)(()=>{if(g.validateOnMount){h.validate("mount");const e=h.state.cancelValidation;return()=>{null==e||e()}}},[]);const v=h.state.error,O=Object(o.r)(d(h.value,t)),S={...ee()(p,["dataSource","readOnly","disabled"]),...u,[r]:d(null==u?void 0:u[r],d(p[r],v?"error":void 0)),[a]:d(p[a],O),onChange:d(p.onChange,h.handleChange),onBlur:d(p.onBlur,h.handleBlur)};let x;return x=b.isPreview&&s?s(S):e.render?e.render(S):i.a.createElement(e.component,Object.assign({},S)),i.a.createElement(B,{label:p.label,help:p.help,asterisk:null!==(f=p.asterisk)&&void 0!==f?f:p.required,error:v,tip:p.tip,style:p.style,className:I()(p.className,{"form-item-preview":b.isPreview})},x)}return s.displayName="FormItem__"+e.name,Object(v.b)(s)}se(F.Switch,{name:"switch",renderPreview:ne,fallbackValue:!1,isEmpty:re}),se(F.Checkbox,{name:"checkbox",renderPreview:ne,fallbackValue:!1,valuePropName:"checked",isEmpty:re}),se(F.CheckboxGroup,{name:"checkboxGroup",fallbackValue:[],renderPreview:function(e){var t,n=null!==(t=e.value)&&void 0!==t?t:e.defaultValue,r=new F.ListStore(e.dataSource);return n.map((function(e){var t=r.getItem(e);return t?t.label:e})).join("\u3001")},isEmpty:function(e){return null==e||0===e.length}}),se(F.RadioGroup,{name:"radioGroup",fallbackValue:null,renderPreview:function(e){var t,n=null!==(t=e.value)&&void 0!==t?t:e.defaultValue,r=new F.ListStore(e.dataSource).getItem(n);return r?r.label:n},isEmpty:re}),se(F.DatePicker,{name:"datePicker",renderPreview:le,fallbackValue:null,isEmpty:re}),se(F.DateRangePicker,{name:"dateRangePicker",renderPreview:function(e){var t,n=(null!==(t=e.value)&&void 0!==t?t:e.defaultValue)||[];return(n[0]||"-")+" ~ "+(n[1]||"-")},fallbackValue:[],isEmpty:oe}),se(F.TimePicker,{name:"timePicker",renderPreview:le,fallbackValue:"",isEmpty:re}),se(F.FilePicker,{name:"filePicker",renderPreview:function(e){var t,n=(null!==(t=e.value)&&void 0!==t?t:e.defaultValue)||[];return i.a.createElement(F.Flex,{spacing:"s",direction:"column"},n.map((function(e){var t=e.id,n=e.name,r=e.url;return i.a.createElement(F.FlexItem,{key:t,bg:"fill.layer1",px:"m"},i.a.createElement(F.Link,{href:r},n))})))},fallbackValue:[],isEmpty:oe}),se(F.MediaPicker,{name:"mediaPicker",renderPreview:function(e){var t,n=(null!==(t=e.value)&&void 0!==t?t:e.defaultValue)||[];return i.a.createElement(F.Flex,{spacing:"m"},n.map((function(e){var t=e.id,n=e.name,r=e.url,a=Object(F.colors)("fill.layer1")+" url("+r+") center center / 100% no-repeat";return i.a.createElement(F.Box,{key:t,size:"100px",title:n,display:"inline-block",style:{background:a}})})))},fallbackValue:[],isEmpty:oe}),se(F.Input,{name:"input",renderPreview:le,fallbackValue:"",isEmpty:re}),se(F.Textarea,{name:"textarea",renderPreview:le,fallbackValue:"",isEmpty:re}),se(F.NumberInput,{name:"numberInput",renderPreview:le,fallbackValue:null,isEmpty:ae}),se(F.Range,{name:"range",renderPreview:le,fallbackValue:0,isEmpty:ae}),se(F.Select,{name:"select",renderPreview:le,fallbackValue:null,isEmpty:ae}),se(F.SingleSelect,{name:"singleSelect",renderPreview:le,fallbackValue:null,isEmpty:re}),se(F.MultiSelect,{name:"multiSelect",renderPreview:le,fallbackValue:[],isEmpty:oe}),se(F.TreeSelect,{name:"treeSelect",renderPreview:le,fallbackValue:null,isEmpty:oe}),se(F.SingleTreeSelect,{name:"singleTreeSelect",renderPreview:le,fallbackValue:null,isEmpty:re}),se(F.MultiTreeSelect,{name:"multiTreeSelect",renderPreview:le,fallbackValue:[],isEmpty:oe}),se((function(e){var t=e.items,n=e.value,r=e.onChange,a=te(e,["items","value","onChange"]);return i.a.createElement("div",Object.assign({style:{display:"flex",gap:8}},a),t.map((function(e){return i.a.createElement(F.Button,{key:e,type:e===n?"primary":"normal",onClick:function(){return r(e)}},e)})))}),{name:"testButtonGroup",fallbackValue:"",renderPreview:le,isEmpty:re});const me={};for(const xe of ie){const e=ue(xe);if(me[xe.name]=e,xe.aliases)for(const t of xe.aliases)me[t]=e}const ce=ue({name:"notFound",fallbackValue:null,isEmpty:()=>!1,render:({component:e})=>i.a.createElement("div",{style:{border:"1px dashed red",fontSize:14,padding:4,color:"red"}},i.a.createElement("code",null,"<FormItem component='",e,"' />")," \u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7ec4\u4ef6\uff0c\u8bf7\u68c0\u67e5\u7ec4\u4ef6\u540d\u79f0\u662f\u5426\u62fc\u5199\u6b63\u786e")});function de({component:e,...t}){const n=me[e];return null==n?i.a.createElement(ce,Object.assign({},t,{componentProps:{component:e}})):i.a.createElement(n,t)}de.register=e=>{me[e.name]=ue(e)},de.COMPONENT_DICT=de;try{ue.displayName="createFormItem",ue.__docgenInfo={description:"",displayName:"createFormItem",props:{name:{defaultValue:null,description:"\u540d\u79f0",name:"name",required:!0,type:{name:"string"}},component:{defaultValue:null,description:'\u63a7\u4ef6\u5bf9\u5e94\u7684 React \u7ec4\u4ef6\uff0c\u4f8b\u5982 `<FormItem component="select" />` \u5bf9\u5e94 `Select` \u7ec4\u4ef6.',name:"component",required:!1,type:{name:"ComponentType<FormItemComponentProps>"}},render:{defaultValue:null,description:"\u63a7\u4ef6\u6e32\u67d3\u65b9\u6cd5\uff0c\u4e0e component \u53c2\u6570\u4e8c\u9009\u4e00\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8e component",name:"render",required:!1,type:{name:"(arg: FormItemComponentProps) => ReactElement<any, string | JSXElementConstructor<any>>"}},valuePropName:{defaultValue:null,description:"\u7ec4\u4ef6\u503c\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a `'value'`",name:"valuePropName",required:!1,type:{name:"string"}},statusPropName:{defaultValue:null,description:"\u7ec4\u4ef6\u72b6\u6001\u503c\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a `'status'`",name:"statusPropName",required:!1,type:{name:"string"}},renderPreview:{defaultValue:null,description:"\u9884\u89c8\u6001\u4e0b\u7ec4\u4ef6\u7684\u6e32\u67d3\u65b9\u6cd5\u3002\u5982\u679c\u4e0d\u8bbe\u7f6e\u8be5\u65b9\u6cd5\uff0c\u9884\u89c8\u6001\u4e0b\u5c06\u4f7f\u7528 render/component \u4f5c\u4e3a\u540e\u5907\u65b9\u6848.",name:"renderPreview",required:!1,type:{name:"(props: FormItemComponentProps) => ReactNode"}},fallbackValue:{defaultValue:null,description:"\u5f53\u6a21\u578b\u4e2d\u7684\u5b57\u6bb5\u503c\u4e3a\u7a7a\uff08undefined\uff09\u65f6\uff0c\u6e32\u67d3\u63a7\u4ef6\u6240\u4f7f\u7528\u7684\u503c",name:"fallbackValue",required:!0,type:{name:"any"}},isEmpty:{defaultValue:null,description:"\u7ec4\u4ef6\u7c7b\u578b\u9ed8\u8ba4\u7684\u7a7a\u503c\u5224\u65ad\u65b9\u6cd5",name:"isEmpty",required:!0,type:{name:"(value: any) => boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-item.tsx#createFormItem"]={docgenInfo:ue.__docgenInfo,name:"createFormItem",path:"../xform/src/form-item.tsx#createFormItem"})}catch(Se){}try{de.displayName="FormItem",de.__docgenInfo={description:"",displayName:"FormItem",props:{component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"string"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!1,type:{name:"any"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},field:{defaultValue:null,description:"",name:"field",required:!1,type:{name:"Field<unknown>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(nextValue: any) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"() => void"}},renderPreview:{defaultValue:null,description:"",name:"renderPreview",required:!1,type:{name:"(props: FormItemProps) => ReactNode"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},fallbackValue:{defaultValue:null,description:"",name:"fallbackValue",required:!1,type:{name:"any"}},isEmpty:{defaultValue:null,description:"",name:"isEmpty",required:!1,type:{name:"(value: any) => boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},requiredMessage:{defaultValue:null,description:"",name:"requiredMessage",required:!1,type:{name:"string"}},validate:{defaultValue:null,description:"",name:"validate",required:!1,type:{name:"(value: any, field: Field<any>, trigger: FieldValidateTrigger) => string | Promise<any>"}},validateOnMount:{defaultValue:null,description:"",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:null,description:"",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:null,description:"",name:"validateOnBlur",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-item.tsx#FormItem"]={docgenInfo:de.__docgenInfo,name:"FormItem",path:"../xform/src/form-item.tsx#FormItem"})}catch(Se){}try{de.COMPONENT_DICT.displayName="FormItem.COMPONENT_DICT",de.COMPONENT_DICT.__docgenInfo={description:"",displayName:"FormItem.COMPONENT_DICT",props:{component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"string"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!1,type:{name:"any"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},field:{defaultValue:null,description:"",name:"field",required:!1,type:{name:"Field<unknown>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(nextValue: any) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"() => void"}},renderPreview:{defaultValue:null,description:"",name:"renderPreview",required:!1,type:{name:"(props: FormItemProps) => ReactNode"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},fallbackValue:{defaultValue:null,description:"",name:"fallbackValue",required:!1,type:{name:"any"}},isEmpty:{defaultValue:null,description:"",name:"isEmpty",required:!1,type:{name:"(value: any) => boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},requiredMessage:{defaultValue:null,description:"",name:"requiredMessage",required:!1,type:{name:"string"}},validate:{defaultValue:null,description:"",name:"validate",required:!1,type:{name:"(value: any, field: Field<any>, trigger: FieldValidateTrigger) => string | Promise<any>"}},validateOnMount:{defaultValue:null,description:"",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:null,description:"",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:null,description:"",name:"validateOnBlur",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-item.tsx#FormItem.COMPONENT_DICT"]={docgenInfo:de.COMPONENT_DICT.__docgenInfo,name:"FormItem.COMPONENT_DICT",path:"../xform/src/form-item.tsx#FormItem.COMPONENT_DICT"})}catch(Se){}function pe(e){e.subModels.forEach((e,t)=>{e.name=String(t)})}function fe(e,t,n){if(null==e)return;const[r]=e.splice(t,1);e.splice(n,0,r)}function ye(e,t,n){if(null==e)return;const r=e[t];e[t]=e[n],e[n]=r}const be={append:Object(o.c)((e,t)=>{var n;null==e.values&&(e.values=[]),e.values.push(null!==(n=null==t?void 0:t(e))&&void 0!==n?n:{})}),delete:Object(o.c)((e,t)=>{a()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),e.values.splice(t,1),e._proxy.subModels.splice(t,1),pe(e._proxy)}),moveUp:Object(o.c)((e,t)=>{0!==t&&(a()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),ye(e.values,t,t-1),ye(e._proxy.subModels,t,t-1),pe(e._proxy))}),moveDown:Object(o.c)((e,t)=>{t!==e.values.length-1&&(a()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),ye(e.values,t,t+1),ye(e._proxy.subModels,t,t+1),pe(e._proxy))}),clear:Object(o.c)(e=>{null!=e.values&&0!==e.values.length&&(a()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),e.values=[],e._proxy.subModels.length=0)}),dragAndDrop:Object(o.c)((e,t,n)=>{a()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),fe(e.values,t,n),fe(e._proxy.subModels,t,n),pe(e._proxy)}),renderArrayItem:(e,t,n)=>i.a.createElement(J.Object,{name:String(t)},n),getKey:(e,t)=>e.getSubModel(t).id},he=e=>{const t=[];for(let n=0;n<e;n++)t.push(n);return t},ge=({title:e,showItemCount:t,showItemOrder:n,style:r,className:a}={})=>{const l={position:"absolute",top:8,right:8,display:"flex",gap:8,zIndex:20};return s=>{const{arrayModel:u,itemContent:m,itemCount:c,itemFactory:d}=s;return i.a.createElement("div",{className:I()("xform-array",a),style:{marginTop:16,marginBottom:8,...r}},(e||t)&&i.a.createElement("h2",null,null!=e?e:"\u5217\u8868"," ",t&&`(${c})`),0===c&&i.a.createElement("div",{style:{border:"1px dashed #aaa",marginTop:16,padding:8,position:"relative",fontSize:20}},"\u7a7a\u7a7a\u5982\u4e5f~~"),i.a.createElement("div",{className:"xform-array-items"},he(c).map(e=>i.a.createElement("div",{key:be.getKey(u,e),className:"xform-array-item",style:{border:"1px dashed #aaa",marginTop:16,padding:8,position:"relative"}},n&&i.a.createElement("code",{style:{fontSize:16}},u.path.join("."),"#",e),i.a.createElement(ve,Object.assign({},s,{itemIndex:e,style:l})),be.renderArrayItem(u,e,m)))),i.a.createElement("div",{style:{marginTop:12}},i.a.createElement(F.Button,{onClick:Object(o.c)(()=>{be.append(u,d)})},"\u6dfb\u52a0\u4e00\u9879")))}},ve=Object(v.b)(({arrayModel:e,itemCount:t,itemIndex:n,style:r})=>i.a.createElement("div",{style:r},i.a.createElement(F.Button,{size:"small",onClick:Object(o.c)(()=>{be.delete(e,n)})},"\u5220\u9664"),i.a.createElement(F.Button,{size:"small",disabled:0===n,onClick:Object(o.c)(()=>{be.moveUp(e,n)})},"\u4e0a\u79fb"),i.a.createElement(F.Button,{size:"small",disabled:n===t-1,onClick:Object(o.c)(()=>{be.moveDown(e,n)})},"\u4e0b\u79fb"))),Oe=({defaultColumnWidth:e,orderColumn:t,operationColumn:n,className:r,style:a}={})=>{const o={display:"flex",gap:0};return l=>{const{arrayModel:s,itemContent:u,itemCount:m,itemFactory:c}=l,d=i.a.Children.toArray(u).filter(e=>e.type===de).map(e=>({name:"string"==typeof e.props.label?e.props.label:null,title:e.props.label,...e.props["x-table-column"],render:(t,n)=>i.a.createElement(J.Object,{name:String(n.itemIndex)},i.a.cloneElement(e,{className:I()(e.className,"minimal")}))}));return null!=t&&d.unshift({name:"#",...t,getValue:e=>e.itemIndex+1}),null!=n&&d.push({name:"",...n,render:(e,t)=>i.a.createElement(ve,Object.assign({},l,{itemIndex:t.itemIndex,style:o}))}),i.a.createElement("div",{style:a,className:r},i.a.createElement(F.BaseTable,{className:"bordered",primaryKey:"rowKey",defaultColumnWidth:e,dataSource:he(m).map(e=>({rowKey:be.getKey(s,e),itemIndex:e})),columns:d,style:{"--cell-padding":"8px"}}),i.a.createElement("div",{style:{padding:4,height:48,display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"}},i.a.createElement(F.Button,{type:"primary",onClick:()=>{be.append(s,c)}},"\u6dfb\u52a0\u4e00\u884c")))}};try{ge.displayName="arrayCard",ge.__docgenInfo={description:"",displayName:"arrayCard",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showItemCount:{defaultValue:null,description:"",name:"showItemCount",required:!1,type:{name:"boolean"}},showItemOrder:{defaultValue:null,description:"",name:"showItemOrder",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/array-layouts.tsx#arrayCard"]={docgenInfo:ge.__docgenInfo,name:"arrayCard",path:"../xform/src/array-layouts.tsx#arrayCard"})}catch(Se){}try{Oe.displayName="arrayTable",Oe.__docgenInfo={description:"",displayName:"arrayTable",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/array-layouts.tsx#arrayTable"]={docgenInfo:Oe.__docgenInfo,name:"arrayTable",path:"../xform/src/array-layouts.tsx#arrayTable"})}catch(Se){}},380:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(3),a=n(166),o=n(202),l=n(170),i=n(179),s=n(0),u=n.n(s);function m({children:e,fallback:t}){return"undefined"==typeof document||null==e?null!=t?t:null:u.a.createElement(u.a.Fragment,null,e())}const c={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/helpers.tsx",loc:{start:{line:8,column:0},end:{line:20,column:1}},name:"BrowserOnly",value:m,source:" function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }function BrowserOnly({\n  children,\n  fallback,\n}\n\n\n) {\n  if (typeof document === 'undefined' || children == null) {\n    return _nullishCoalesce(fallback, () => ( null));\n  }\n\n  return <>{children()}</>;\n}",deps:()=>[],provides:{React:u.a}},d=e=>u.a.createElement(m,null,()=>{const t=n(519).default;return u.a.createElement(t,Object(r.a)({style:{marginTop:8,fontSize:12,...e.style}},e))}),p={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/helpers.tsx",loc:{start:{line:22,column:7},end:{line:31,column:2}},name:"BrowserOnlyReactJson",value:d,source:"const BrowserOnlyReactJson = (props) => {\n  return (\n    <BrowserOnly>\n      {() => {\n        const ReactJson = require('react-json-view').default;\n        return <ReactJson style={{ marginTop: 8, fontSize: 12, ...props.style }} {...props} />;\n      }}\n    </BrowserOnly>\n  );\n};",deps:()=>[c],provides:{}};d.__doc_info=p,d.__inner_source="(props) => {\n  return (\n    <BrowserOnly>\n      {() => {\n        const ReactJson = require('react-json-view').default;\n        return <ReactJson style={{ marginTop: 8, fontSize: 12, ...props.style }} {...props} />;\n      }}\n    </BrowserOnly>\n  );\n}";const f=Object(i.b)(({style:e,defaultShow:t})=>{var n;const r=Object(o.j)(),i=Object(l.r)(r.values),s=null!==(n=r.state.showReactJson)&&void 0!==n?n:t;return u.a.createElement("div",{style:e},u.a.createElement("div",null,u.a.createElement(a.Checkbox,{checked:Boolean(s),onChange:Object(l.c)(e=>{r.state.showReactJson=e})},"\u663e\u793a JSON")),s&&u.a.createElement(d,{name:"\u8868\u5355\u72b6\u6001\u9884\u89c8",src:i}))});i.b,u.a,o.j,l.r,a.Checkbox,l.c;try{d.displayName="BrowserOnlyReactJson",d.__docgenInfo={description:"",displayName:"BrowserOnlyReactJson",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../story/src/xform/helpers.tsx#BrowserOnlyReactJson"]={docgenInfo:d.__docgenInfo,name:"BrowserOnlyReactJson",path:"../story/src/xform/helpers.tsx#BrowserOnlyReactJson"})}catch(y){}try{f.displayName="ValuePreview",f.__docgenInfo={description:"",displayName:"ValuePreview",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../story/src/xform/helpers.tsx#ValuePreview"]={docgenInfo:f.__docgenInfo,name:"ValuePreview",path:"../story/src/xform/helpers.tsx#ValuePreview"})}catch(y){}},478:function(e,t,n){"use strict";function r(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var l=e.apply(t,n);function i(e){r(l,a,o,i,s,"next",e)}function s(e){r(l,a,o,i,s,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return a}))},479:function(e,t,n){e.exports=n(517)},516:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return G}));var r=n(478),a=n(3),o=n(8),l=n(479),i=n.n(l),s=n(166),u=n(202),m=n(179),c=n(165),d=n.n(c),p=n(0),f=n.n(p),y=n(380);function b(e){var t=e.name,n=e.label,r=Object(o.a)(e,["name","label"]);return f.a.createElement("div",Object(a.a)({},r,{style:Object.assign({padding:8,border:"1px dashed #aaa"},r.style)}),f.a.createElement("p",{style:{fontWeight:"bold",margin:"0 0 8px 8px"}},n),f.a.createElement(u.a.Object,{name:t},f.a.createElement(u.c,{component:"input",name:"name",label:"\u59d3\u540d",required:!0}),f.a.createElement(u.c,{component:"input",name:"age",label:"\u5e74\u9f84",required:!0,componentProps:{style:{width:100}}}),f.a.createElement(u.c,{component:"testButtonGroup",name:"gender",required:!0,label:"\u6027\u522b",componentProps:{items:["\u7537","\u5973"]}}),f.a.createElement(u.b,null,f.a.createElement(u.c,{component:"input",name:"contact",label:"\u8054\u7cfb\u65b9\u5f0f",required:!0,componentProps:{style:{width:200}}}),f.a.createElement(u.c,{component:"singleSelect",name:"address.city",label:"\u5c45\u4f4f\u57ce\u5e02",required:!0,componentProps:{dataSource:"\u676d\u5dde\uff0c\u4e0a\u6d77\uff0c\u5317\u4eac\uff0c\u6df1\u5733\uff0c\u5e7f\u5dde\uff0c\u6b66\u6c49\uff0c\u6210\u90fd".split("\uff0c")}})),f.a.createElement(u.c,{component:"input",name:"address.detail",label:"\u8be6\u7ec6\u5730\u5740"})))}var h={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:10,column:0},end:{line:48,column:1}},name:"PersonForm",value:b,source:'function PersonForm({\n  name,\n  label,\n  ...others\n}) {\n  return (\n    <div {...others} style={{ padding: 8, border: \'1px dashed #aaa\', ...others.style }}>\n      <p style={{ fontWeight: \'bold\', margin: \'0 0 8px 8px\' }}>{label}</p>\n      <Form.Object name={name}>\n        <FormItem component="input" name="name" label="\u59d3\u540d" required />\n        <FormItem component="input" name="age" label="\u5e74\u9f84" required componentProps={{ style: { width: 100 } }} />\n        <FormItem\n          component="testButtonGroup"\n          name="gender"\n          required\n          label="\u6027\u522b"\n          componentProps={{ items: [\'\u7537\', \'\u5973\'] }}\n        />\n        <FormEnvProvider>\n          <FormItem\n            component="input"\n            name="contact"\n            label="\u8054\u7cfb\u65b9\u5f0f"\n            required\n            componentProps={{ style: { width: 200 } }}\n          />\n          <FormItem\n            component="singleSelect"\n            name="address.city"\n            label="\u5c45\u4f4f\u57ce\u5e02"\n            required\n            componentProps={{ dataSource: \'\u676d\u5dde\uff0c\u4e0a\u6d77\uff0c\u5317\u4eac\uff0c\u6df1\u5733\uff0c\u5e7f\u5dde\uff0c\u6b66\u6c49\uff0c\u6210\u90fd\'.split(\'\uff0c\') }}\n          />\n        </FormEnvProvider>\n        <FormItem component="input" name="address.detail" label="\u8be6\u7ec6\u5730\u5740" />\n      </Form.Object>\n    </div>\n  );\n}',deps:function(){return[]},provides:{React:f.a,Form:u.a,FormItem:u.c,FormEnvProvider:u.b}};function g(){return f.a.createElement(u.a,{defaultValue:{me:{name:"rex design",gender:"\u7537",age:"1",contact:"alibaba.github.io/rex-design/",address:{city:"\u676d\u5dde"}}}},f.a.createElement("h4",null,"\u5bb6\u5ead\u4fe1\u606f\u767b\u8bb0\u8868"),f.a.createElement("div",{style:{display:"grid",grid:"auto-flow / repeat(auto-fill, minmax(360px, auto))",gap:8}},f.a.createElement(b,{name:"me",label:"\u4e2a\u4eba\u4fe1\u606f"}),f.a.createElement(b,{name:"father",label:"\u7236\u4eb2"}),f.a.createElement(b,{name:"mother",label:"\u6bcd\u4eb2"}),f.a.createElement(b,{name:"urgency",label:"\u5176\u4ed6\u7d27\u6025\u8054\u7cfb\u4eba"})),f.a.createElement(y.b,null))}var v={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:50,column:7},end:{line:74,column:1}},name:"ObjectExample",value:g,source:'function ObjectExample() {\n  return (\n    <Form\n      defaultValue={{\n        me: {\n          name: \'rex design\',\n          gender: \'\u7537\',\n          age: \'1\',\n          contact: \'alibaba.github.io/rex-design/\',\n          address: { city: \'\u676d\u5dde\' },\n        },\n      }}\n    >\n      <h4>\u5bb6\u5ead\u4fe1\u606f\u767b\u8bb0\u8868</h4>\n      <div style={{ display: \'grid\', grid: \'auto-flow / repeat(auto-fill, minmax(360px, auto))\', gap: 8 }}>\n        <PersonForm name="me" label="\u4e2a\u4eba\u4fe1\u606f" />\n        <PersonForm name="father" label="\u7236\u4eb2" />\n        <PersonForm name="mother" label="\u6bcd\u4eb2" />\n        <PersonForm name="urgency" label="\u5176\u4ed6\u7d27\u6025\u8054\u7cfb\u4eba" />\n      </div>\n\n      <ValuePreview />\n    </Form>\n  );\n}',deps:function(){return[h]},provides:{Form:u.a,ValuePreview:y.b}};g.__doc_info=v,g.__inner_source='function ObjectExample() {\n  return (\n    <Form\n      defaultValue={{\n        me: {\n          name: \'rex design\',\n          gender: \'\u7537\',\n          age: \'1\',\n          contact: \'alibaba.github.io/rex-design/\',\n          address: { city: \'\u676d\u5dde\' },\n        },\n      }}\n    >\n      <h4>\u5bb6\u5ead\u4fe1\u606f\u767b\u8bb0\u8868</h4>\n      <div style={{ display: \'grid\', grid: \'auto-flow / repeat(auto-fill, minmax(360px, auto))\', gap: 8 }}>\n        <PersonForm name="me" label="\u4e2a\u4eba\u4fe1\u606f" />\n        <PersonForm name="father" label="\u7236\u4eb2" />\n        <PersonForm name="mother" label="\u6bcd\u4eb2" />\n        <PersonForm name="urgency" label="\u5176\u4ed6\u7d27\u6025\u8054\u7cfb\u4eba" />\n      </div>\n\n      <ValuePreview />\n    </Form>\n  );\n}';var O=["\u97e9\u90fd\u8863\u820d","ZARA","\u4f18\u8863\u5e93","\u592a\u5e73\u9e1f"],S={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:76,column:0},end:{line:76,column:46}},name:"BRANDS",value:O,source:"const BRANDS = ['\u97e9\u90fd\u8863\u820d', 'ZARA', '\u4f18\u8863\u5e93', '\u592a\u5e73\u9e1f'];",deps:function(){return[]},provides:{}},x="\u901a\u52e4\uff0c\u767e\u642d\uff0c\u65f6\u5c1a\uff0c\u4f11\u95f2\uff0c\u539f\u521b\u8bbe\u8ba1\uff0c\u590d\u53e4\uff0c\u6c11\u65cf\u98ce\uff0c\u4f18\u96c5\uff0c\u6027\u611f\uff0c\u6734\u5b9e\uff0c\u5c45\u5bb6".split("\uff0c"),j={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:77,column:0},end:{line:77,column:64}},name:"STYLES",value:x,source:"const STYLES = '\u901a\u52e4\uff0c\u767e\u642d\uff0c\u65f6\u5c1a\uff0c\u4f11\u95f2\uff0c\u539f\u521b\u8bbe\u8ba1\uff0c\u590d\u53e4\uff0c\u6c11\u65cf\u98ce\uff0c\u4f18\u96c5\uff0c\u6027\u611f\uff0c\u6734\u5b9e\uff0c\u5c45\u5bb6'.split('\uff0c');",deps:function(){return[]},provides:{}};function F(e){s.Toaster.show({placement:"top-right",content:f.a.createElement("div",null,f.a.createElement("p",{style:{marginBottom:4,color:"--rex-colors-green-60"}},"\u6b63\u5728\u63d0\u4ea4..."),f.a.createElement("span",{style:{fontFamily:"monospace"}},JSON.stringify(e,null,2)))})}var E={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:79,column:0},end:{line:89,column:1}},name:"showSubmitToast",value:F,source:"function showSubmitToast(values) {\n  Toaster.show({\n    placement: 'top-right',\n    content: (\n      <div>\n        <p style={{ marginBottom: 4, color: '--rex-colors-green-60' }}>\u6b63\u5728\u63d0\u4ea4...</p>\n        <span style={{ fontFamily: 'monospace' }}>{JSON.stringify(values, null, 2)}</span>\n      </div>\n    ),\n  });\n}",deps:function(){return[]},provides:{Toaster:s.Toaster}};function _(e){s.Toaster.show({placement:"top-right",content:f.a.createElement("div",null,f.a.createElement("p",{style:{marginBottom:4,color:"var(--rex-colors-red-60)"}},"\u8868\u5355\u4e2d\u5305\u542b\u9519\u8bef\uff01"),f.a.createElement("span",{style:{fontFamily:"monospace"}},JSON.stringify(e,null,2)))})}var I={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:91,column:0},end:{line:101,column:1}},name:"showErrorToast",value:_,source:"function showErrorToast(errors) {\n  Toaster.show({\n    placement: 'top-right',\n    content: (\n      <div>\n        <p style={{ marginBottom: 4, color: 'var(--rex-colors-red-60)' }}>\u8868\u5355\u4e2d\u5305\u542b\u9519\u8bef\uff01</p>\n        <span style={{ fontFamily: 'monospace' }}>{JSON.stringify(errors, null, 2)}</span>\n      </div>\n    ),\n  });\n}",deps:function(){return[]},provides:{Toaster:s.Toaster}};function V(){return f.a.createElement(u.a,{defaultValue:{tickets:[{name:"feichao",date:d()().format("YYYY-MM-DD")}]},onSubmit:function(e){console.log("onSubmit:",e),F(e)},onError:function(e){console.log("onError:",e),_(e)},onReset:function(e){e.values={tickets:[{name:"feichao",date:d()().format("YYYY-MM-DD")}]}}},f.a.createElement("h4",null,"\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u5217\u8868"),f.a.createElement(u.a.Array,{name:"tickets",layout:Object(u.e)({showItemOrder:!0})},f.a.createElement(u.c,{component:"input",label:"\u5ba2\u6237\u540d\u79f0",name:"name",required:!0,componentProps:{style:{maxWidth:200}}}),f.a.createElement(u.c,{component:"datePicker",label:"\u8d2d\u4e70\u65e5\u671f",name:"date",required:!0}),f.a.createElement(u.c,{component:"testButtonGroup",label:"\u54c1\u724c",name:"brand",componentProps:{items:O},required:!0}),f.a.createElement(u.c,{component:"singleSelect",label:"\u98ce\u683c",name:"style",required:!0,componentProps:{dataSource:x,style:{maxWidth:200}}}),f.a.createElement(u.c,{component:"testButtonGroup",name:"satisfaction",label:"\u5ba2\u6237\u6ee1\u610f\u5ea6",required:!0,componentProps:{items:"\u975e\u5e38\u6ee1\u610f\uff0c\u6ee1\u610f\uff0c\u57fa\u672c\u6ee1\u610f\uff0c\u4e0d\u6ee1\u610f\uff0c\u975e\u5e38\u4e0d\u6ee1\u610f".split("\uff0c")}}),f.a.createElement(u.c,{component:"input",label:"\u5ba2\u6237\u8054\u7cfb\u65b9\u5f0f",name:"contact",componentProps:{style:{maxWidth:200}}}),f.a.createElement(u.c,{component:"input",label:"\u5ba2\u6237\u8054\u7cfb\u5730\u5740",name:"address"})),f.a.createElement(s.Box,{mt:"m"},f.a.createElement(u.a.Submit,null),f.a.createElement(u.a.Reset,null)),f.a.createElement(y.b,null))}var C={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:103,column:7},end:{line:156,column:1}},name:"ArrayExample",value:V,source:'function ArrayExample() {\n  return (\n    <Form\n      defaultValue={{ tickets: [{ name: \'feichao\', date: dayjs().format(\'YYYY-MM-DD\') }] }}\n      onSubmit={(values) => {\n        console.log(\'onSubmit:\', values);\n        showSubmitToast(values);\n      }}\n      onError={(errors) => {\n        console.log(\'onError:\', errors);\n        showErrorToast(errors);\n      }}\n      onReset={(model) => {\n        model.values = { tickets: [{ name: \'feichao\', date: dayjs().format(\'YYYY-MM-DD\') }] };\n      }}\n    >\n      <h4>\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u5217\u8868</h4>\n      <Form.Array name="tickets" layout={arrayCard({ showItemOrder: true })}>\n        <FormItem\n          component="input"\n          label="\u5ba2\u6237\u540d\u79f0"\n          name="name"\n          required\n          componentProps={{ style: { maxWidth: 200 } }}\n        />\n        <FormItem component="datePicker" label="\u8d2d\u4e70\u65e5\u671f" name="date" required />\n        <FormItem component="testButtonGroup" label="\u54c1\u724c" name="brand" componentProps={{ items: BRANDS }} required />\n        <FormItem\n          component="singleSelect"\n          label="\u98ce\u683c"\n          name="style"\n          required\n          componentProps={{ dataSource: STYLES, style: { maxWidth: 200 } }}\n        />\n        <FormItem\n          component="testButtonGroup"\n          name="satisfaction"\n          label="\u5ba2\u6237\u6ee1\u610f\u5ea6"\n          required\n          componentProps={{ items: \'\u975e\u5e38\u6ee1\u610f\uff0c\u6ee1\u610f\uff0c\u57fa\u672c\u6ee1\u610f\uff0c\u4e0d\u6ee1\u610f\uff0c\u975e\u5e38\u4e0d\u6ee1\u610f\'.split(\'\uff0c\') }}\n        />\n        <FormItem component="input" label="\u5ba2\u6237\u8054\u7cfb\u65b9\u5f0f" name="contact" componentProps={{ style: { maxWidth: 200 } }} />\n        <FormItem component="input" label="\u5ba2\u6237\u8054\u7cfb\u5730\u5740" name="address" />\n      </Form.Array>\n\n      <Box mt="m">\n        <Form.Submit />\n        <Form.Reset />\n      </Box>\n\n      <ValuePreview />\n    </Form>\n  );\n}',deps:function(){return[E,I,S,j]},provides:{Form:u.a,dayjs:d.a,arrayCard:u.e,FormItem:u.c,Box:s.Box,ValuePreview:y.b}};function w(){return f.a.createElement(u.a,{defaultValue:{texts:[]}},f.a.createElement(u.a.Array,{name:"texts",layout:Object(u.e)({showItemOrder:!0}),itemFactory:function(){return""}},f.a.createElement(u.c,{component:"input",label:"\u59d3\u540d",name:"&",componentProps:{placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57"}})),f.a.createElement(y.b,null))}V.__doc_info=C,V.__inner_source='function ArrayExample() {\n  return (\n    <Form\n      defaultValue={{ tickets: [{ name: \'feichao\', date: dayjs().format(\'YYYY-MM-DD\') }] }}\n      onSubmit={(values) => {\n        console.log(\'onSubmit:\', values);\n        showSubmitToast(values);\n      }}\n      onError={(errors) => {\n        console.log(\'onError:\', errors);\n        showErrorToast(errors);\n      }}\n      onReset={(model) => {\n        model.values = { tickets: [{ name: \'feichao\', date: dayjs().format(\'YYYY-MM-DD\') }] };\n      }}\n    >\n      <h4>\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u5217\u8868</h4>\n      <Form.Array name="tickets" layout={arrayCard({ showItemOrder: true })}>\n        <FormItem\n          component="input"\n          label="\u5ba2\u6237\u540d\u79f0"\n          name="name"\n          required\n          componentProps={{ style: { maxWidth: 200 } }}\n        />\n        <FormItem component="datePicker" label="\u8d2d\u4e70\u65e5\u671f" name="date" required />\n        <FormItem component="testButtonGroup" label="\u54c1\u724c" name="brand" componentProps={{ items: BRANDS }} required />\n        <FormItem\n          component="singleSelect"\n          label="\u98ce\u683c"\n          name="style"\n          required\n          componentProps={{ dataSource: STYLES, style: { maxWidth: 200 } }}\n        />\n        <FormItem\n          component="testButtonGroup"\n          name="satisfaction"\n          label="\u5ba2\u6237\u6ee1\u610f\u5ea6"\n          required\n          componentProps={{ items: \'\u975e\u5e38\u6ee1\u610f\uff0c\u6ee1\u610f\uff0c\u57fa\u672c\u6ee1\u610f\uff0c\u4e0d\u6ee1\u610f\uff0c\u975e\u5e38\u4e0d\u6ee1\u610f\'.split(\'\uff0c\') }}\n        />\n        <FormItem component="input" label="\u5ba2\u6237\u8054\u7cfb\u65b9\u5f0f" name="contact" componentProps={{ style: { maxWidth: 200 } }} />\n        <FormItem component="input" label="\u5ba2\u6237\u8054\u7cfb\u5730\u5740" name="address" />\n      </Form.Array>\n\n      <Box mt="m">\n        <Form.Submit />\n        <Form.Reset />\n      </Box>\n\n      <ValuePreview />\n    </Form>\n  );\n}';var N={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:158,column:7},end:{line:167,column:1}},name:"ArrayOfString",value:w,source:'function ArrayOfString() {\n  return (\n    <Form defaultValue={{ texts: [] }}>\n      <Form.Array name="texts" layout={arrayCard({ showItemOrder: true })} itemFactory={() => \'\'}>\n        <FormItem component="input" label="\u59d3\u540d" name="&" componentProps={{ placeholder: \'\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57\' }} />\n      </Form.Array>\n      <ValuePreview />\n    </Form>\n  );\n}',deps:function(){return[]},provides:{Form:u.a,arrayCard:u.e,FormItem:u.c,ValuePreview:y.b}};w.__doc_info=N,w.__inner_source='function ArrayOfString() {\n  return (\n    <Form defaultValue={{ texts: [] }}>\n      <Form.Array name="texts" layout={arrayCard({ showItemOrder: true })} itemFactory={() => \'\'}>\n        <FormItem component="input" label="\u59d3\u540d" name="&" componentProps={{ placeholder: \'\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57\' }} />\n      </Form.Array>\n      <ValuePreview />\n    </Form>\n  );\n}';var A=[{prov:"\u6d59\u6c5f",cities:"\u676d\u5dde\u3001\u7ecd\u5174\u3001\u5b81\u6ce2\u3001\u5609\u5174\u3001\u5176\u4ed6".split("\u3001")},{prov:"\u6c5f\u82cf",cities:"\u5357\u4eac\u3001\u5e38\u5dde\u3001\u9547\u6c5f\u3001\u82cf\u5dde\u3001\u5176\u4ed6".split("\u3001")},{prov:"\u798f\u5efa",cities:"\u53a6\u95e8\u3001\u798f\u5dde\u3001\u8386\u7530\u3001\u4e09\u660e\u3001\u5176\u4ed6".split("\u3001")}],q={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:169,column:0},end:{line:173,column:2}},name:"ALL_CITIES",value:A,source:"const ALL_CITIES = [\n  { prov: '\u6d59\u6c5f', cities: '\u676d\u5dde\u3001\u7ecd\u5174\u3001\u5b81\u6ce2\u3001\u5609\u5174\u3001\u5176\u4ed6'.split('\u3001') },\n  { prov: '\u6c5f\u82cf', cities: '\u5357\u4eac\u3001\u5e38\u5dde\u3001\u9547\u6c5f\u3001\u82cf\u5dde\u3001\u5176\u4ed6'.split('\u3001') },\n  { prov: '\u798f\u5efa', cities: '\u53a6\u95e8\u3001\u798f\u5dde\u3001\u8386\u7530\u3001\u4e09\u660e\u3001\u5176\u4ed6'.split('\u3001') },\n];",deps:function(){return[]},provides:{}},T=function(e){return new Promise((function(t){setTimeout(t,e)}))},k={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:175,column:0},end:{line:178,column:5}},name:"delay",value:T,source:"const delay = (ms) =>\n  new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });",deps:function(){return[]},provides:{}},P=new u.d({prov:"\u6d59\u6c5f",cities:[],districts:[]}),R={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:180,column:0},end:{line:184,column:3}},name:"model3",value:P,source:"const model3 = new FormModel({\n  prov: '\u6d59\u6c5f',\n  cities: [] ,\n  districts: [] ,\n});",deps:function(){return[]},provides:{FormModel:u.d}},M=Object(u.h)(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.getValue("prov"),e.next=3,T(1e3);case 3:return e.abrupt("return",A.find((function(e){return e.prov===t})).cities);case 4:case"end":return e.stop()}}),e)}))),[]),B={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:186,column:0},end:{line:193,column:7}},name:"cityDataSource$",value:M,source:"const cityDataSource$ = createAsyncValue(async () => {\n  // \u4f9d\u8d56\u6536\u96c6\u9700\u8981\u53d1\u751f\u5728\u540c\u6b65\u4ee3\u7801\u5757\u4e2d\n  const prov = model3.getValue('prov');\n\n  // \u6839\u636e\u7701\u4efd\u62c9\u53d6\u57ce\u5e02\u5217\u8868\uff0c 1000ms \u5ef6\u8fdf\u7528\u4e8e\u6a21\u62df\u5b9e\u9645\u60c5\u51b5\n  await delay(1000);\n  return ALL_CITIES.find((item) => item.prov === prov).cities;\n}, []);",deps:function(){return[R,k,q]},provides:{createAsyncValue:u.h}},L=Object(u.h)(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.getValue("cities"),e.next=3,T(1e3);case 3:return e.abrupt("return",t.flatMap((function(e){return[e+"_001\u533a",e+"_002\u533a",e+"_003\u533a"]})));case 4:case"end":return e.stop()}}),e)}))),[]),Y={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:195,column:0},end:{line:202,column:7}},name:"districtDataSource$",value:L,source:"const districtDataSource$ = createAsyncValue(async () => {\n  // \u4f9d\u8d56\u6536\u96c6\u9700\u8981\u53d1\u751f\u5728\u540c\u6b65\u4ee3\u7801\u5757\u4e2d\n  const cities = model3.getValue('cities');\n\n  // \u6839\u636e\u7701\u4efd\u62c9\u53d6\u57ce\u5e02\u5217\u8868\uff0c 1000ms \u5ef6\u8fdf\u7528\u4e8e\u6a21\u62df\u5b9e\u9645\u60c5\u51b5\n  await delay(1000);\n  return cities.flatMap((city) => [`${city}_001\u533a`, `${city}_002\u533a`, `${city}_003\u533a`]);\n}, []);",deps:function(){return[R,k]},provides:{createAsyncValue:u.h}},K=Object(m.b)((function(){var e=P.getField("prov"),t=P.getField("cities"),n=P.getField("districts");return f.a.createElement(u.a,{model:P},f.a.createElement(u.c,{component:"singleSelect",label:"\u7701\u4efd(\u5355\u9009)",name:"prov",componentProps:{dataSource:A.map((function(e){return e.prov}))}}),f.a.createElement(u.c,{component:"multiSelect",label:"\u57ce\u5e02(\u591a\u9009)",name:"cities",help:"loading"===M.status?f.a.createElement("span",{style:{color:"red"}},"loading..."):void 0,componentProps:{hasClear:!0,dataSource:M.current}}),f.a.createElement(u.c,{component:"multiSelect",label:"\u884c\u653f\u533a(\u591a\u9009)",name:"districts",help:"loading"===L.status?f.a.createElement("span",{style:{color:"red"}},"loading..."):void 0,componentProps:{hasClear:!0,dataSource:L.current}}),f.a.createElement(u.a.Effect,{watch:e,effect:function(){t.value=[]}}),f.a.createElement(u.a.Effect,{watch:M,effect:function(e){t.value=e.slice(0,1)}}),f.a.createElement(u.a.Effect,{watch:t,effect:function(e){n.value=n.value.filter((function(t){return e.includes(t.slice(0,2))}))}}),f.a.createElement(y.b,null))})),z={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:204,column:0},end:{line:266,column:3}},name:"AsyncEffectInner",value:K,source:'const AsyncEffectInner = observer(() => {\n  const prov = model3.getField(\'prov\');\n  const cities = model3.getField(\'cities\');\n  const districts = model3.getField(\'districts\');\n\n  return (\n    <Form model={model3}>\n      <FormItem\n        component="singleSelect"\n        label="\u7701\u4efd(\u5355\u9009)"\n        name="prov"\n        componentProps={{ dataSource: ALL_CITIES.map((item) => item.prov) }}\n      />\n      <FormItem\n        component="multiSelect"\n        label="\u57ce\u5e02(\u591a\u9009)"\n        name="cities"\n        help={cityDataSource$.status === \'loading\' ? <span style={{ color: \'red\' }}>loading...</span> : undefined}\n        componentProps={{\n          hasClear: true,\n          dataSource: cityDataSource$.current,\n        }}\n      />\n      <FormItem\n        component="multiSelect"\n        label="\u884c\u653f\u533a(\u591a\u9009)"\n        name="districts"\n        help={districtDataSource$.status === \'loading\' ? <span style={{ color: \'red\' }}>loading...</span> : undefined}\n        componentProps={{\n          hasClear: true,\n          dataSource: districtDataSource$.current,\n        }}\n      />\n\n      {/* \u5207\u6362\u300c\u7701\u4efd\u300d\u65f6\uff0c\u6e05\u7a7a\u57ce\u5e02 */}\n      <Form.Effect\n        watch={prov}\n        effect={() => {\n          cities.value = [];\n        }}\n      />\n\n      {/* \u57ce\u5e02\u5217\u8868\u52a0\u8f7d\u5b8c\u6210\u65f6\uff0c\u81ea\u52a8\u8bbe\u7f6e\u4e3a\u7b2c\u4e00\u4e2a\u57ce\u5e02 */}\n      <Form.Effect\n        watch={cityDataSource$}\n        effect={(cityList) => {\n          cities.value = cityList.slice(0, 1);\n        }}\n      />\n\n      {/* \u5207\u6362\u57ce\u5e02\u65f6\uff0c\u79fb\u9664\u65e0\u6548\u7684\u884c\u653f\u533a */}\n      <Form.Effect\n        watch={cities}\n        effect={(cities) => {\n          const isValid = (district) => cities.includes(district.slice(0, 2));\n          districts.value = districts.value.filter(isValid);\n        }}\n      />\n\n      <ValuePreview />\n    </Form>\n  );\n});',deps:function(){return[R,q,B,Y]},provides:{observer:m.b,Form:u.a,FormItem:u.c,ValuePreview:y.b}};function G(){return f.a.createElement(K,null)}var D={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:268,column:7},end:{line:270,column:1}},name:"AsyncEffect",value:G,source:"function AsyncEffect() {\n  return <AsyncEffectInner />;\n}",deps:function(){return[z]},provides:{}};G.__inner_source="function AsyncEffect() {\n  return <AsyncEffectInner />;\n}",G.__doc_info=D},517:function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(_){i=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof c?t:c,o=Object.create(a.prototype),l=new j(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return E()}for(n.method=a,n.arg=o;;){var l=n.delegate;if(l){var i=O(l,n);if(i){if(i===m)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,l),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=s;var m={};function c(){}function d(){}function p(){}var f={};f[a]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(F([])));b&&b!==t&&n.call(b,a)&&(f=b);var h=p.prototype=c.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var r;this._invoke=function(a,o){function l(){return new t((function(r,l){!function r(a,o,l,i){var s=u(e[a],e,o);if("throw"!==s.type){var m=s.arg,c=m.value;return c&&"object"==typeof c&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,l,i)}),(function(e){r("throw",e,l,i)})):t.resolve(c).then((function(e){m.value=e,l(m)}),(function(e){return r("throw",e,l,i)}))}i(s.arg)}(a,o,r,l)}))}return r=r?r.then(l,l):l()}}function O(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function F(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=h.constructor=p,p.constructor=d,d.displayName=i(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,l,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},g(v.prototype),v.prototype[o]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var l=new v(s(t,n,r,a),o);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},g(h),i(h,l,"Generator"),h[a]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=F,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return l.type="throw",l.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;x(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},518:function(e,t,n){var r={"./af":245,"./af.js":245,"./ar":246,"./ar-dz":247,"./ar-dz.js":247,"./ar-kw":248,"./ar-kw.js":248,"./ar-ly":249,"./ar-ly.js":249,"./ar-ma":250,"./ar-ma.js":250,"./ar-sa":251,"./ar-sa.js":251,"./ar-tn":252,"./ar-tn.js":252,"./ar.js":246,"./az":253,"./az.js":253,"./be":254,"./be.js":254,"./bg":255,"./bg.js":255,"./bm":256,"./bm.js":256,"./bn":257,"./bn-bd":258,"./bn-bd.js":258,"./bn.js":257,"./bo":259,"./bo.js":259,"./br":260,"./br.js":260,"./bs":261,"./bs.js":261,"./ca":262,"./ca.js":262,"./cs":263,"./cs.js":263,"./cv":264,"./cv.js":264,"./cy":265,"./cy.js":265,"./da":266,"./da.js":266,"./de":267,"./de-at":268,"./de-at.js":268,"./de-ch":269,"./de-ch.js":269,"./de.js":267,"./dv":270,"./dv.js":270,"./el":271,"./el.js":271,"./en-au":272,"./en-au.js":272,"./en-ca":273,"./en-ca.js":273,"./en-gb":274,"./en-gb.js":274,"./en-ie":275,"./en-ie.js":275,"./en-il":276,"./en-il.js":276,"./en-in":277,"./en-in.js":277,"./en-nz":278,"./en-nz.js":278,"./en-sg":279,"./en-sg.js":279,"./eo":280,"./eo.js":280,"./es":281,"./es-do":282,"./es-do.js":282,"./es-mx":283,"./es-mx.js":283,"./es-us":284,"./es-us.js":284,"./es.js":281,"./et":285,"./et.js":285,"./eu":286,"./eu.js":286,"./fa":287,"./fa.js":287,"./fi":288,"./fi.js":288,"./fil":289,"./fil.js":289,"./fo":290,"./fo.js":290,"./fr":291,"./fr-ca":292,"./fr-ca.js":292,"./fr-ch":293,"./fr-ch.js":293,"./fr.js":291,"./fy":294,"./fy.js":294,"./ga":295,"./ga.js":295,"./gd":296,"./gd.js":296,"./gl":297,"./gl.js":297,"./gom-deva":298,"./gom-deva.js":298,"./gom-latn":299,"./gom-latn.js":299,"./gu":300,"./gu.js":300,"./he":301,"./he.js":301,"./hi":302,"./hi.js":302,"./hr":303,"./hr.js":303,"./hu":304,"./hu.js":304,"./hy-am":305,"./hy-am.js":305,"./id":306,"./id.js":306,"./is":307,"./is.js":307,"./it":308,"./it-ch":309,"./it-ch.js":309,"./it.js":308,"./ja":310,"./ja.js":310,"./jv":311,"./jv.js":311,"./ka":312,"./ka.js":312,"./kk":313,"./kk.js":313,"./km":314,"./km.js":314,"./kn":315,"./kn.js":315,"./ko":316,"./ko.js":316,"./ku":317,"./ku.js":317,"./ky":318,"./ky.js":318,"./lb":319,"./lb.js":319,"./lo":320,"./lo.js":320,"./lt":321,"./lt.js":321,"./lv":322,"./lv.js":322,"./me":323,"./me.js":323,"./mi":324,"./mi.js":324,"./mk":325,"./mk.js":325,"./ml":326,"./ml.js":326,"./mn":327,"./mn.js":327,"./mr":328,"./mr.js":328,"./ms":329,"./ms-my":330,"./ms-my.js":330,"./ms.js":329,"./mt":331,"./mt.js":331,"./my":332,"./my.js":332,"./nb":333,"./nb.js":333,"./ne":334,"./ne.js":334,"./nl":335,"./nl-be":336,"./nl-be.js":336,"./nl.js":335,"./nn":337,"./nn.js":337,"./oc-lnc":338,"./oc-lnc.js":338,"./pa-in":339,"./pa-in.js":339,"./pl":340,"./pl.js":340,"./pt":341,"./pt-br":342,"./pt-br.js":342,"./pt.js":341,"./ro":343,"./ro.js":343,"./ru":344,"./ru.js":344,"./sd":345,"./sd.js":345,"./se":346,"./se.js":346,"./si":347,"./si.js":347,"./sk":348,"./sk.js":348,"./sl":349,"./sl.js":349,"./sq":350,"./sq.js":350,"./sr":351,"./sr-cyrl":352,"./sr-cyrl.js":352,"./sr.js":351,"./ss":353,"./ss.js":353,"./sv":354,"./sv.js":354,"./sw":355,"./sw.js":355,"./ta":356,"./ta.js":356,"./te":357,"./te.js":357,"./tet":358,"./tet.js":358,"./tg":359,"./tg.js":359,"./th":360,"./th.js":360,"./tk":361,"./tk.js":361,"./tl-ph":362,"./tl-ph.js":362,"./tlh":363,"./tlh.js":363,"./tr":364,"./tr.js":364,"./tzl":365,"./tzl.js":365,"./tzm":366,"./tzm-latn":367,"./tzm-latn.js":367,"./tzm.js":366,"./ug-cn":368,"./ug-cn.js":368,"./uk":369,"./uk.js":369,"./ur":370,"./ur.js":370,"./uz":371,"./uz-latn":372,"./uz-latn.js":372,"./uz.js":371,"./vi":373,"./vi.js":373,"./x-pseudo":374,"./x-pseudo.js":374,"./yo":375,"./yo.js":375,"./zh-cn":376,"./zh-cn.js":376,"./zh-hk":377,"./zh-hk.js":377,"./zh-mo":378,"./zh-mo.js":378,"./zh-tw":379,"./zh-tw.js":379};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=518},92:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return u})),n.d(t,"toc",(function(){return m})),n.d(t,"default",(function(){return p}));var r,a=n(3),o=n(8),l=(n(0),n(168)),i=n(516),s={id:"advanced",title:"xform \u8fdb\u9636"},u={unversionedId:"xform/advanced",id:"xform/advanced",isDocsHomePage:!1,title:"xform \u8fdb\u9636",description:"\u672c\u9875\u5c06\u4ecb\u7ecd xform \u7684\u4e00\u4e9b\u8fdb\u9636\u7528\u6cd5\uff0c\u5305\u62ec\u8868\u5355\u7247\u6bb5\u590d\u7528\u3001\u6570\u7ec4\u7c7b\u578b\u8868\u5355\u3001\u5d4c\u5957\u8868\u5355\u6570\u636e\u7ed3\u6784\u7b49\u3002",source:"@site/docs/xform/advanced.mdx",sourceDirName:"xform",slug:"/xform/advanced",permalink:"/rex-design/docs/xform/advanced",editUrl:"https://github.com/alibaba/rex-design/edit/main/packages/doc/docs/xform/advanced.mdx",version:"current",frontMatter:{id:"advanced",title:"xform \u8fdb\u9636"},sidebar:"docs",previous:{title:"xform",permalink:"/rex-design/docs/xform/usage"},next:{title:"xform \u8054\u52a8",permalink:"/rex-design/docs/xform/effects"}},m=[{value:"\u8868\u5355\u7247\u6bb5\u590d\u7528",id:"\u8868\u5355\u7247\u6bb5\u590d\u7528",children:[{value:"<code>Form.Object</code>",id:"formobject",children:[]}]},{value:"\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e",id:"\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e",children:[{value:"<code>Form.Array</code>",id:"formarray",children:[]}]},{value:"\u5904\u7406\u5d4c\u5957\u6570\u636e\u7ed3\u6784",id:"\u5904\u7406\u5d4c\u5957\u6570\u636e\u7ed3\u6784",children:[{value:"\u793a\u4f8b 1",id:"\u793a\u4f8b-1",children:[]}]},{value:"\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6",id:"\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6",children:[{value:"\u89c6\u56fe\u63a5\u5165",id:"\u89c6\u56fe\u63a5\u5165",children:[]},{value:"\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6",id:"\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6",children:[]},{value:"\u6ce8\u518c\u4e3a\u5185\u7f6e\u8868\u5355\u7ec4\u4ef6",id:"\u6ce8\u518c\u4e3a\u5185\u7f6e\u8868\u5355\u7ec4\u4ef6",children:[]}]},{value:"\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe",id:"\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe",children:[{value:"fork field \u7279\u70b9",id:"fork-field-\u7279\u70b9",children:[]}]}],c=(r="Story",function(e){return console.warn("Component "+r+" was not imported, exported, or provided by MDXProvider as global scope"),Object(l.b)("div",e)}),d={toc:m};function p(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"\u672c\u9875\u5c06\u4ecb\u7ecd xform \u7684\u4e00\u4e9b\u8fdb\u9636\u7528\u6cd5\uff0c\u5305\u62ec\u8868\u5355\u7247\u6bb5\u590d\u7528\u3001\u6570\u7ec4\u7c7b\u578b\u8868\u5355\u3001\u5d4c\u5957\u8868\u5355\u6570\u636e\u7ed3\u6784\u7b49\u3002"),Object(l.b)("p",null,"\u8868\u5355\u8054\u52a8\u76f8\u5173\u5185\u5bb9\u7684\u8bf7\u67e5\u770b ",Object(l.b)("a",{parentName:"p",href:"effects"},"xform \u8054\u52a8"),"."),Object(l.b)("div",{className:"admonition admonition-danger alert alert--danger"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"\u6587\u6863\u5185\u5bb9\u8f83\u591a\uff0c\u4e66\u5199\u9f9f\u901f  (\uffe3\uff13\uffe3)a\u3002"))),Object(l.b)("h2",{id:"\u8868\u5355\u7247\u6bb5\u590d\u7528"},"\u8868\u5355\u7247\u6bb5\u590d\u7528"),Object(l.b)("p",null,"\u5148\u770b\u4ee5\u4e0b\u793a\u4f8b\uff0c\u5728\u5bb6\u5ead\u4fe1\u606f\u767b\u8bb0\u8868\u4e2d\uff0c\u300c\u4e2a\u4eba\u4fe1\u606f\u300d\u3001\u300c\u7236\u4eb2\u300d\u7b49\u90e8\u5206\u7684\u8868\u5355\u5185\u5bb9\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff0c\u4f46\u5b83\u4eec\u7684\u6570\u636e\u5b58\u653e\u8def\u5f84\u4e0d\u540c\u3002"),Object(l.b)("p",null,"\u6b64\u65f6\u6211\u4eec\u5c06\u8868\u5355\u4e2d\u7684\u76f8\u540c\u90e8\u5206\u62bd\u53d6\u5230 PersonForm \u4e2d\uff0c\u5e76\u5229\u7528 Form.Object \u6765\u6307\u5b9a\u5176\u4e2d\u7684 FormItem \u7684",Object(l.b)("strong",{parentName:"p"},"\u6570\u636e\u7d22\u5f15\u524d\u7f00"),"\u3002 \u5728 FamilyForm \u4e2d\uff0c\u6211\u4eec\u4e3a\u591a\u4e2a PersonForm \u6307\u5b9a\u4e0d\u540c\u7684 name\uff0c\u5373\u53ef\u5b9e\u73b0\u8868\u5355\u7247\u6bb5\u7684\u590d\u7528\u3002 \u5728\u66f4\u590d\u6742\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3a PersonForm \u6dfb\u52a0\u66f4\u591a props\uff0c\u4f7f\u7247\u6bb5\u590d\u7528\u53d8\u5f97\u66f4\u52a0\u7075\u6d3b\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'function PersonForm({ name, label }) {\n  return (\n    <div>\n      <p>{label}</p>\n      <Form.Object name={name}>\n        <FormItem name="name" label="\u59d3\u540d" required />\n        <FormItem name="contact" label="\u8054\u7cfb\u65b9\u5f0f" />\n        <FormItem name="address.city" label="\u5c45\u4f4f\u57ce\u5e02" />\n      </Form.Object>\n    </div>\n  );\n}\n\nfunction FamilyForm() {\n  return (\n    <div>\n      <PersonForm name="me" label="\u4e2a\u4eba\u4fe1\u606f" />\n      <PersonForm name="father" label="\u7236\u4eb2" />\n      <PersonForm name="mother" label="\u6bcd\u4eb2" />\n      <PersonForm name="other" label="\u5176\u4ed6\u7d27\u6025\u8054\u7cfb\u4eba" />\n    </div>\n  );\n}\n')),Object(l.b)(c,{fn:i.c,mdxType:"Story"}),Object(l.b)("h3",{id:"formobject"},Object(l.b)("inlineCode",{parentName:"h3"},"Form.Object")),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"<Form.Object name={name} />"),"\uff1a \u4ee5\u5f53\u524d model \u4e3a\u57fa\u7840\uff0c\u4e3a\u5176\u5b50\u8282\u70b9\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684 sub model\uff0c\u5e76\u5c06\u5b50\u8282\u70b9\u4e2d\u7684\u8868\u5355\u503c\u6536\u96c6\u5230\u5f53\u524d model \u4e2d ",Object(l.b)("inlineCode",{parentName:"p"},"name")," \u5bf9\u5e94\u7684\u4f4d\u7f6e\u3002"),Object(l.b)("p",null,"\u4e3a Form.Object \u8bbe\u7f6e ",Object(l.b)("inlineCode",{parentName:"p"},'name="&"')," \u65f6\uff0c\u53ef\u4ee5\u5c06\u5f53\u524d model \u900f\u4f20\u81f3\u5b50\u8282\u70b9\uff08\u76f8\u5f53\u4e8e\u6ca1\u5199 Form.Object\uff09\u3002"),Object(l.b)("h2",{id:"\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e"},"\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e"),Object(l.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u5229\u7528 ",Object(l.b)("inlineCode",{parentName:"p"},"Form.Array")," \u6765\u5904\u7406\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e\u3002"),Object(l.b)("p",null,"\u4f8b\u5982\uff0c\u5728\u4e0b\u9762\u7684\u300c\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u5217\u8868\u300d\u4e2d\uff0c\u6211\u4eec\u7528 Form.Array \u5305\u88f9\u4e86\u591a\u4e2a FormItem\u3002"),Object(l.b)("p",null,"\u4ece Form.Array \u8fd9\u4e2a\u540d\u5b57\u4e2d\u4e5f\u53ef\u4ee5\u770b\u51fa\uff0c\u8868\u5355\u63d0\u4ea4\u65f6\u5c06\u4f1a\u751f\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u5305\u542b name\uff0cdate\uff0cbrand \u7b49\u5b57\u6bb5\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'<Form.Array name="tickets" layout={arrayCard({ showItemOrder: true })}>\n  <FormItem label="\u5ba2\u6237\u540d\u79f0" name="name" />\n  <FormItem label="\u8d2d\u4e70\u65e5\u671f" name="date" />\n  <FormItem label="\u54c1\u724c" name="brand" />\n  {/* \u5176\u4ed6\u8c03\u67e5\u7ed3\u679c\u8868\u5355\u5185\u5bb9 */}\n</Form.Array>\n')),Object(l.b)(c,{fn:i.a,mdxType:"Story"}),Object(l.b)("h3",{id:"formarray"},Object(l.b)("inlineCode",{parentName:"h3"},"Form.Array")),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"<Form.Array name={name} itemFactory={itemFactory} layout={layout} />")),Object(l.b)("p",null,"Form.Array \u4f1a\u6839\u636e\u5217\u8868\u957f\u5ea6\uff08\u5373 ",Object(l.b)("inlineCode",{parentName:"p"},"model.values.length"),"\uff09\uff0c\u6e32\u67d3\u540c\u6837\u6b21\u6570\u7684\u5b50\u8282\u70b9\uff08\u6307 props.children\uff09\u3002Form.Array \u4f1a\u4ee5\u5f53\u524d model \u4e3a\u57fa\u7840\uff0c\u4e3a\u5176\u5b50\u8282\u70b9\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684 sub model\uff0c\u5e76\u5c06\u5b50\u8282\u70b9\u4e2d\u7684\u8868\u5355\u503c\u6536\u96c6\u5230\u5f53\u524d model \u4e2d ",Object(l.b)("inlineCode",{parentName:"p"},"{name}.{itemIndex}")," \u5bf9\u5e94\u7684\u4f4d\u7f6e\u3002"),Object(l.b)("p",null,"Form.Array \u4e0e Form.Object \u975e\u5e38\u7c7b\u4f3c\uff0c\u4f46\u7528\u4e8e\u5904\u7406\u6570\u7ec4\u3002 \u6ce8\u610f Form.Array \u4e3a\u5176\u5b50\u8282\u70b9\u63d0\u4f9b\u7684 sub model \u5305\u542b\u4e24\u5c42\u4e0b\u6807 ",Object(l.b)("inlineCode",{parentName:"p"},"{name}.{itemIndex}"),"\uff1a ",Object(l.b)("inlineCode",{parentName:"p"},"name")," \u8868\u793a\u6570\u7ec4\u6240\u5728\u7684\u5b57\u6bb5\u540d\u79f0\uff0c ",Object(l.b)("inlineCode",{parentName:"p"},"itemIndex")," \u8868\u793a\u6570\u7ec4\u5143\u7d20\u4e0b\u6807\u3002"),Object(l.b)("p",null,"\u5176\u4ed6\u53c2\u6570\uff1a"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"layout")," \u63a7\u5236\u8868\u5355\u5982\u4f55\u5bf9\u6570\u7ec4\u8fdb\u884c\u5e03\u5c40\uff0c\u5305\u62ec\u6570\u7ec4\u4e2d\u6bcf\u4e00\u4e2a\u5143\u7d20\u7684\u5e03\u5c40 \u4ee5\u53ca \u76f8\u5173\u7684\u64cd\u4f5c\u6309\u94ae\uff08\u6dfb\u52a0\u3001\u5220\u9664\u3001\u4e0a\u79fb\u3001\u4e0b\u79fb\u7b49\uff09",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"xform \u63d0\u4f9b\u4e00\u4e9b\u5185\u7f6e\u7684\u6570\u7ec4\u5e03\u5c40\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728\u4e0a\u5c42\u5b9e\u73b0\u65b0\u7684\u6570\u7ec4\u5e03\u5c40"),Object(l.b)("li",{parentName:"ul"},"\u548c Form.Object \u4e00\u6837\uff0cForm.Array \u672c\u8eab\u4e0d\u4f1a\u63d0\u4f9b\u4efb\u4f55\u5e03\u5c40"))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"itemFactory")," \u7528\u4e8e\u8bbe\u7f6e\u6570\u7ec4\u4e2d\u65b0\u589e\u5143\u7d20\u7684\u521d\u59cb\u503c")),Object(l.b)("h2",{id:"\u5904\u7406\u5d4c\u5957\u6570\u636e\u7ed3\u6784"},"\u5904\u7406\u5d4c\u5957\u6570\u636e\u7ed3\u6784"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"Form.Object")," \u4e0e ",Object(l.b)("inlineCode",{parentName:"p"},"Form.Array")," \u5141\u8bb8\u76f8\u4e92\u5d4c\u5957\uff0c\u7075\u6d3b\u4f7f\u7528\u4e24\u8005\uff0c\u6211\u4eec\u53ef\u4ee5\u7ec4\u5408\u51fa\u975e\u5e38\u590d\u6742\u7684\u8868\u5355\u7ed3\u6784\u3002"),Object(l.b)("p",null,"\u800c\u5728\u6570\u636e\u5904\u7406\u65b9\u9762\uff0c xform \u63d0\u4f9b\u4e86\u975e\u5e38\u7075\u6d3b\u7684\u3001\u300c\u5206\u5f62\u300d\u7684 API\u3002"),Object(l.b)("p",null,"\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"new FormModel(values)")," \u521b\u5efa formModel \u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",Object(l.b)("inlineCode",{parentName:"p"},"formModel.getSubModel(name)")," \u6765\u83b7\u53d6 ",Object(l.b)("inlineCode",{parentName:"p"},"name")," \u5bf9\u5e94\u7684\u5b50\u6a21\u578b subModel\uff0c\u5bf9 subModel.values \u7684\u8bfb\u5199\u4f1a\u81ea\u52a8\u53d8\u4e3a\u5bf9 formModel.values \u7684\u8bfb\u5199\uff08\u80cc\u540e\u57fa\u4e8e mobx computed\uff09\uff0c\u786e\u4fdd formModel.values \u662f\u6574\u4e2a\u8868\u5355 values \u7684\u552f\u4e00\u53ef\u4fe1\u6765\u6e90\u3002"),Object(l.b)("p",null,"FormModel\uff08\u6839\u8282\u70b9\uff09\u548c SubModel\uff08\u5b50\u8282\u70b9\uff09\u5747\u5b9e\u73b0\u4e86 ",Object(l.b)("a",{parentName:"p",href:"api#imodel"},Object(l.b)("inlineCode",{parentName:"a"},"IModel")," interface"),"\uff0c\u4e24\u8005\u62e5\u6709\u51e0\u4e4e\u76f8\u540c\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u3002\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u533a\u5206 FormModel \u6216 SubModel\u3002\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"IModel#getSubModel")," \u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u5b50\u6a21\u578b\u7684\u5b50\u6a21\u578b\uff0c\u751a\u81f3\u662f\u5b50\u6a21\u578b\u7684\u5b50\u6a21\u578b\u7684\u5b50\u6a21\u578b\u2026\u2026 \u5728\u5b9e\u9645\u8fdb\u884c\u5f00\u53d1\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u60c5\u51b5\u7075\u6d3b\u9009\u53d6\u5b50\u6a21\u578b\uff0c\u7136\u540e\u5728\u9002\u5f53\u7684\u6570\u636e\u5c42\u7ea7\u8fdb\u884c\u5f00\u53d1\u3002"),Object(l.b)("h3",{id:"\u793a\u4f8b-1"},"\u793a\u4f8b 1"),Object(l.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a FormModel \u6765\u7ba1\u7406\u300c\u5206\u6b65\u8868\u5355\u300d\u3002"),Object(l.b)("p",null,"\u867d\u7136\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u5e38\u89c1\uff0c\u4f46\u5b83\u6709\u4e00\u4e9b\u72ec\u7279\u7684\u4f18\u52bf\uff1a"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u590d\u7528\u4e86\u8868\u5355\u5df2\u6709\u7684\u63d0\u4ea4\u6309\u94ae\uff08Form.Submit\uff09\u548c\u63d0\u4ea4\u6210\u529f\u56de\u8c03\uff08onSubmit\uff09\uff0c\u5feb\u901f\u5b9e\u73b0\u300c\u70b9\u51fb\u4e0b\u4e00\u6b65\u89e6\u53d1\u6821\u9a8c\uff0c\u6821\u9a8c\u901a\u8fc7\u540e\u8df3\u8f6c\u5230\u4e0b\u4e00\u6b65\u300d\u529f\u80fd"),Object(l.b)("li",{parentName:"ul"},"\u53ef\u4ee5\u901a\u8fc7 root \u6765\u8fdb\u884c\u5168\u5c40\u7ba1\u7406\uff0c\u4f8b\u5982\u2026\u2026",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u8c03\u7528 ",Object(l.b)("inlineCode",{parentName:"li"},"modelUtils.reset(root)")," \u6765\u91cd\u7f6e\u6240\u6709\u6b65\u9aa4"),Object(l.b)("li",{parentName:"ul"},"root.values \u8bb0\u5f55\u4e86\u6574\u4f53\u6570\u636e\uff0c\u5411\u540e\u7aef\u53d1\u9001\u8bf7\u6c42\u65f6\u53ea\u9700\u8981\u53d1\u9001 root.values \u5373\u53ef")))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'const root = new FormModel({ step1: {}, step2: {}, step3: {} });\n\n// STEP-1 Component\n<Step>\n  <Form model={root.getSubModel(\'step1\')} onSubmit={jumpToStep2}>\n    <FormItem name="foo" />\n    <FormItem name="bar" />\n    <Form.Submit>\u4e0b\u4e00\u6b65</Form.Submit>\n  </Form>\n</Step>;\n\n// STEP-2 Component\n<Step>\n  <Form model={root.getSubModel(\'step2\')} onSubmit={jumpToStep3}>\n    <FormItem name="hello" />\n    <FormItem name="world" />\n    <Form.Submit>\u4e0b\u4e00\u6b65</Form.Submit>\n  </Form>\n</Step>;\n\n// STEP-3 Component \u7701\u7565\u4ee3\u7801\n')),Object(l.b)("p",null,"(todo \u66f4\u5b8c\u5584\u7684\u4ecb\u7ecd)"),Object(l.b)("h2",{id:"\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6"},"\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6"),Object(l.b)("p",null,"\u968f\u7740\u4e1a\u52a1\u9700\u6c42\u53d8\u5f97\u590d\u6742\uff0cxform \u81ea\u5e26\u7684\u8868\u5355\u7ec4\u4ef6\u5c06\u5f88\u96be\u6ee1\u8db3\u5168\u90e8\u9700\u6c42\uff0c\u6b64\u65f6\u4f60\u53ef\u4ee5\u901a\u8fc7\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u6765\u62d3\u5c55 xform\u3002"),Object(l.b)("h3",{id:"\u89c6\u56fe\u63a5\u5165"},"\u89c6\u56fe\u63a5\u5165"),Object(l.b)("p",null,"\u5f53\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4e0d\u9700\u8981\u63a5\u5165\u8868\u5355\u5185\u90e8\u7684\u6821\u9a8c\u7cfb\u7edf\u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",Object(l.b)("a",{parentName:"p",href:"api#formitemview"},Object(l.b)("inlineCode",{parentName:"a"},"<Form.ItemView />"))," \u6765\u63a5\u5165\u8868\u5355\u5e03\u5c40\uff0c\u8ba9\u81ea\u5b9a\u4e49\u5185\u5bb9\u4e0e\u666e\u901a FormItem \u5c55\u793a\u4e00\u81f4\u3002\u6b64\u65f6\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 ",Object(l.b)("a",{parentName:"p",href:"api#field"},"Field")," \u6765\u4e3a\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u8bbe\u7f6e value/onChange\uff1a"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'const cityField = model.getField(\'city\');\n\n<Form model={model}>\n  <FormItem component="input" name="foo" />\n  <FormItem component="select" name="bar" />\n  <FormItemView label="\u57ce\u5e02" tip="\u8bf7\u9009\u62e9\u4f60\u7684\u5c45\u4f4f\u57ce\u5e02" asterisk={true} error="\u5fc5\u987b\u9009\u62e9\u9646\u5730">\n    <MyPowerCitySelect selectdCity={cityField.value} onChangeSelectedCity={cityField.handleChange} />\n  </FormItemView>\n</Form>;\n')),Object(l.b)("h3",{id:"\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6"},"\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6"),Object(l.b)("p",null,"\u901a\u8fc7 createFormItem \u4f60\u53ef\u4ee5\u521b\u5efa\u5168\u65b0\u7684\u8868\u5355\u7ec4\u4ef6\u3002\u521b\u5efa\u540e\uff0c\u53ef\u4ee5\u50cf\u666e\u901a\u7684 FormItem \u4e00\u6837\u6765\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6\uff0c\u6bd4\u5982\u901a\u8fc7 name \u6765\u6307\u5b9a\u6240\u8981\u7ed1\u5b9a\u7684\u6570\u636e\u7d22\u5f15\uff0c\u901a\u8fc7 validate \u6765\u8bbe\u7f6e\u6821\u9a8c\u65b9\u6cd5\u7b49\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'// \u521b\u5efa\nconst PowerCityFormItem = createFormItem({\n  name: \'powerCitySelect\',\n  fallbackValue: null,\n  isEmpty: () => false,\n  render({ value, onChange }) {\n    return <MyPowerCitySelect selectdCity={value} onChangeSelectedCity={onChange} />;\n  },\n});\n\n// \u4f7f\u7528\n<Form model={model}>\n  <FormItem component="input" name="foo" />\n  <FormItem component="select" name="bar" />\n  <PowerCityFormItem name="city" required validate={isBeautifulCity} validateOnChange={false} />\n</Form>;\n')),Object(l.b)("h3",{id:"\u6ce8\u518c\u4e3a\u5185\u7f6e\u8868\u5355\u7ec4\u4ef6"},"\u6ce8\u518c\u4e3a\u5185\u7f6e\u8868\u5355\u7ec4\u4ef6"),Object(l.b)("p",null,"\u5982\u679c\u4f60\u671f\u671b\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4ee5 ",Object(l.b)("inlineCode",{parentName:"p"},'<FormItem component="powerCitySelect" name="..." />')," \u7684\u5f62\u5f0f\u88ab\u4f7f\u7528\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"FormItem.register(...)")," \u6765\u8fdb\u884c\u6ce8\u518c\u3002\u65b0\u6ce8\u518c\u7684\u540d\u79f0\u4f1a\u4e0e\u5df2\u6709\u7684\u540d\u79f0\u5171\u4eab\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\uff0c\u6ce8\u610f\u907f\u514d\u51b2\u7a81\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'// \u6ce8\u518c\nFormItem.register({\n  name: \'powerCitySelect\',\n  fallbackValue: null,\n  isEmpty: () => false,\n  render: ___,\n});\n\n// \u4f7f\u7528\n<Form model={model}>\n  <FormItem component="input" name="foo" />\n  <FormItem component="select" name="bar" />\n  <FormItem component="powerCitySelect" name="city" required validate={isBeautifulCity} validateOnChange={false} />\n</Form>;\n')),Object(l.b)("h2",{id:"\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe"},"\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"\u5f53\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"strong"},'name="..."')," \u6765\u6307\u5b9a FormItem \u5173\u8054\u7684\u6570\u636e\u7d22\u5f15\u65f6\uff0c \u4e00\u4e2a\u6570\u636e\u7d22\u5f15\u6700\u591a\u53ea\u80fd\u5bf9\u5e94\u4e00\u4e2a FormItem\u3002")),Object(l.b)("p",null,"\u5f53\u591a\u4e2a FormItem \u7684 name \u76f8\u540c\u65f6\uff0c\u8fd9\u4e9b FormItem \u5c06\u4f1a\u4f7f\u7528\u540c\u4e00\u4e2a Field \u5bf9\u8c61\u3002\u4f46\u56e0\u4e0d\u540c FormItem \u7684\u914d\u7f6e\u4e0d\u540c\uff08\u4f8b\u5982\u8bbe\u7f6e\u4e86\u4e0d\u540c\u7684 required \u6216 validate\uff09\uff0c\u540e\u6e32\u67d3\u7684 FormItem \u7684\u914d\u7f6e\u5c06\u4f1a\u8986\u76d6\u5148\u6e32\u67d3\u7684 FormItem \u914d\u7f6e\uff0cField \u5bf9\u8c61\u4e0a\u7684\u6821\u9a8c\u5c31\u4f1a\u51fa\u95ee\u9898\u3002\u4f8b\u5982\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\u5c31\u51fa\u73b0\u4e86\u4e24\u4e2a\u4e92\u65a5\u7684\u6821\u9a8c\u65b9\u6cd5\uff0c\u5bfc\u81f4\u6821\u9a8c\u6c38\u8fdc\u65e0\u6cd5\u901a\u8fc7\uff1a"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"// \u274c \u9519\u8bef\u7528\u6cd5\n<FormItem name=\"foo\" required validate={v => v < 3 ? '\u4e0d\u80fd\u5c0f\u4e8e3' : null}} />\n<FormItem name=\"foo\" required={false} validate={v => v > 3 ? '\u4e0d\u80fd\u5927\u4e8e3' : null} />\n")),Object(l.b)("p",null,"\u4f46\u5728\u5b9e\u9645\u573a\u666f\u4e2d\uff0c\u6211\u4eec\u65e0\u6cd5\u907f\u514d\u7c7b\u4f3c\u300c\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe\u300d\u8fd9\u6837\u7684\u9700\u6c42\u3002\u4e3a\u6b64\uff0cxform \u63d0\u4f9b\u4e86 field fork \u80fd\u529b\uff1a"),Object(l.b)("p",null,"API\uff1a ",Object(l.b)("inlineCode",{parentName:"p"},"field.getFork(forkName :string): Field")),Object(l.b)("p",null,"\u8be5\u65b9\u6cd5\u6839\u636e\u5df2\u6709\u7684 field\uff08original field\uff09\u8fd4\u56de\u4e00\u4e2a",Object(l.b)("strong",{parentName:"p"},"\u65b0\u7684")," field \u5bf9\u8c61\uff08fork field\uff09\uff0cfork \u4e0e original \u4f7f\u7528\u76f8\u540c\u7684\u6570\u636e\u7d22\u5f15\uff08\u610f\u5473\u7740\u4e24\u8005 .value \u603b\u662f\u76f8\u7b49\uff09\uff0c\u4f46\u9664\u6b64\u4e4b\u5916\u7684\u5176\u4ed6\u72b6\u6001\u4e92\u76f8\u9694\u79bb\u3002"),Object(l.b)("p",null,"\u521b\u5efa fork field \u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684 FormItem \u8bbe\u7f6e\u4e0d\u540c\u7684 field \u4e86\uff1a"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"// \u2705 \u6b63\u786e\u7528\u6cd5\nconst fooField = model.getField('foo')\nconst fooFork = fooField.getFork('fooFork')\n\n<FormItem field={fooField} required validate={v => v < 3 ? '\u4e0d\u80fd\u5c0f\u4e8e3' : null}} />\n<FormItem field={fooFork} required={false} validate={v => v > 3 ? '\u4e0d\u80fd\u5927\u4e8e3' : null} />\n")),Object(l.b)("h3",{id:"fork-field-\u7279\u70b9"},"fork field \u7279\u70b9"),Object(l.b)("p",null,"\u6211\u4eec\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"model.getField(name)")," \u83b7\u53d6\u5230\u7684 field \u5bf9\u8c61\u603b\u4e3a ",Object(l.b)("em",{parentName:"p"},"original fork"),"\uff0c\u8be5 field \u7684 forkName \u603b\u662f\u4e3a ",Object(l.b)("inlineCode",{parentName:"p"},"'original'"),"\u3002"),Object(l.b)("p",null,"\u540c\u4e00\u4e2a\u6570\u636e\u7d22\u5f15\u4e0b\uff0c\u4e0d\u540c\u7684 forks \u5171\u4eab\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\uff0c\u4e92\u76f8\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"field.getFork(forkName)")," \u8fdb\u884c\u8bbf\u95ee\uff1b\u8be5\u65b9\u6cd5\u8c03\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c forkName \u5bf9\u5e94\u7684 fork field \u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u521d\u59cb\u5316\u5bf9\u5e94\u7684 fork field\uff0c\u5e76\u5c06\u5176\u8fd4\u56de\u3002"),Object(l.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a original fork \u662f\u9ed8\u8ba4\u5b58\u5728\u7684\u4e00\u4e2a fork\uff0c\u5f53\u60f3\u8981\u4f7f\u7528\u65b0\u7684 fork \u65f6\uff0c\u5c31\u6362\u4e00\u4e2a forkName\uff1b\u800c\u5f53\u60f3\u8981\u83b7\u53d6\u5230 original fork \u65f6\uff0c\u5219\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"forkField.getFork('original')")," \u8fdb\u884c\u83b7\u53d6\u3002"))}p.isMDXComponent=!0}}]);
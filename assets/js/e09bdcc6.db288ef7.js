(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{157:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return R})),t.d(n,"metadata",(function(){return O})),t.d(n,"toc",(function(){return H})),t.d(n,"default",(function(){return Q}));var a=t(3),l=t(8),r=t(0),o=t.n(r),c=t(169),s=t(167),i=t(199),d=t(26),u=t(496);const y=Object(d.d)(s.Tree)`
  width: 200px;
  border: 1px dashed var(--rex-colors-emphasis-40);
`,b={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:20,column:0},end:{line:23,column:2}},name:"StyledTree",value:y,source:"const StyledTree = styled(Tree)`\n  width: 200px;\n  border: 1px dashed var(--rex-colors-emphasis-40);\n`;",deps:()=>[],provides:{styled:d.d,Tree:s.Tree}},p=[{key:"1",label:"Option 1"},{key:"2",label:"Option 2",disabled:!0},{key:"4",label:"\u52a8\u7269\u56ed"},{key:"zoo",label:"\u963f\u91cc\u52a8\u7269\u56ed",children:[{key:"\u76d2\u9a6c",label:"\u76d2\u9a6c"},{key:"\u6dd8\u5b9d",label:"\u6dd8\u5b9d"},{key:"\u5929\u732b",label:"\u5929\u732b"},{key:"foo-4",label:"\u5176\u4ed6\u5c0f\u670b\u53cb",children:[{key:"\u5c0f\u7ea2\u7ea2",label:"\u5c0f\u7ea2\u7ea2"},{key:"\u5c0f\u84dd\u84dd",label:"\u5c0f\u84dd\u84dd"},{key:"\u5c0f\u7070\u7070",label:"\u5c0f\u7070\u7070"}]}]},{key:"2\u53f7\u52a8\u7269\u56ed",label:"2\u53f7\u52a8\u7269\u56ed",children:[{key:"\u5c0f\u8111\u864e",label:"\u5c0f\u8111\u864e"},{key:"\u5c0f\u72ee\u5b50",label:"\u5c0f\u72ee\u5b50"},{key:"\u5c0f\u4f01\u9e45",label:"\u5c0f\u4f01\u9e45"},{key:"bar-4",label:"\u5c0f\u670b\u53cb",children:[{key:"bar-4-\u5c0f\u7ea2\u7ea2",label:"\u5c0f\u7ea2\u7ea2"},{key:"bar-4-\u5c0f\u84dd\u84dd",label:"\u5c0f\u84dd\u84dd"},{key:"bar-4-\u5c0f\u7070\u7070",label:"\u5c0f\u7070\u7070"}]}]}],h={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:25,column:0},end:{line:65,column:2}},name:"bigTreeDataSource",value:p,source:"const bigTreeDataSource = [\n  { key: '1', label: 'Option 1' },\n  { key: '2', label: 'Option 2', disabled: true },\n  { key: '4', label: '\u52a8\u7269\u56ed' },\n  {\n    key: 'zoo',\n    label: '\u963f\u91cc\u52a8\u7269\u56ed',\n    children: [\n      { key: '\u76d2\u9a6c', label: '\u76d2\u9a6c' },\n      { key: '\u6dd8\u5b9d', label: '\u6dd8\u5b9d' },\n      { key: '\u5929\u732b', label: '\u5929\u732b' },\n      {\n        key: 'foo-4',\n        label: '\u5176\u4ed6\u5c0f\u670b\u53cb',\n        children: [\n          { key: '\u5c0f\u7ea2\u7ea2', label: '\u5c0f\u7ea2\u7ea2' },\n          { key: '\u5c0f\u84dd\u84dd', label: '\u5c0f\u84dd\u84dd' },\n          { key: '\u5c0f\u7070\u7070', label: '\u5c0f\u7070\u7070' },\n        ],\n      },\n    ],\n  },\n  {\n    key: '2\u53f7\u52a8\u7269\u56ed',\n    label: '2\u53f7\u52a8\u7269\u56ed',\n    children: [\n      { key: '\u5c0f\u8111\u864e', label: '\u5c0f\u8111\u864e' },\n      { key: '\u5c0f\u72ee\u5b50', label: '\u5c0f\u72ee\u5b50' },\n      { key: '\u5c0f\u4f01\u9e45', label: '\u5c0f\u4f01\u9e45' },\n      {\n        key: 'bar-4',\n        label: '\u5c0f\u670b\u53cb',\n        children: [\n          { key: 'bar-4-\u5c0f\u7ea2\u7ea2', label: '\u5c0f\u7ea2\u7ea2' },\n          { key: 'bar-4-\u5c0f\u84dd\u84dd', label: '\u5c0f\u84dd\u84dd' },\n          { key: 'bar-4-\u5c0f\u7070\u7070', label: '\u5c0f\u7070\u7070' },\n        ],\n      },\n    ],\n  },\n];",deps:()=>[],provides:{}};function k(){return o.a.createElement(y,{defaultExpandedKeys:["zoo"],dataSource:p})}const m={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:67,column:7},end:{line:69,column:1}},name:"Basic",value:k,source:"function Basic() {\n  return <StyledTree defaultExpandedKeys={['zoo']} dataSource={bigTreeDataSource} />;\n}",deps:()=>[b,h],provides:{}};function f(){return o.a.createElement(y,{checkable:!0,dataSource:p,onCheck:(...e)=>console.log("onCheck",...e)})}k.__doc_info=m,k.__inner_source="function Basic() {\n  return <StyledTree defaultExpandedKeys={['zoo']} dataSource={bigTreeDataSource} />;\n}";const g={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:71,column:7},end:{line:73,column:1}},name:"Checkable",value:f,source:"function Checkable() {\n  return <StyledTree checkable dataSource={bigTreeDataSource} onCheck={(...args) => console.log('onCheck', ...args)} />;\n}",deps:()=>[b,h],provides:{}};function x(){function e(n,t,a){const l=[];for(let r=0;r<a;r++){const c=`${n}-${r}`;l.push({key:c,label:o.a.createElement("span",null,"\u7b2c",t,"\u5c42\u8282\u70b9"," ",o.a.createElement("span",{style:{fontFamily:"monospace"}},"(",n,"-",r,")")),children:a>0?e(c,t+1,a-6):null})}return l}const n=[];for(let t=0;t<5;t++)n.push({key:"key_"+t,label:"\u9876\u5c42\u8282\u70b9"+t,children:e(String(t),1,15)});return n}f.__doc_info=g,f.__inner_source="function Checkable() {\n  return <StyledTree checkable dataSource={bigTreeDataSource} onCheck={(...args) => console.log('onCheck', ...args)} />;\n}";const S={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:75,column:0},end:{line:105,column:1}},name:"makeBigTreeItems",value:x,source:"function makeBigTreeItems() {\n  function makeNestedChildren(prefix, level, count) {\n    const result = [];\n    for (let i = 0; i < count; i++) {\n      const key = `${prefix}-${i}`;\n      result.push({\n        key,\n        label: (\n          <span>\n            \u7b2c{level}\u5c42\u8282\u70b9{' '}\n            <span style={{ fontFamily: 'monospace' }}>\n              ({prefix}-{i})\n            </span>\n          </span>\n        ),\n        children: count > 0 ? makeNestedChildren(key, level + 1, count - 6) : null,\n      });\n    }\n    return result;\n  }\n\n  const big = [];\n  for (let i = 0; i < 5; i++) {\n    big.push({\n      key: `key_${i}`,\n      label: `\u9876\u5c42\u8282\u70b9${i}`,\n      children: makeNestedChildren(String(i), 1, 15),\n    });\n  }\n  return big;\n}",deps:()=>[],provides:{}};function v(){const e=Object(r.useMemo)(x,[]),n=Object(r.useRef)();return o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:8}},o.a.createElement(s.Button,{onClick:()=>{n.current.scrollToRow(100)}},"\u6eda\u52a8\u5230\u7b2c100\u6761\u6570\u636e\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a 0-2-6\uff09"),o.a.createElement(s.Button,{onClick:()=>{n.current.scrollToRow(0,s.VirtualListAlign.start)}},"\u6eda\u52a8\u5230\u7b2c\u4e00\u6761"),o.a.createElement(s.Button,{onClick:()=>{n.current.scrollToRow(1/0)}},"\u6eda\u52a8\u5230\u6700\u540e\u4e00\u6761")),o.a.createElement(y,{style:{width:400,height:400,overflow:"auto",marginTop:16},virtualListRef:n,dataSource:e,checkable:!0,defaultExpandAll:!0}))}const w={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:107,column:7},end:{line:146,column:1}},name:"Virtualization",value:v,source:"function Virtualization() {\n  const bigDataSource = useMemo(makeBigTreeItems, []);\n\n  const virtualListRef = useRef();\n\n  return (\n    <div>\n      <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n        <Button\n          onClick={() => {\n            virtualListRef.current.scrollToRow(100 /* \u9ed8\u8ba4\u4e3a VirtualListAlign.center */);\n          }}\n        >\n          \u6eda\u52a8\u5230\u7b2c100\u6761\u6570\u636e\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a 0-2-6\uff09\n        </Button>\n        <Button\n          onClick={() => {\n            virtualListRef.current.scrollToRow(0, VirtualListAlign.start);\n          }}\n        >\n          \u6eda\u52a8\u5230\u7b2c\u4e00\u6761\n        </Button>\n        <Button\n          onClick={() => {\n            virtualListRef.current.scrollToRow(Infinity);\n          }}\n        >\n          \u6eda\u52a8\u5230\u6700\u540e\u4e00\u6761\n        </Button>\n      </div>\n      <StyledTree\n        style={{ width: 400, height: 400, overflow: 'auto', marginTop: 16 }}\n        virtualListRef={virtualListRef}\n        dataSource={bigDataSource}\n        checkable\n        defaultExpandAll\n      />\n    </div>\n  );\n}",deps:()=>[S,b],provides:{useMemo:r.useMemo,useRef:r.useRef,Button:s.Button,VirtualListAlign:s.VirtualListAlign}};v.__doc_info=w,v.__inner_source="function Virtualization() {\n  const bigDataSource = useMemo(makeBigTreeItems, []);\n\n  const virtualListRef = useRef();\n\n  return (\n    <div>\n      <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n        <Button\n          onClick={() => {\n            virtualListRef.current.scrollToRow(100 /* \u9ed8\u8ba4\u4e3a VirtualListAlign.center */);\n          }}\n        >\n          \u6eda\u52a8\u5230\u7b2c100\u6761\u6570\u636e\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a 0-2-6\uff09\n        </Button>\n        <Button\n          onClick={() => {\n            virtualListRef.current.scrollToRow(0, VirtualListAlign.start);\n          }}\n        >\n          \u6eda\u52a8\u5230\u7b2c\u4e00\u6761\n        </Button>\n        <Button\n          onClick={() => {\n            virtualListRef.current.scrollToRow(Infinity);\n          }}\n        >\n          \u6eda\u52a8\u5230\u6700\u540e\u4e00\u6761\n        </Button>\n      </div>\n      <StyledTree\n        style={{ width: 400, height: 400, overflow: 'auto', marginTop: 16 }}\n        virtualListRef={virtualListRef}\n        dataSource={bigDataSource}\n        checkable\n        defaultExpandAll\n      />\n    </div>\n  );\n}";const T=[{key:"021",label:"\u4e0a\u6d77\u5b50\u516c\u53f8",children:[{key:"021-fresh-shop",label:"\u76d2\u9a6c\u9c9c\u751f\u95e8\u5e97",children:[{key:"8043",label:"\u4e0a\u6d77189\u8d2d\u7269\u4e2d\u5fc3\u5e97"},{key:"8056",label:"\u4e0a\u6d77\u767d\u7389\u5170\u5e7f\u573a\u5e97"},{key:"8005",label:"\u4e0a\u6d77\u5b9d\u5730\u5e97"},{key:"8055",label:"\u4e0a\u6d77\u5b9d\u5c71\u65b0\u4e1a\u574a\u5e97"},{key:"8079",label:"\u4e0a\u6d77\u5317\u6d0b\u6cfe\u83dc\u573a\u5e97"},{key:"8007",label:"\u4e0a\u6d77\u66f9\u5bb6\u6e21\u5e97"}]},{key:"021-F2",label:"\u76d2\u9a6cF2\u95e8\u5e97",children:[{key:"8020",label:"\u4e0a\u6d77F2\u767d\u91d1\u6e7e\u5e97"},{key:"8068",label:"\u4e0a\u6d77\u957f\u5b81\u6765\u798f\u58eb\u5e97"},{key:"8011",label:"\u4e0a\u6d77\u957f\u6cf0\u5e97"},{key:"8049",label:"\u4e0a\u6d77\u5927\u573a\u8001\u8857\u5e97"}]}]},{key:"0571",label:"\u6d59\u6c5f\u5b50\u516c\u53f8",children:[{key:"0571-fresh-shop",label:"\u76d2\u9a6c\u9c9c\u751f\u95e8\u5e97",children:[{key:"13004",label:"\u76d2\u9a6c\u676d\u5dde\u89e3\u767e\u5e97"},{key:"8050",label:"\u676d\u5dde\u4e34\u5e73\u4e2d\u90fd\u5e97"},{key:"8028",label:"\u676d\u5dde\u4eb2\u6a59\u91cc\u5e97"},{key:"8057",label:"\u676d\u5dde\u5e86\u6625\u5e97"},{key:"8029",label:"\u676d\u5dde\u8427\u5c71\u4e07\u8c61\u6c47\u5e97"}]},{key:"0571-qzc",label:"\u76d2\u9a6c\u5c0f\u7ad9",children:[{key:"QZCHZ002",label:"\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u95f2\u6797\u5c71\u6c34\u7ad9"},{key:"QZCHZ001",label:"\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u897f\u57ce\u5e7f\u573a\u7ad9"},{key:"QZCHZ008",label:"\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u897f\u6eaa\u8c37\u7ad9"},{key:"QZCHZ015",label:"\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u6d8c\u6c5f\u7ad9"},{key:"QZCHZ0010",label:"\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u8d44\u798f\u7ad9"}]},{key:"0571-f2",label:"\u76d2\u9a6cF2"},{key:"0571-xmcc",label:"\u9c9c\u7f8e\u83dc\u573a"}]}],C={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:148,column:0},end:{line:207,column:2}},name:"shopTree",value:T,source:"const shopTree = [\n  {\n    key: '021',\n    label: '\u4e0a\u6d77\u5b50\u516c\u53f8',\n    children: [\n      {\n        key: '021-fresh-shop',\n        label: '\u76d2\u9a6c\u9c9c\u751f\u95e8\u5e97',\n        children: [\n          { key: '8043', label: '\u4e0a\u6d77189\u8d2d\u7269\u4e2d\u5fc3\u5e97' },\n          { key: '8056', label: '\u4e0a\u6d77\u767d\u7389\u5170\u5e7f\u573a\u5e97' },\n          { key: '8005', label: '\u4e0a\u6d77\u5b9d\u5730\u5e97' },\n          { key: '8055', label: '\u4e0a\u6d77\u5b9d\u5c71\u65b0\u4e1a\u574a\u5e97' },\n          { key: '8079', label: '\u4e0a\u6d77\u5317\u6d0b\u6cfe\u83dc\u573a\u5e97' },\n          { key: '8007', label: '\u4e0a\u6d77\u66f9\u5bb6\u6e21\u5e97' },\n        ],\n      },\n      {\n        key: '021-F2',\n        label: '\u76d2\u9a6cF2\u95e8\u5e97',\n        children: [\n          { key: '8020', label: '\u4e0a\u6d77F2\u767d\u91d1\u6e7e\u5e97' },\n          { key: '8068', label: '\u4e0a\u6d77\u957f\u5b81\u6765\u798f\u58eb\u5e97' },\n          { key: '8011', label: '\u4e0a\u6d77\u957f\u6cf0\u5e97' },\n          { key: '8049', label: '\u4e0a\u6d77\u5927\u573a\u8001\u8857\u5e97' },\n        ],\n      },\n    ],\n  },\n  {\n    key: '0571',\n    label: '\u6d59\u6c5f\u5b50\u516c\u53f8',\n    children: [\n      {\n        key: '0571-fresh-shop',\n        label: '\u76d2\u9a6c\u9c9c\u751f\u95e8\u5e97',\n        children: [\n          { key: '13004', label: '\u76d2\u9a6c\u676d\u5dde\u89e3\u767e\u5e97' },\n          { key: '8050', label: '\u676d\u5dde\u4e34\u5e73\u4e2d\u90fd\u5e97' },\n          { key: '8028', label: '\u676d\u5dde\u4eb2\u6a59\u91cc\u5e97' },\n          { key: '8057', label: '\u676d\u5dde\u5e86\u6625\u5e97' },\n          { key: '8029', label: '\u676d\u5dde\u8427\u5c71\u4e07\u8c61\u6c47\u5e97' },\n        ],\n      },\n      {\n        key: '0571-qzc',\n        label: '\u76d2\u9a6c\u5c0f\u7ad9',\n        children: [\n          { key: 'QZCHZ002', label: '\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u95f2\u6797\u5c71\u6c34\u7ad9' },\n          { key: 'QZCHZ001', label: '\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u897f\u57ce\u5e7f\u573a\u7ad9' },\n          { key: 'QZCHZ008', label: '\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u897f\u6eaa\u8c37\u7ad9' },\n          { key: 'QZCHZ015', label: '\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u6d8c\u6c5f\u7ad9' },\n          { key: 'QZCHZ0010', label: '\u676d\u5dde\u76d2\u9a6c\u5c0f\u7ad9\u8d44\u798f\u7ad9' },\n        ],\n      },\n      { key: '0571-f2', label: '\u76d2\u9a6cF2' },\n      { key: '0571-xmcc', label: '\u9c9c\u7f8e\u83dc\u573a' },\n    ],\n  },\n];",deps:()=>[],provides:{}};function E(){return o.a.createElement(y,{checkable:!0,checkStrictly:!0,style:{width:400,maxHeight:400,overflow:"auto"},dataSource:T})}const _={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:209,column:7},end:{line:218,column:1}},name:"\u7236\u5b50\u8282\u70b9\u9009\u4e2d\u4e0d\u5173\u8054",value:E,source:"function \u7236\u5b50\u8282\u70b9\u9009\u4e2d\u4e0d\u5173\u8054() {\n  return (\n    <StyledTree\n      checkable\n      checkStrictly\n      style={{ width: 400, maxHeight: 400, overflow: 'auto' }}\n      dataSource={shopTree}\n    />\n  );\n}",deps:()=>[b,C],provides:{}};function B(){return o.a.createElement(y,{style:{width:400,maxHeight:400,overflow:"auto"},selectable:!0,checkable:!0,defaultExpandAll:!0,defaultSelectedKeys:["8043","8056","8005","8055","8079","8007","QZCHZ002","QZCHZ001","QZCHZ008","QZCHZ015"],dataSource:T})}E.__doc_info=_,E.__inner_source="function \u7236\u5b50\u8282\u70b9\u9009\u4e2d\u4e0d\u5173\u8054() {\n  return (\n    <StyledTree\n      checkable\n      checkStrictly\n      style={{ width: 400, maxHeight: 400, overflow: 'auto' }}\n      dataSource={shopTree}\n    />\n  );\n}";const K={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:220,column:7},end:{line:242,column:1}},name:"\u53ef\u70b9\u51fb\u7684\u6811\u8282\u70b9",value:B,source:"function \u53ef\u70b9\u51fb\u7684\u6811\u8282\u70b9() {\n  return (\n    <StyledTree\n      style={{ width: 400, maxHeight: 400, overflow: 'auto' }}\n      selectable\n      checkable\n      defaultExpandAll\n      defaultSelectedKeys={[\n        '8043',\n        '8056',\n        '8005',\n        '8055',\n        '8079',\n        '8007',\n        'QZCHZ002',\n        'QZCHZ001',\n        'QZCHZ008',\n        'QZCHZ015',\n      ]}\n      dataSource={shopTree}\n    />\n  );\n}",deps:()=>[b,C],provides:{}};function Z(){const[e,n]=Object(r.useState)([]),t=Object(u.a)(),[a,l]=Object(r.useState)(""),[c,d]=Object(r.useState)([]),b=e=>{l(e);const n=Object(s.searchTreeByKeyword)(e,t);n.skipped||d(n.preferredExpandedKeys)},p=new Map(Object(i.j)(t).map(e=>[e.key,e.label])),h=Object(s.searchTreeByKeyword)(a,t).filteredDataSource;return o.a.createElement("div",null,o.a.createElement(s.Flex,{style:{gap:16,alignItems:"center"}},o.a.createElement(s.Button,{onClick:()=>{d(Object(i.j)(t).map(e=>e.key))}},"\u5c55\u5f00\u5168\u90e8"),o.a.createElement(s.Button,{onClick:()=>d([])},"\u6536\u62e2\u5168\u90e8")),o.a.createElement(s.Flex,{style:{margin:"8px 0",gap:8,alignItems:"center"}},o.a.createElement(s.Input,{value:a,onChange:b,placeholder:"\u7c7b\u76ee\u641c\u7d22",style:{width:300},hasClear:!0}),o.a.createElement("span",null,"\u63a8\u8350\u641c\u7d22\uff1a"),["\u8089","\u9c7c","\u4e2d\u9910","\u706b\u9505","\u7ea2","\u83dc"].map(e=>o.a.createElement(s.Tag,{key:e,interactive:!0,onClick:()=>b(e),style:{cursor:"pointer",borderRadius:4,border:"1px solid #ccc",fontSize:12,padding:"0 4px"}},e))),o.a.createElement(s.Flex,{style:{gap:8}},o.a.createElement(y,{style:{width:300,minWidth:300,height:400,overflow:"auto"},checkable:!0,checkedStrategy:"child",checkedKeys:e,onCheck:n,dataSource:h,expandedKeys:c,onExpand:d}),o.a.createElement("div",{style:{wordBreak:"break-all",fontSize:12,lineHeight:1.5}},"\u5df2\u9009\u7c7b\u76ee\uff1a",e.map(e=>p.get(e)).slice(0,30).join(","),e.length>30&&o.a.createElement("span",{style:{fontSize:"150%",marginLeft:4,color:"indianred"}},"\u7b49 ",e.length," \u9879"))))}B.__doc_info=K,B.__inner_source="function \u53ef\u70b9\u51fb\u7684\u6811\u8282\u70b9() {\n  return (\n    <StyledTree\n      style={{ width: 400, maxHeight: 400, overflow: 'auto' }}\n      selectable\n      checkable\n      defaultExpandAll\n      defaultSelectedKeys={[\n        '8043',\n        '8056',\n        '8005',\n        '8055',\n        '8079',\n        '8007',\n        'QZCHZ002',\n        'QZCHZ001',\n        'QZCHZ008',\n        'QZCHZ015',\n      ]}\n      dataSource={shopTree}\n    />\n  );\n}";const j={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/tree.stories.tsx",loc:{start:{line:244,column:7},end:{line:318,column:1}},name:"\u4e1a\u52a1\u793a\u4f8b_\u7c7b\u76ee\u641c\u7d22\u4e0e\u591a\u9009",value:Z,source:"function \u4e1a\u52a1\u793a\u4f8b_\u7c7b\u76ee\u641c\u7d22\u4e0e\u591a\u9009() {\n  const [checkedKeys, onCheck] = useState([]);\n  const dataSource = useCateTree();\n  const [keyword, _setKeyword] = useState('');\n\n  const [expandedKeys, onExpand] = useState([]);\n\n  const setKeyword = (word) => {\n    _setKeyword(word);\n    const searchResult = searchTreeByKeyword(word, dataSource);\n    if (!searchResult.skipped) {\n      onExpand(searchResult.preferredExpandedKeys);\n    }\n  };\n\n  const nameMap = new Map(collectNodes(dataSource).map((item) => [item.key, item.label]));\n\n  const recommendations = ['\u8089', '\u9c7c', '\u4e2d\u9910', '\u706b\u9505', '\u7ea2', '\u83dc'];\n\n  const filteredDataSource = searchTreeByKeyword(keyword, dataSource).filteredDataSource;\n\n  return (\n    <div>\n      <Flex style={{ gap: 16, alignItems: 'center' }}>\n        <Button\n          onClick={() => {\n            onExpand(collectNodes(dataSource).map((item) => item.key));\n          }}\n        >\n          \u5c55\u5f00\u5168\u90e8\n        </Button>\n        <Button onClick={() => onExpand([])}>\u6536\u62e2\u5168\u90e8</Button>\n      </Flex>\n      <Flex style={{ margin: '8px 0', gap: 8, alignItems: 'center' }}>\n        <Input value={keyword} onChange={setKeyword} placeholder=\"\u7c7b\u76ee\u641c\u7d22\" style={{ width: 300 }} hasClear />\n        <span>\u63a8\u8350\u641c\u7d22\uff1a</span>\n        {recommendations.map((word) => (\n          <Tag\n            key={word}\n            interactive\n            onClick={() => setKeyword(word)}\n            style={{ cursor: 'pointer', borderRadius: 4, border: '1px solid #ccc', fontSize: 12, padding: '0 4px' }}\n          >\n            {word}\n          </Tag>\n        ))}\n      </Flex>\n\n      <Flex style={{ gap: 8 }}>\n        <StyledTree\n          style={{ width: 300, minWidth: 300, height: 400, overflow: 'auto' }}\n          checkable\n          // \u6ce8\u610f\u5728\u76ee\u524d\u7684\u641c\u7d22\u573a\u666f\u4e0b\uff0ccheckedStrategy \u9009\u62e9 child \u8fd8\u662f parent \u7684\u5f71\u54cd\u662f\u5f88\u5927\u7684\n          checkedStrategy=\"child\"\n          checkedKeys={checkedKeys}\n          onCheck={onCheck}\n          dataSource={filteredDataSource}\n          expandedKeys={expandedKeys}\n          onExpand={onExpand}\n        />\n\n        <div style={{ wordBreak: 'break-all', fontSize: 12, lineHeight: 1.5 }}>\n          \u5df2\u9009\u7c7b\u76ee\uff1a\n          {checkedKeys\n            .map((key) => nameMap.get(key))\n            .slice(0, 30)\n            .join(',')}\n          {checkedKeys.length > 30 && (\n            <span style={{ fontSize: '150%', marginLeft: 4, color: 'indianred' }}>\u7b49 {checkedKeys.length} \u9879</span>\n          )}\n        </div>\n      </Flex>\n    </div>\n  );\n}",deps:()=>[b],provides:{useState:r.useState,useCateTree:u.a,searchTreeByKeyword:s.searchTreeByKeyword,collectNodes:i.j,Flex:s.Flex,Button:s.Button,Input:s.Input,Tag:s.Tag}};Z.__inner_source="function \u4e1a\u52a1\u793a\u4f8b_\u7c7b\u76ee\u641c\u7d22\u4e0e\u591a\u9009() {\n  const [checkedKeys, onCheck] = useState([]);\n  const dataSource = useCateTree();\n  const [keyword, _setKeyword] = useState('');\n\n  const [expandedKeys, onExpand] = useState([]);\n\n  const setKeyword = (word) => {\n    _setKeyword(word);\n    const searchResult = searchTreeByKeyword(word, dataSource);\n    if (!searchResult.skipped) {\n      onExpand(searchResult.preferredExpandedKeys);\n    }\n  };\n\n  const nameMap = new Map(collectNodes(dataSource).map((item) => [item.key, item.label]));\n\n  const recommendations = ['\u8089', '\u9c7c', '\u4e2d\u9910', '\u706b\u9505', '\u7ea2', '\u83dc'];\n\n  const filteredDataSource = searchTreeByKeyword(keyword, dataSource).filteredDataSource;\n\n  return (\n    <div>\n      <Flex style={{ gap: 16, alignItems: 'center' }}>\n        <Button\n          onClick={() => {\n            onExpand(collectNodes(dataSource).map((item) => item.key));\n          }}\n        >\n          \u5c55\u5f00\u5168\u90e8\n        </Button>\n        <Button onClick={() => onExpand([])}>\u6536\u62e2\u5168\u90e8</Button>\n      </Flex>\n      <Flex style={{ margin: '8px 0', gap: 8, alignItems: 'center' }}>\n        <Input value={keyword} onChange={setKeyword} placeholder=\"\u7c7b\u76ee\u641c\u7d22\" style={{ width: 300 }} hasClear />\n        <span>\u63a8\u8350\u641c\u7d22\uff1a</span>\n        {recommendations.map((word) => (\n          <Tag\n            key={word}\n            interactive\n            onClick={() => setKeyword(word)}\n            style={{ cursor: 'pointer', borderRadius: 4, border: '1px solid #ccc', fontSize: 12, padding: '0 4px' }}\n          >\n            {word}\n          </Tag>\n        ))}\n      </Flex>\n\n      <Flex style={{ gap: 8 }}>\n        <StyledTree\n          style={{ width: 300, minWidth: 300, height: 400, overflow: 'auto' }}\n          checkable\n          // \u6ce8\u610f\u5728\u76ee\u524d\u7684\u641c\u7d22\u573a\u666f\u4e0b\uff0ccheckedStrategy \u9009\u62e9 child \u8fd8\u662f parent \u7684\u5f71\u54cd\u662f\u5f88\u5927\u7684\n          checkedStrategy=\"child\"\n          checkedKeys={checkedKeys}\n          onCheck={onCheck}\n          dataSource={filteredDataSource}\n          expandedKeys={expandedKeys}\n          onExpand={onExpand}\n        />\n\n        <div style={{ wordBreak: 'break-all', fontSize: 12, lineHeight: 1.5 }}>\n          \u5df2\u9009\u7c7b\u76ee\uff1a\n          {checkedKeys\n            .map((key) => nameMap.get(key))\n            .slice(0, 30)\n            .join(',')}\n          {checkedKeys.length > 30 && (\n            <span style={{ fontSize: '150%', marginLeft: 4, color: 'indianred' }}>\u7b49 {checkedKeys.length} \u9879</span>\n          )}\n        </div>\n      </Flex>\n    </div>\n  );\n}",Z.__doc_info=j;var R={id:"tree",title:"Tree \u6811"},O={unversionedId:"tree",id:"tree",isDocsHomePage:!1,title:"Tree \u6811",description:"\u4f7f\u7528\u573a\u666f",source:"@site/docs/tree.mdx",sourceDirName:".",slug:"/tree",permalink:"/rex-design/docs/tree",editUrl:"https://github.com/alibaba/rex-design/edit/main/packages/doc/docs/tree.mdx",version:"current",frontMatter:{id:"tree",title:"Tree \u6811"},sidebar:"docs",previous:{title:"Notice \u63d0\u793a\u6846",permalink:"/rex-design/docs/notice"},next:{title:"Checkbox \u590d\u9009\u6846",permalink:"/rex-design/docs/checkbox"}},H=[{value:"\u4f7f\u7528\u573a\u666f",id:"\u4f7f\u7528\u573a\u666f",children:[{value:"\u4f7f\u7528\u8bf4\u660e",id:"\u4f7f\u7528\u8bf4\u660e",children:[]}]},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",children:[{value:"\u57fa\u672c\u793a\u4f8b",id:"\u57fa\u672c\u793a\u4f8b",children:[]},{value:"\u53ef\u52fe\u9009\u7684\u6811",id:"\u53ef\u52fe\u9009\u7684\u6811",children:[]},{value:"\u865a\u62df\u6eda\u52a8",id:"\u865a\u62df\u6eda\u52a8",children:[]}]},{value:"API",id:"api",children:[]}],I=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(c.b)("div",n)}},F=I("Story"),D=I("PropsTable"),L={toc:H};function Q(e){var n=e.components,t=Object(l.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},L,t,{components:n,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"\u4f7f\u7528\u573a\u666f"},"\u4f7f\u7528\u573a\u666f"),Object(c.b)("h3",{id:"\u4f7f\u7528\u8bf4\u660e"},"\u4f7f\u7528\u8bf4\u660e"),Object(c.b)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),Object(c.b)("h3",{id:"\u57fa\u672c\u793a\u4f8b"},"\u57fa\u672c\u793a\u4f8b"),Object(c.b)(F,{fn:k,mdxType:"Story"}),Object(c.b)("h3",{id:"\u53ef\u52fe\u9009\u7684\u6811"},"\u53ef\u52fe\u9009\u7684\u6811"),Object(c.b)(F,{fn:f,mdxType:"Story"}),Object(c.b)("h3",{id:"\u865a\u62df\u6eda\u52a8"},"\u865a\u62df\u6eda\u52a8"),Object(c.b)(F,{fn:v,mdxType:"Story"}),Object(c.b)("h2",{id:"api"},"API"),Object(c.b)(D,{component:s.Tree,mdxType:"PropsTable"}))}Q.isMDXComponent=!0},496:function(e,n,t){"use strict";t.d(n,"a",(function(){return y}));var a=t(181),l=t(0),r=t(650),o=t(460),c=t(218),s=t(560),i=t(213);const d=Object(r.a)(()=>fetch("/{you-api-host}/QueryMerchantCategoryTree.json",{credentials:"include"})).pipe(o.a(e=>e.json()),c.a(e=>e.result[0].children),c.a(e=>Object(a.d)(e=>({key:e.key,label:e.name,children:e.children}))(e)),s.a(1)),u={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/test-tree-data.tsx",loc:{start:{line:22,column:0},end:{line:42,column:2}},name:"cateTree$",value:d,source:"const cateTree$ = defer(() =>\n  fetch('/{you-api-host}/QueryMerchantCategoryTree.json', {\n    credentials: 'include',\n  }),\n).pipe(\n  op.switchMap((res) => res.json()),\n  op.map((result) => result.result[0].children ),\n  op.map((cateTree) => {\n    const mapper = makeRecursiveMapper((cateItem) => {\n      const treeItem = {\n        key: cateItem.key,\n        label: cateItem.name,\n        children: cateItem.children,\n      };\n      return treeItem;\n    });\n    const result = mapper(cateTree);\n    return result;\n  }),\n  op.shareReplay(1),\n);",deps:()=>[],provides:{defer:r.a,op:i,makeRecursiveMapper:a.d}};function y(){const[e,n]=Object(l.useState)([]);return Object(l.useEffect)(()=>{d.subscribe(n)},[]),e}const b={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/test-tree-data.tsx",loc:{start:{line:44,column:7},end:{line:52,column:1}},name:"useCateTree",value:y,source:"function useCateTree() {\n  const [dataSource, setDataSource] = useState([]);\n\n  useEffect(() => {\n    cateTree$.subscribe(setDataSource);\n  }, []);\n\n  return dataSource;\n}",deps:()=>[u],provides:{useState:l.useState,useEffect:l.useEffect}};y.__inner_source="function useCateTree() {\n  const [dataSource, setDataSource] = useState([]);\n\n  useEffect(() => {\n    cateTree$.subscribe(setDataSource);\n  }, []);\n\n  return dataSource;\n}",y.__doc_info=b}}]);
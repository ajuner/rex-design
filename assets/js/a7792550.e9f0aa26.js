(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{117:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return k})),n.d(t,"metadata",(function(){return M})),n.d(t,"toc",(function(){return N})),n.d(t,"default",(function(){return P}));var a=n(3),r=n(8),o=n(0),l=n.n(o),i=n(173),s=n(171),c=n(177),u=n(193);function d(e){return Math.floor(e+1)}const m=["note","body","subtitle","title","subheader","header"];function p(e){const t=function(e){const{leftCount:t=2,rightCount:n=3,leftOffset:a=1,rightOffset:r=2,base:o}=e,l=[];for(let i=0;i<t;i++)l.unshift(o-(i+1)*a);for(let i=0;i<=n;i++)l.push(o+i*r);return l}({base:function(e){const{width:t,height:n,diagonal:a,distance:r}=e,o=Math.sqrt(t**2+n**2)/a,l=r/70/.3527/(72/o),i=r/55/.3527/(72/o);return{min:d(r/140/.3527/(72/o)),max:d(i),base:d(l)}}(e).base}),n={};return t.forEach((e,t)=>{n[m[t]]=e}),n}const f=e=>l.a.createElement("svg",Object(a.a)({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.a.createElement("path",{d:"M512.021333 889.898667a32 32 0 0 1-32-32V165.184a32 32 0 1 1 64 0v692.714667a32 32 0 0 1-32 32zM314.816 732.181333a32 32 0 0 1-32-32v-396.373333a32 32 0 1 1 64 0v396.373333a32 32 0 0 1-32 32zM720.021333 732.181333a32 32 0 0 1-32-32v-396.373333a32 32 0 1 1 64 0v396.373333a32 32 0 0 1-32 32zM117.632 608.661333a32 32 0 0 1-32-32V469.12a32 32 0 1 1 64 0v107.541333a32 32 0 0 1-32 32zM911.018667 608.661333a32 32 0 0 1-32-32V469.12a32 32 0 1 1 64 0v107.541333a32 32 0 0 1-32 32z"}));f.__doc_info={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/icons/index.tsx",loc:{start:{line:3,column:7},end:{line:7,column:2}},name:"AudioIcon",value:f,source:'const AudioIcon = (props) => (\n  <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>\n    <path d="M512.021333 889.898667a32 32 0 0 1-32-32V165.184a32 32 0 1 1 64 0v692.714667a32 32 0 0 1-32 32zM314.816 732.181333a32 32 0 0 1-32-32v-396.373333a32 32 0 1 1 64 0v396.373333a32 32 0 0 1-32 32zM720.021333 732.181333a32 32 0 0 1-32-32v-396.373333a32 32 0 1 1 64 0v396.373333a32 32 0 0 1-32 32zM117.632 608.661333a32 32 0 0 1-32-32V469.12a32 32 0 1 1 64 0v107.541333a32 32 0 0 1-32 32zM911.018667 608.661333a32 32 0 0 1-32-32V469.12a32 32 0 1 1 64 0v107.541333a32 32 0 0 1-32 32z"></path>\n  </svg>\n);',deps:()=>[],provides:{}},f.__inner_source='(props) => (\n  <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>\n    <path d="M512.021333 889.898667a32 32 0 0 1-32-32V165.184a32 32 0 1 1 64 0v692.714667a32 32 0 0 1-32 32zM314.816 732.181333a32 32 0 0 1-32-32v-396.373333a32 32 0 1 1 64 0v396.373333a32 32 0 0 1-32 32zM720.021333 732.181333a32 32 0 0 1-32-32v-396.373333a32 32 0 1 1 64 0v396.373333a32 32 0 0 1-32 32zM117.632 608.661333a32 32 0 0 1-32-32V469.12a32 32 0 1 1 64 0v107.541333a32 32 0 0 1-32 32zM911.018667 608.661333a32 32 0 0 1-32-32V469.12a32 32 0 1 1 64 0v107.541333a32 32 0 0 1-32 32z"></path>\n  </svg>\n)';const h=e=>l.a.createElement("svg",Object(a.a)({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.a.createElement("path",{d:"M753.117461 265.937747c-121.307942-121.297239-317.975793-121.297239-439.283734 0l-166.164266 166.174969c-121.307942 121.307942-121.307942 317.975793 0 439.283734 121.297239 121.297239 317.975793 121.297239 439.273031 0l166.174969-166.174969c121.307942-121.307942 121.307942-317.975793 0-439.283734z m-219.144177 552.478792c-91.896064 91.896064-241.438552 91.896064-333.334615 0s-91.896064-241.427849 0-333.323912l166.174969-166.174969c91.896064-91.896064 241.427849-91.896064 333.323912 0s91.896064 241.427849 0 333.323912l-166.164266 166.174969z"}),l.a.createElement("path",{d:"M348.746953 318.061417l363.099693 363.099693-52.979911 52.979911-363.110396-363.099693zM610.949349 472.067061a37.481949 37.481949 0 0 1-52.979911 0 37.481949 37.481949 0 0 1 0-52.979911l60.546941-60.546941a37.460543 37.460543 0 0 1 52.97991 0 37.481949 37.481949 0 0 1 0 52.979911l-60.54694 60.546941zM964.448439 131.968142a37.481949 37.481949 0 0 0-12.340573-51.524301 37.481949 37.481949 0 0 0-51.524301 12.351276c-0.78132 1.295064-1.305768 2.654347-1.915839 4.002926l-0.396012-0.235466c-51.973828 83.611932-115.646048 153.81299-185.247737 208.70874l67.407572 41.324331c68.135376-57.336037 130.244957-128.01873 181.715743-210.860046l-0.385309-0.224763c0.909756-1.166628 1.894433-2.258336 2.686456-3.542697z"}));h.__doc_info={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/icons/index.tsx",loc:{start:{line:9,column:7},end:{line:14,column:2}},name:"MouseIcon",value:h,source:'const MouseIcon = (props) => (\n  <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>\n    <path d="M753.117461 265.937747c-121.307942-121.297239-317.975793-121.297239-439.283734 0l-166.164266 166.174969c-121.307942 121.307942-121.307942 317.975793 0 439.283734 121.297239 121.297239 317.975793 121.297239 439.273031 0l166.174969-166.174969c121.307942-121.307942 121.307942-317.975793 0-439.283734z m-219.144177 552.478792c-91.896064 91.896064-241.438552 91.896064-333.334615 0s-91.896064-241.427849 0-333.323912l166.174969-166.174969c91.896064-91.896064 241.427849-91.896064 333.323912 0s91.896064 241.427849 0 333.323912l-166.164266 166.174969z"></path>\n    <path d="M348.746953 318.061417l363.099693 363.099693-52.979911 52.979911-363.110396-363.099693zM610.949349 472.067061a37.481949 37.481949 0 0 1-52.979911 0 37.481949 37.481949 0 0 1 0-52.979911l60.546941-60.546941a37.460543 37.460543 0 0 1 52.97991 0 37.481949 37.481949 0 0 1 0 52.979911l-60.54694 60.546941zM964.448439 131.968142a37.481949 37.481949 0 0 0-12.340573-51.524301 37.481949 37.481949 0 0 0-51.524301 12.351276c-0.78132 1.295064-1.305768 2.654347-1.915839 4.002926l-0.396012-0.235466c-51.973828 83.611932-115.646048 153.81299-185.247737 208.70874l67.407572 41.324331c68.135376-57.336037 130.244957-128.01873 181.715743-210.860046l-0.385309-0.224763c0.909756-1.166628 1.894433-2.258336 2.686456-3.542697z"></path>\n  </svg>\n);',deps:()=>[],provides:{}},h.__inner_source='(props) => (\n  <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>\n    <path d="M753.117461 265.937747c-121.307942-121.297239-317.975793-121.297239-439.283734 0l-166.164266 166.174969c-121.307942 121.307942-121.307942 317.975793 0 439.283734 121.297239 121.297239 317.975793 121.297239 439.273031 0l166.174969-166.174969c121.307942-121.307942 121.307942-317.975793 0-439.283734z m-219.144177 552.478792c-91.896064 91.896064-241.438552 91.896064-333.334615 0s-91.896064-241.427849 0-333.323912l166.174969-166.174969c91.896064-91.896064 241.427849-91.896064 333.323912 0s91.896064 241.427849 0 333.323912l-166.164266 166.174969z"></path>\n    <path d="M348.746953 318.061417l363.099693 363.099693-52.979911 52.979911-363.110396-363.099693zM610.949349 472.067061a37.481949 37.481949 0 0 1-52.979911 0 37.481949 37.481949 0 0 1 0-52.979911l60.546941-60.546941a37.460543 37.460543 0 0 1 52.97991 0 37.481949 37.481949 0 0 1 0 52.979911l-60.54694 60.546941zM964.448439 131.968142a37.481949 37.481949 0 0 0-12.340573-51.524301 37.481949 37.481949 0 0 0-51.524301 12.351276c-0.78132 1.295064-1.305768 2.654347-1.915839 4.002926l-0.396012-0.235466c-51.973828 83.611932-115.646048 153.81299-185.247737 208.70874l67.407572 41.324331c68.135376-57.336037 130.244957-128.01873 181.715743-210.860046l-0.385309-0.224763c0.909756-1.166628 1.894433-2.258336 2.686456-3.542697z"></path>\n  </svg>\n)';const y=e=>l.a.createElement("svg",Object(a.a)({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.a.createElement("path",{d:"M512.004096 170.667008c-307.160064 0-455.114752 298.305536-455.114752 312.88832 0 14.599168 144.003072 312.889344 455.114752 312.889344 311.105536 0 455.10656-298.2912 455.10656-312.889344 0-14.582784-147.954688-312.88832-455.10656-312.88832z m0 483.555328c-94.2592 0-170.67008-76.41088-170.67008-170.669056 0-94.2592 76.41088-170.663936 170.67008-170.663936 94.251008 0 170.662912 76.40576 170.662912 170.663936 0 94.257152-76.411904 170.669056-170.662912 170.669056z m0-256c-47.136768 0-85.337088 38.20544-85.337088 85.32992 0 47.13472 38.20032 85.33504 85.337088 85.33504 47.123456 0 85.32992-38.20032 85.32992-85.33504 0-47.12448-38.206464-85.32992-85.32992-85.32992z"}));y.__doc_info={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/icons/index.tsx",loc:{start:{line:16,column:7},end:{line:20,column:2}},name:"EyeIcon",value:y,source:'const EyeIcon = (props) => (\n  <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>\n    <path d="M512.004096 170.667008c-307.160064 0-455.114752 298.305536-455.114752 312.88832 0 14.599168 144.003072 312.889344 455.114752 312.889344 311.105536 0 455.10656-298.2912 455.10656-312.889344 0-14.582784-147.954688-312.88832-455.10656-312.88832z m0 483.555328c-94.2592 0-170.67008-76.41088-170.67008-170.669056 0-94.2592 76.41088-170.663936 170.67008-170.663936 94.251008 0 170.662912 76.40576 170.662912 170.663936 0 94.257152-76.411904 170.669056-170.662912 170.669056z m0-256c-47.136768 0-85.337088 38.20544-85.337088 85.32992 0 47.13472 38.20032 85.33504 85.337088 85.33504 47.123456 0 85.32992-38.20032 85.32992-85.33504 0-47.12448-38.206464-85.32992-85.32992-85.32992z"></path>\n  </svg>\n);',deps:()=>[],provides:{}},y.__inner_source='(props) => (\n  <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>\n    <path d="M512.004096 170.667008c-307.160064 0-455.114752 298.305536-455.114752 312.88832 0 14.599168 144.003072 312.889344 455.114752 312.889344 311.105536 0 455.10656-298.2912 455.10656-312.889344 0-14.582784-147.954688-312.88832-455.10656-312.88832z m0 483.555328c-94.2592 0-170.67008-76.41088-170.67008-170.669056 0-94.2592 76.41088-170.663936 170.67008-170.663936 94.251008 0 170.662912 76.40576 170.662912 170.663936 0 94.257152-76.411904 170.669056-170.662912 170.669056z m0-256c-47.136768 0-85.337088 38.20544-85.337088 85.32992 0 47.13472 38.20032 85.33504 85.337088 85.33504 47.123456 0 85.32992-38.20032 85.32992-85.33504 0-47.12448-38.206464-85.32992-85.32992-85.32992z"></path>\n  </svg>\n)';const g=e=>l.a.createElement("svg",Object(a.a)({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},e),l.a.createElement("path",{d:"M298.666667 256c0-87.296 87.893333-170.666667 213.333333-170.666667s213.333333 83.370667 213.333333 170.666667a42.666667 42.666667 0 0 0 85.333334 0c0-148.352-141.354667-256-298.666667-256-157.354667 0-298.666667 107.648-298.666667 256a42.666667 42.666667 0 1 0 85.333334 0z m273.066666 0a102.4 102.4 0 0 0-95.317333 64.938667A102.314667 102.314667 0 0 0 349.866667 420.352V599.168a105.642667 105.642667 0 0 0-151.168 139.776l102.485333 178.133333A213.333333 213.333333 0 0 0 486.101333 1024h124.586667a213.333333 213.333333 0 0 0 210.986667-181.845333l14.421333-96.597334a170.666667 170.666667 0 0 0-123.946667-189.866666l-38.016-10.368V358.4A102.4 102.4 0 0 0 571.733333 256z m-119.466666 147.413333a17.066667 17.066667 0 0 1 17.066666 17.066667v126.464a42.666667 42.666667 0 0 0 85.333334 0V358.4a17.066667 17.066667 0 0 1 34.133333 0v219.562667a42.666667 42.666667 0 0 0 31.445333 41.130666l69.461334 18.944a85.333333 85.333333 0 0 1 61.994666 94.933334l-14.421333 96.597333A128 128 0 0 1 610.645333 938.666667h-124.586666a128 128 0 0 1-110.933334-64.128L272.64 696.405333a20.224 20.224 0 0 1 33.962667-21.888l51.285333 71.381334a42.666667 42.666667 0 0 0 77.312-24.917334V420.394667c0-9.344 7.552-16.938667 17.066667-16.938667z"})),b={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/icons/index.tsx",loc:{start:{line:22,column:7},end:{line:26,column:2}},name:"GestureIcon",value:g,source:'const GestureIcon = (props) => (\n  <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>\n    <path d="M298.666667 256c0-87.296 87.893333-170.666667 213.333333-170.666667s213.333333 83.370667 213.333333 170.666667a42.666667 42.666667 0 0 0 85.333334 0c0-148.352-141.354667-256-298.666667-256-157.354667 0-298.666667 107.648-298.666667 256a42.666667 42.666667 0 1 0 85.333334 0z m273.066666 0a102.4 102.4 0 0 0-95.317333 64.938667A102.314667 102.314667 0 0 0 349.866667 420.352V599.168a105.642667 105.642667 0 0 0-151.168 139.776l102.485333 178.133333A213.333333 213.333333 0 0 0 486.101333 1024h124.586667a213.333333 213.333333 0 0 0 210.986667-181.845333l14.421333-96.597334a170.666667 170.666667 0 0 0-123.946667-189.866666l-38.016-10.368V358.4A102.4 102.4 0 0 0 571.733333 256z m-119.466666 147.413333a17.066667 17.066667 0 0 1 17.066666 17.066667v126.464a42.666667 42.666667 0 0 0 85.333334 0V358.4a17.066667 17.066667 0 0 1 34.133333 0v219.562667a42.666667 42.666667 0 0 0 31.445333 41.130666l69.461334 18.944a85.333333 85.333333 0 0 1 61.994666 94.933334l-14.421333 96.597333A128 128 0 0 1 610.645333 938.666667h-124.586666a128 128 0 0 1-110.933334-64.128L272.64 696.405333a20.224 20.224 0 0 1 33.962667-21.888l51.285333 71.381334a42.666667 42.666667 0 0 0 77.312-24.917334V420.394667c0-9.344 7.552-16.938667 17.066667-16.938667z"></path>\n  </svg>\n);',deps:()=>[],provides:{}};g.__inner_source='(props) => (\n  <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="currentColor" {...props}>\n    <path d="M298.666667 256c0-87.296 87.893333-170.666667 213.333333-170.666667s213.333333 83.370667 213.333333 170.666667a42.666667 42.666667 0 0 0 85.333334 0c0-148.352-141.354667-256-298.666667-256-157.354667 0-298.666667 107.648-298.666667 256a42.666667 42.666667 0 1 0 85.333334 0z m273.066666 0a102.4 102.4 0 0 0-95.317333 64.938667A102.314667 102.314667 0 0 0 349.866667 420.352V599.168a105.642667 105.642667 0 0 0-151.168 139.776l102.485333 178.133333A213.333333 213.333333 0 0 0 486.101333 1024h124.586667a213.333333 213.333333 0 0 0 210.986667-181.845333l14.421333-96.597334a170.666667 170.666667 0 0 0-123.946667-189.866666l-38.016-10.368V358.4A102.4 102.4 0 0 0 571.733333 256z m-119.466666 147.413333a17.066667 17.066667 0 0 1 17.066666 17.066667v126.464a42.666667 42.666667 0 0 0 85.333334 0V358.4a17.066667 17.066667 0 0 1 34.133333 0v219.562667a42.666667 42.666667 0 0 0 31.445333 41.130666l69.461334 18.944a85.333333 85.333333 0 0 1 61.994666 94.933334l-14.421333 96.597333A128 128 0 0 1 610.645333 938.666667h-124.586666a128 128 0 0 1-110.933334-64.128L272.64 696.405333a20.224 20.224 0 0 1 33.962667-21.888l51.285333 71.381334a42.666667 42.666667 0 0 0 77.312-24.917334V420.394667c0-9.344 7.552-16.938667 17.066667-16.938667z"></path>\n  </svg>\n)',g.__doc_info=b;try{f.displayName="AudioIcon",f.__docgenInfo={description:"",displayName:"AudioIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../story/src/config/icons/index.tsx#AudioIcon"]={docgenInfo:f.__docgenInfo,name:"AudioIcon",path:"../story/src/config/icons/index.tsx#AudioIcon"})}catch(j){}try{h.displayName="MouseIcon",h.__docgenInfo={description:"",displayName:"MouseIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../story/src/config/icons/index.tsx#MouseIcon"]={docgenInfo:h.__docgenInfo,name:"MouseIcon",path:"../story/src/config/icons/index.tsx#MouseIcon"})}catch(j){}try{y.displayName="EyeIcon",y.__docgenInfo={description:"",displayName:"EyeIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../story/src/config/icons/index.tsx#EyeIcon"]={docgenInfo:y.__docgenInfo,name:"EyeIcon",path:"../story/src/config/icons/index.tsx#EyeIcon"})}catch(j){}try{g.displayName="GestureIcon",g.__docgenInfo={description:"",displayName:"GestureIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../story/src/config/icons/index.tsx#GestureIcon"]={docgenInfo:g.__docgenInfo,name:"GestureIcon",path:"../story/src/config/icons/index.tsx#GestureIcon"})}catch(j){}const v=u.b.ItemGroup,S={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/system-config.stories.tsx",loc:{start:{line:12,column:0},end:{line:12,column:37}},name:"FormItemGroup",value:v,source:"const FormItemGroup = Form.ItemGroup;",deps:()=>[],provides:{Form:u.b}};u.c.register({name:"toggleButtonGroup",component:s.ToggleButtonGroup,fallbackValue:null,isEmpty:e=>!(!Array.isArray(e)||e.length)||!!e});const x=new u.d({distance:350,diagonal:21,width:1024,height:768,operation:"mouse"}),_={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/system-config.stories.tsx",loc:{start:{line:26,column:0},end:{line:32,column:3}},name:"model",value:x,source:"const model = new FormModel({\n  distance: 350,\n  diagonal: 21,\n  width: 1024,\n  height: 768,\n  operation: 'mouse',\n});",deps:()=>[],provides:{FormModel:u.d}},E=[{key:"json",label:"\u4e0b\u8f7d JSON \u6587\u4ef6"},{key:"sketch",label:"\u4e0b\u8f7d Sketch \u6587\u4ef6",disabled:!0}],O={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/system-config.stories.tsx",loc:{start:{line:34,column:0},end:{line:37,column:2}},name:"downloads",value:E,source:"const downloads = [\n  { key: 'json', label: '\u4e0b\u8f7d JSON \u6587\u4ef6' },\n  { key: 'sketch', label: '\u4e0b\u8f7d Sketch \u6587\u4ef6', disabled: true },\n];",deps:()=>[],provides:{}},I={phone:"//img.alicdn.com/imgextra/i2/O1CN018Q4bIe1VbMZsZlIAL_!!6000000002671-1-tps-1080-810.gif",desktop:"//img.alicdn.com/imgextra/i1/O1CN019VkD4J1bZszf4vCqV_!!6000000003480-1-tps-1080-810.gif"},V={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/system-config.stories.tsx",loc:{start:{line:39,column:0},end:{line:42,column:2}},name:"gifMap",value:I,source:"const gifMap = {\n  phone: '//img.alicdn.com/imgextra/i2/O1CN018Q4bIe1VbMZsZlIAL_!!6000000002671-1-tps-1080-810.gif',\n  desktop: '//img.alicdn.com/imgextra/i1/O1CN019VkD4J1bZszf4vCqV_!!6000000003480-1-tps-1080-810.gif',\n};",deps:()=>[],provides:{}},C={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/system-config.stories.tsx",loc:{start:{line:44,column:0},end:{line:44,column:40}},name:"SCREEN_BREAKPOINT_FOR_PHONE",value:416,source:"const SCREEN_BREAKPOINT_FOR_PHONE = 416;",deps:()=>[],provides:{}},w=(e,t)=>{let n="desktop";return(e<416||"gesture"===t)&&(n="phone"),n},A={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/system-config.stories.tsx",loc:{start:{line:46,column:0},end:{line:52,column:2}},name:"getDevice",value:w,source:"const getDevice = (width, operation) => {\n  let device = 'desktop';\n  if (width < SCREEN_BREAKPOINT_FOR_PHONE || operation === 'gesture') {\n    device = 'phone';\n  }\n  return device;\n};",deps:()=>[C],provides:{}},F={width:"16px",height:"16px"},B={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/system-config.stories.tsx",loc:{start:{line:54,column:0},end:{line:57,column:2}},name:"iconProps",value:F,source:"const iconProps = {\n  width: '16px',\n  height: '16px',\n};",deps:()=>[],provides:{}};function R(){const e=[{value:"mouse",label:l.a.createElement(h,F),title:"\u9f20\u6807\u64cd\u4f5c"},{value:"gesture",label:l.a.createElement(g,F),title:"\u624b\u52bf\u64cd\u4f5c"},{value:"eye",label:l.a.createElement(y,F),disabled:!0,title:"\u4ec5\u9605\u8bfb"},{value:"audio",label:l.a.createElement(f,F),disabled:!0,title:"\u8bed\u97f3\u64cd\u4f5c"}];return l.a.createElement(s.Box,{display:"flex",borderRadius:"l",overflow:"hidden",position:"relative"},l.a.createElement(s.Box,{flex:"1",pl:"60px",py:"48px",bg:"#f0f0f0"},l.a.createElement(u.b,{model:x,layout:{labelPosition:"top"}},l.a.createElement(u.c,{component:"input",label:"\u6700\u5c0f\u9605\u8bfb\u8ddd\u79bb",name:"distance",componentProps:{type:"number",rightElement:l.a.createElement(s.Box,{fontSize:"body"},"mm"),min:200,max:1e4}}),l.a.createElement(u.c,{component:"input",label:"\u5c4f\u5e55\u5bf9\u89d2\u7ebf",name:"diagonal",componentProps:{type:"number",rightElement:l.a.createElement(s.Box,{fontSize:"body"},"\u82f1\u5bf8"),min:3,max:85}}),l.a.createElement(v,{label:"\u5206\u8fa8\u7387",inline:!0,controlWidth:148},l.a.createElement(u.c,{component:"input",label:null,name:"width",componentProps:{placeholder:"\u5bbd\u5ea6",rightElement:l.a.createElement(s.Box,{fontSize:"body"},"px"),width:148},style:{marginRight:12}}),l.a.createElement(u.c,{component:"input",label:null,name:"height",componentProps:{placeholder:"\u5bbd\u5ea6",rightElement:l.a.createElement(s.Box,{fontSize:"body"},"px"),width:148}})),l.a.createElement(u.c,{component:"toggleButtonGroup",label:"\u4e3b\u8981\u64cd\u4f5c\u65b9\u5f0f",name:"operation",componentProps:{dataSource:e,selectMode:"single",buttonProps:{isIconButton:!0}}}),l.a.createElement(s.Group,null,l.a.createElement(s.Button,{onClick:()=>{const e=w(x.values.width,x.values.operation),t=p(x.values);s.Dialog.show({title:"ReX \u4e3b\u9898\u6548\u679c\u9884\u89c8",disableScroll:"force",content:l.a.createElement(s.Box,{display:"flex"},l.a.createElement(s.Box,{flex:"1"},l.a.createElement(s.Image,{src:I[e],width:"400px"})),l.a.createElement(s.Box,{flex:"1"},l.a.createElement(s.Box,{fontSize:"title",pl:"l",mb:"xl"},"\u6839\u636e\u6700\u5c0f\u89c6\u8ddd\u63a8\u8350\u7684\u5b57\u53f7\u5e8f\u5217\uff1a"),l.a.createElement(s.Box,null,Object.keys(t).map(e=>l.a.createElement(s.Box,{key:e,px:"l",fontSize:"14px",lineHeight:2},l.a.createElement(s.Box,{display:"inline-block",width:"80px",textAlign:"right",mr:"m",fontWeight:"bold"},e),l.a.createElement(s.Box,{display:"inline-block"},t[e],"px")))))),style:{width:800}})}},"\u9884\u89c8\u6548\u679c"),l.a.createElement(s.ActionSheet,{target:l.a.createElement(s.Button,{type:"primary",rightElement:l.a.createElement(c.b,{type:"arrow-down-bold"})},"\u786e\u8ba4\u4e0b\u8f7d\u7ec4\u4ef6"),dataSource:E,onItemClick:e=>{const t=w(x.values.width);if("json"===e){const e=p(x.values),n=Object(s.extendTheme)(s.THEMES.light[t],{fontSizes:e}),a="data:text/json;chartset=utf-8,"+encodeURIComponent(JSON.stringify(n)),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download","theme.rex.json"),document.body.appendChild(r),r.click(),r.remove()}}})))),l.a.createElement(s.Box,{flexBasis:"400px",style:{background:"url(https://img.alicdn.com/imgextra/i1/O1CN01cg5Nkk1R3gzn9k9rG_!!6000000002056-2-tps-800-1286.png) top left",backgroundColor:"#2d3987",backgroundSize:"cover",backgroundPositionY:"-100px"}}),l.a.createElement(s.Box,{position:"absolute",top:"32px",right:"32px"},l.a.createElement(s.Image,{src:"https://img.alicdn.com/imgextra/i2/O1CN01ReQtHu25fmZ7MZkba_!!6000000007554-55-tps-72-15.svg"})))}const T={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/config/system-config.stories.tsx",loc:{start:{line:59,column:7},end:{line:201,column:1}},name:"System",value:R,source:'function System() {\n  const operations = [\n    { value: \'mouse\', label: <MouseIcon {...iconProps} />, title: \'\u9f20\u6807\u64cd\u4f5c\' },\n    { value: \'gesture\', label: <GestureIcon {...iconProps} />, title: \'\u624b\u52bf\u64cd\u4f5c\' },\n    { value: \'eye\', label: <EyeIcon {...iconProps} />, disabled: true, title: \'\u4ec5\u9605\u8bfb\' },\n    { value: \'audio\', label: <AudioIcon {...iconProps} />, disabled: true, title: \'\u8bed\u97f3\u64cd\u4f5c\' },\n  ];\n\n  const handlePreview = () => {\n    const device = getDevice(model.values.width, model.values.operation);\n    const fontSizes = generateFontSizeTokens(model.values);\n    Dialog.show({\n      title: \'ReX \u4e3b\u9898\u6548\u679c\u9884\u89c8\',\n      disableScroll: \'force\',\n      content: (\n        <Box display="flex">\n          <Box flex="1">\n            <Image src={gifMap[device]} width="400px" />\n          </Box>\n          <Box flex="1">\n            <Box fontSize="title" pl="l" mb="xl">\n              \u6839\u636e\u6700\u5c0f\u89c6\u8ddd\u63a8\u8350\u7684\u5b57\u53f7\u5e8f\u5217\uff1a\n            </Box>\n            <Box>\n              {Object.keys(fontSizes).map((item) => (\n                <Box key={item} px="l" fontSize="14px" lineHeight={2}>\n                  <Box display="inline-block" width="80px" textAlign="right" mr="m" fontWeight="bold">\n                    {item}\n                  </Box>\n                  <Box display="inline-block">{fontSizes[item]}px</Box>\n                </Box>\n              ))}\n            </Box>\n          </Box>\n        </Box>\n      ),\n      style: {\n        width: 800,\n      },\n    });\n  };\n\n  const handleDownload = (action) => {\n    const device = getDevice(model.values.width);\n\n    if (action === \'json\') {\n      const fontSizes = generateFontSizeTokens(model.values);\n      const theme = extendTheme(THEMES.light[device], { fontSizes });\n      const dataStr = `data:text/json;chartset=utf-8,${encodeURIComponent(JSON.stringify(theme))}`;\n      const node = document.createElement(\'a\');\n      node.setAttribute(\'href\', dataStr);\n      node.setAttribute(\'download\', \'theme.rex.json\');\n      document.body.appendChild(node);\n      node.click();\n      node.remove();\n    } else if (action === \'sketch\') {\n      // TODO: download sketch \u6682\u4e0d\u63d0\u4f9b\uff0c\u9700\u8981\u652f\u6301 sketch \u52a8\u6001\u751f\u6210\u80fd\u529b\n    }\n  };\n\n  return (\n    <Box display="flex" borderRadius="l" overflow="hidden" position="relative">\n      <Box flex="1" pl="60px" py="48px" bg="#f0f0f0">\n        <Form model={model} layout={{ labelPosition: \'top\' }}>\n          <FormItem\n            component="input"\n            label="\u6700\u5c0f\u9605\u8bfb\u8ddd\u79bb"\n            name="distance"\n            componentProps={{\n              type: \'number\',\n              rightElement: <Box fontSize="body">mm</Box>,\n              min: 200,\n              max: 10000,\n            }}\n          />\n          <FormItem\n            component="input"\n            label="\u5c4f\u5e55\u5bf9\u89d2\u7ebf"\n            name="diagonal"\n            componentProps={{\n              type: \'number\',\n              rightElement: <Box fontSize="body">\u82f1\u5bf8</Box>,\n              min: 3,\n              max: 85,\n            }}\n          />\n          <FormItemGroup label="\u5206\u8fa8\u7387" inline controlWidth={148}>\n            <FormItem\n              component="input"\n              label={null}\n              name="width"\n              componentProps={{ placeholder: \'\u5bbd\u5ea6\', rightElement: <Box fontSize="body">px</Box>, width: 148 }}\n              style={{ marginRight: 12 }}\n            />\n            <FormItem\n              component="input"\n              label={null}\n              name="height"\n              componentProps={{ placeholder: \'\u5bbd\u5ea6\', rightElement: <Box fontSize="body">px</Box>, width: 148 }}\n            />\n          </FormItemGroup>\n          <FormItem\n            component="toggleButtonGroup"\n            label="\u4e3b\u8981\u64cd\u4f5c\u65b9\u5f0f"\n            name="operation"\n            componentProps={{\n              dataSource: operations,\n              selectMode: \'single\',\n              buttonProps: {\n                isIconButton: true,\n              },\n            }}\n          />\n          <Group>\n            <Button onClick={handlePreview}>\u9884\u89c8\u6548\u679c</Button>\n            <ActionSheet\n              target={\n                <Button type="primary" rightElement={<Icon type="arrow-down-bold" />}>\n                  \u786e\u8ba4\u4e0b\u8f7d\u7ec4\u4ef6\n                </Button>\n              }\n              dataSource={downloads}\n              onItemClick={handleDownload}\n            />\n          </Group>\n        </Form>\n      </Box>\n      <Box\n        flexBasis="400px"\n        style={{\n          background:\n            \'url(https://img.alicdn.com/imgextra/i1/O1CN01cg5Nkk1R3gzn9k9rG_!!6000000002056-2-tps-800-1286.png) top left\',\n          backgroundColor: \'#2d3987\',\n          backgroundSize: \'cover\',\n          backgroundPositionY: \'-100px\',\n        }}\n      />\n      <Box position="absolute" top="32px" right="32px">\n        <Image src="https://img.alicdn.com/imgextra/i2/O1CN01ReQtHu25fmZ7MZkba_!!6000000007554-55-tps-72-15.svg" />\n      </Box>\n    </Box>\n  );\n}',deps:()=>[B,A,_,V,S,O],provides:{MouseIcon:h,GestureIcon:g,EyeIcon:y,AudioIcon:f,generateFontSizeTokens:p,Dialog:s.Dialog,Box:s.Box,Image:s.Image,extendTheme:s.extendTheme,THEMES:s.THEMES,Form:u.b,FormItem:u.c,Group:s.Group,Button:s.Button,ActionSheet:s.ActionSheet,Icon:c.b}};R.__inner_source='function System() {\n  const operations = [\n    { value: \'mouse\', label: <MouseIcon {...iconProps} />, title: \'\u9f20\u6807\u64cd\u4f5c\' },\n    { value: \'gesture\', label: <GestureIcon {...iconProps} />, title: \'\u624b\u52bf\u64cd\u4f5c\' },\n    { value: \'eye\', label: <EyeIcon {...iconProps} />, disabled: true, title: \'\u4ec5\u9605\u8bfb\' },\n    { value: \'audio\', label: <AudioIcon {...iconProps} />, disabled: true, title: \'\u8bed\u97f3\u64cd\u4f5c\' },\n  ];\n\n  const handlePreview = () => {\n    const device = getDevice(model.values.width, model.values.operation);\n    const fontSizes = generateFontSizeTokens(model.values);\n    Dialog.show({\n      title: \'ReX \u4e3b\u9898\u6548\u679c\u9884\u89c8\',\n      disableScroll: \'force\',\n      content: (\n        <Box display="flex">\n          <Box flex="1">\n            <Image src={gifMap[device]} width="400px" />\n          </Box>\n          <Box flex="1">\n            <Box fontSize="title" pl="l" mb="xl">\n              \u6839\u636e\u6700\u5c0f\u89c6\u8ddd\u63a8\u8350\u7684\u5b57\u53f7\u5e8f\u5217\uff1a\n            </Box>\n            <Box>\n              {Object.keys(fontSizes).map((item) => (\n                <Box key={item} px="l" fontSize="14px" lineHeight={2}>\n                  <Box display="inline-block" width="80px" textAlign="right" mr="m" fontWeight="bold">\n                    {item}\n                  </Box>\n                  <Box display="inline-block">{fontSizes[item]}px</Box>\n                </Box>\n              ))}\n            </Box>\n          </Box>\n        </Box>\n      ),\n      style: {\n        width: 800,\n      },\n    });\n  };\n\n  const handleDownload = (action) => {\n    const device = getDevice(model.values.width);\n\n    if (action === \'json\') {\n      const fontSizes = generateFontSizeTokens(model.values);\n      const theme = extendTheme(THEMES.light[device], { fontSizes });\n      const dataStr = `data:text/json;chartset=utf-8,${encodeURIComponent(JSON.stringify(theme))}`;\n      const node = document.createElement(\'a\');\n      node.setAttribute(\'href\', dataStr);\n      node.setAttribute(\'download\', \'theme.rex.json\');\n      document.body.appendChild(node);\n      node.click();\n      node.remove();\n    } else if (action === \'sketch\') {\n      // TODO: download sketch \u6682\u4e0d\u63d0\u4f9b\uff0c\u9700\u8981\u652f\u6301 sketch \u52a8\u6001\u751f\u6210\u80fd\u529b\n    }\n  };\n\n  return (\n    <Box display="flex" borderRadius="l" overflow="hidden" position="relative">\n      <Box flex="1" pl="60px" py="48px" bg="#f0f0f0">\n        <Form model={model} layout={{ labelPosition: \'top\' }}>\n          <FormItem\n            component="input"\n            label="\u6700\u5c0f\u9605\u8bfb\u8ddd\u79bb"\n            name="distance"\n            componentProps={{\n              type: \'number\',\n              rightElement: <Box fontSize="body">mm</Box>,\n              min: 200,\n              max: 10000,\n            }}\n          />\n          <FormItem\n            component="input"\n            label="\u5c4f\u5e55\u5bf9\u89d2\u7ebf"\n            name="diagonal"\n            componentProps={{\n              type: \'number\',\n              rightElement: <Box fontSize="body">\u82f1\u5bf8</Box>,\n              min: 3,\n              max: 85,\n            }}\n          />\n          <FormItemGroup label="\u5206\u8fa8\u7387" inline controlWidth={148}>\n            <FormItem\n              component="input"\n              label={null}\n              name="width"\n              componentProps={{ placeholder: \'\u5bbd\u5ea6\', rightElement: <Box fontSize="body">px</Box>, width: 148 }}\n              style={{ marginRight: 12 }}\n            />\n            <FormItem\n              component="input"\n              label={null}\n              name="height"\n              componentProps={{ placeholder: \'\u5bbd\u5ea6\', rightElement: <Box fontSize="body">px</Box>, width: 148 }}\n            />\n          </FormItemGroup>\n          <FormItem\n            component="toggleButtonGroup"\n            label="\u4e3b\u8981\u64cd\u4f5c\u65b9\u5f0f"\n            name="operation"\n            componentProps={{\n              dataSource: operations,\n              selectMode: \'single\',\n              buttonProps: {\n                isIconButton: true,\n              },\n            }}\n          />\n          <Group>\n            <Button onClick={handlePreview}>\u9884\u89c8\u6548\u679c</Button>\n            <ActionSheet\n              target={\n                <Button type="primary" rightElement={<Icon type="arrow-down-bold" />}>\n                  \u786e\u8ba4\u4e0b\u8f7d\u7ec4\u4ef6\n                </Button>\n              }\n              dataSource={downloads}\n              onItemClick={handleDownload}\n            />\n          </Group>\n        </Form>\n      </Box>\n      <Box\n        flexBasis="400px"\n        style={{\n          background:\n            \'url(https://img.alicdn.com/imgextra/i1/O1CN01cg5Nkk1R3gzn9k9rG_!!6000000002056-2-tps-800-1286.png) top left\',\n          backgroundColor: \'#2d3987\',\n          backgroundSize: \'cover\',\n          backgroundPositionY: \'-100px\',\n        }}\n      />\n      <Box position="absolute" top="32px" right="32px">\n        <Image src="https://img.alicdn.com/imgextra/i2/O1CN01ReQtHu25fmZ7MZkba_!!6000000007554-55-tps-72-15.svg" />\n      </Box>\n    </Box>\n  );\n}',R.__doc_info=T;var k={title:"MFDT \u914d\u7f6e\u5de5\u5177\uff08\u6d4b\u8bd5\u7248\uff09"},M={unversionedId:"mfdt-tool",id:"mfdt-tool",isDocsHomePage:!1,title:"MFDT \u914d\u7f6e\u5de5\u5177\uff08\u6d4b\u8bd5\u7248\uff09",description:"",source:"@site/design-docs/mfdt-tool.mdx",sourceDirName:".",slug:"/mfdt-tool",permalink:"/rex-design/design/mfdt-tool",editUrl:"https://github.com/alibaba/rex-design/edit/main/packages/doc/design-docs/mfdt-tool.mdx",version:"current",frontMatter:{title:"MFDT \u914d\u7f6e\u5de5\u5177\uff08\u6d4b\u8bd5\u7248\uff09"},sidebar:"docs",previous:{title:"MFDT \u591a\u56e0\u5b50\u8bbe\u8ba1",permalink:"/rex-design/design/mfdt"},next:{title:"\u591a\u56e0\u5b50\u7ec4\u4ef6\u6587\u6863\u793a\u4f8b-\u65e5\u671f\u9009\u62e9\u5668",permalink:"/rex-design/design/mfdt-for-datepicker"}},N=[],q={toc:N};function P(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},q,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)(R,null))}P.isMDXComponent=!0},193:function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return G})),n.d(t,"i",(function(){return P})),n.d(t,"c",(function(){return oe})),n.d(t,"e",(function(){return de})),n.d(t,"g",(function(){return pe})),n.d(t,"h",(function(){return I})),n.d(t,"f",(function(){return ce})),n.d(t,"a",(function(){return M}));var a=n(208),r=n.n(a),o=n(175),l=n(0),i=n.n(l);function s(e){return String(Number.parseInt(e))===e}function c(e){return s(e)?"array":"object"}function u(e,t,n){const a=Array.isArray(t)?t:p(t);let r=e;for(let l=0;l<a.length;l+=1){if(!o.i(r))return n;r=o.g(r,a[l])}return void 0===r?n:r}function d(e,t,n){const a=Array.isArray(t)?t:p(t),r=a.length-1;let l=e;for(let i=0;i<r;i+=1){const e=a[i];if(null==o.g(l,e)&&(s(a[i+1])?o.q(l,e,[]):o.q(l,e,{})),l=o.g(l,e),!o.i(l))return}o.i(l)&&o.q(l,a[r],n)}function m(e,t){return void 0!==e?e:t}function p(e){return e.split(".")}try{c.displayName="keyToValueShape",c.__docgenInfo={description:"",displayName:"keyToValueShape",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#keyToValueShape"]={docgenInfo:c.__docgenInfo,name:"keyToValueShape",path:"../xform/src/common-utils.tsx#keyToValueShape"})}catch(he){}try{u.displayName="observableGetIn",u.__docgenInfo={description:"lodash.get(...) for mobx observables",displayName:"observableGetIn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#observableGetIn"]={docgenInfo:u.__docgenInfo,name:"observableGetIn",path:"../xform/src/common-utils.tsx#observableGetIn"})}catch(he){}try{d.displayName="observableSetIn",d.__docgenInfo={description:"lodash.set(...) for mobx observables",displayName:"observableSetIn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#observableSetIn"]={docgenInfo:d.__docgenInfo,name:"observableSetIn",path:"../xform/src/common-utils.tsx#observableSetIn"})}catch(he){}try{m.displayName="composeState",m.__docgenInfo={description:"\u5408\u5e76\u53d7\u63a7\u72b6\u6001\u548c \u975e\u53d7\u63a7\u72b6\u6001",displayName:"composeState",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#composeState"]={docgenInfo:m.__docgenInfo,name:"composeState",path:"../xform/src/common-utils.tsx#composeState"})}catch(he){}try{p.displayName="splitToPath",p.__docgenInfo={description:"",displayName:"splitToPath",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#splitToPath"]={docgenInfo:p.__docgenInfo,name:"splitToPath",path:"../xform/src/common-utils.tsx#splitToPath"})}catch(he){}class f{constructor(e){this.fieldMap=new Map,this.model=e,this.valueShape="auto"}_updateValueShape(e){"auto"===this.valueShape?(this.valueShape=e,this.subModels="object"===e?{}:[]):r()(this.valueShape===e,"[xform] Model \u7684\u7ed3\u6784\u9700\u8981\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u4fdd\u6301\u4e00\u81f4\uff0c\u4e00\u4e2a\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u7684\u7ed3\u6784\u4e0d\u80fd\u4ece\u6570\u7ec4\u53d8\u4e3a\u5bf9\u8c61\uff0c\u4e5f\u4e0d\u80fd\u4ece\u5bf9\u8c61\u53d8\u4e3a\u6570\u7ec4")}iterateModels(e){const t=n=>{if(null!=n.subModels)for(const a of Object.values(n.subModels))e(a),t(a._proxy)};t(this)}iterateFields(e){this.fieldMap.forEach(t=>{t._forkMap.forEach(e)}),this.iterateModels(t=>{t._proxy.fieldMap.forEach(t=>{t._forkMap.forEach(e)})})}getSubModel(e){const t=Array.isArray(e)?e:p(e);let n=this.model;for(let a=0;a<t.length-1;a++)n=n._proxy._getSubModel(t[a]);return n._proxy._getSubModel(t[t.length-1])}_getSubModel(e){this._updateValueShape(c(e));let t=this.subModels[e];return null==t&&(t=new g(this.model,e),this.subModels[e]=t),t}getField(e){const t=Array.isArray(e)?e:p(e);if(t.length>1){const e=t[t.length-1];return this.getSubModel(t.slice(0,-1))._proxy.getField([e])}const n=t[0];return this._updateValueShape(c(n)),this.ensureField(n)}ensureField(e,t,n){let a=this.fieldMap.get(e);return null==a&&(a=new b(this.model,e,t,n),this.fieldMap.set(e,a)),a}getTupleField(...e){this._updateValueShape("object");const t=e.join("...");return this.ensureField(t,b.ORIGINAL,e)}}const h=[];class y{constructor(e={}){this._nextModelId=1,this._nextFieldId=1,this.state={},this.root=this,this.parent=this,this.path=h,this._proxy=new f(this),this.values=e,Object(o.k)(this,{values:o.l,state:o.l,setValue:o.c})}getNextModelId(){return"Model_"+this._nextModelId++}getNextFieldId(){return"Field_"+this._nextFieldId++}getValue(e,t){return u(this.values,String(e),t)}setValue(e,t){d(this.values,e,t)}getSubModel(e){return this._proxy.getSubModel(String(e))}getField(e){return this._proxy.getField(e)}getTupleField(...e){return this._proxy.getTupleField(...e)}_asField(){throw new Error("FormModel \u4e0b\u4e0d\u652f\u6301\u4f7f\u7528 name=& \u7684 Field")}}class g{constructor(e,t){this.state={},r()(!t.includes("."),"name \u4e2d\u4e0d\u80fd\u5305\u542b ."),this.root=e.root,this.parent=e,this.name=t,this._proxy=new f(this),this.id=this.root.getNextModelId(),Object(o.k)(this,{values:o.d,state:o.l,setValue:o.c,name:o.l},{name:`${this.id}(${this.name})`})}get path(){return[...this.parent.path,this.name]}getSubModel(e){return this._proxy.getSubModel(String(e))}getField(e){return this._proxy.getField(String(e))}getTupleField(...e){return this._proxy.getTupleField(...e)}get values(){return this.parent.getValue(this.name)}set values(e){this.parent.setValue(this.name,e)}getValue(e,t){return u(this.values,String(e),t)}setValue(e,t){null==this.values&&(this._proxy._updateValueShape(c(p(String(e))[0])),this.values="array"===this._proxy.valueShape?[]:{}),d(this.values,String(e),t)}_asField(){return this.parent.getField(this.name)}}class b{constructor(e,t,n=b.ORIGINAL,a){if(this.config=null,this.isMounted=!1,this.state={},this.handleBlur=()=>this.validate("blur"),this.handleChange=e=>{var t;return this.value=m(e,null===(t=this.config)||void 0===t?void 0:t.fallbackValue),this.validate("change")},this.parent=e,this.name=t,this.forkName=n,this.tupleParts=a,this.id=this.parent.root.getNextFieldId(),Object(o.k)(this,{state:o.l,value:o.d,path:o.d,validate:o.c,handleBlur:o.c,handleChange:o.c},{name:`${this.id}(${t}${n===b.ORIGINAL?"":"#"+n})`}),n===b.ORIGINAL)this._forkMap=new Map;else{const e=this.parent.getField(t);this._forkMap=e._forkMap}this._forkMap.set(n,this)}get value(){return this.tupleParts?this.tupleParts.map(e=>this.parent.getValue(e)):this.parent.getValue(this.name)}set value(e){this.tupleParts?this.tupleParts.forEach((t,n)=>{this.parent.setValue(t,e[n])}):this.parent.setValue(this.name,e)}get path(){return this.parent.path.concat([this.name])}_useTrack(e){Object(l.useLayoutEffect)(()=>{if(!this.isMounted)return this.config=e,this.isMounted=!0,()=>{this.config=null,this.isMounted=!1};console.warn(`[xform] field \`${this.path.join(".")}\` \u5df2\u5728\u89c6\u56fe\u4e2d\u88ab\u52a0\u8f7d\uff0c\u4f60\u9700\u8981 fork \u8be5\u5b57\u6bb5\u6765\u8fdb\u884c\u591a\u6b21\u52a0\u8f7d.`)},[e])}getFork(e){return this._forkMap.has(e)?this._forkMap.get(e):new b(this.parent,this.name,e,this.tupleParts)}async validate(e="*"){var t,n;if(!this.isMounted)return;const{validate:a,fallbackValue:r,isEmpty:l,required:i,requiredMessage:s="\u8be5\u5b57\u6bb5\u4e3a\u5fc5\u586b\u9879",validateOnMount:c,validateOnBlur:u,validateOnChange:d}=this.config,p=m(this.value,r);if(!("*"===e||u&&"blur"===e||c&&"mount"===e||d&&"change"===e))return;let f=!1;return null===(n=(t=this.state).cancelValidation)||void 0===n||n.call(t),this.state.validating=!0,this.state.cancelValidation=Object(o.c)(()=>{f=!0,this.state.cancelValidation=null,this.state.validating=!1}),(async()=>i&&l(p)?s:a?a(p,this,e):null)().then(Object(o.c)(e=>{if(!f)return this.state.cancelValidation=null,this.state.validating=!1,this.state.error=e,e}))}}b.ORIGINAL="original";var v=n(181),S=n(171),x=n(177),_=n(174),E=n.n(_),O=n(26);const I={clearError:Object(o.c)((function(e){e._proxy.iterateFields(e=>{e.state.error=null})})),validateAll:Object(o.c)((function(e,t="*"){let n=!1;const a=Object(o.l)("array"===e._proxy.valueShape?[]:{}),r=[];return e._proxy.iterateFields(e=>{e.isMounted&&r.push(e.validate(t).then(Object(o.c)(t=>{t&&(n=!0,d(a,e.path,t))})))}),Promise.all(r).then(()=>({hasError:n,errors:Object(o.r)(a)}))})),submit:Object(o.c)((async function(e,t={}){const{onError:n,onSubmit:a,valueFilter:r="mounted"}=t,{hasError:l,errors:i}=await I.validateAll(e);l?null==n||n(i,e):"function"==typeof a&&("all"===r?a(Object(o.r)(e.values),e):Object(o.p)(()=>{const t=Object(o.l)("array"===e._proxy.valueShape?[]:{});e._proxy.iterateFields(e=>{e.isMounted&&void 0!==e.value&&d(t,e.path,e.value)}),a(Object(o.r)(t),e)}))})),reset:Object(o.c)((function(e,{onReset:t}={}){e.values={},I.clearError(e),null==t||t(e)}))};function V(e){return"number"==typeof e?e+"px":e}const C=O.d.div`
  --label-width: auto;
  --control-width: auto;
  --form-item-gap: 0;
  font-size: 12px;

  .form-item {
    margin-bottom: var(--form-item-gap);
  }

  .form-item.minimal {
    margin-bottom: 0;

    > .error-message,
    > .form-item-label {
      display: none;
    }
  }

  &.horizontal {
    .form-item {
      display: flex;
    }

    .form-item-label {
      flex: 0 0 var(--label-width);
      padding-top: 8px;
      padding-right: 12px;
      text-align: right;
      line-height: 1.5;
    }
  }

  &.vertical {
    .form-item-label {
      font-size: 12px;
      line-height: 1.5;
      margin-bottom: 4px;
    }
  }

  .form-item-preview {
    > .form-item-label {
      padding-top: 0;
    }
    > .form-item-control {
      line-height: 1.5;
    }
  }

  .required-indicator {
    margin-right: 4px;
    color: #eb4141;
    ::before {
      content: '*';
    }
  }

  .error-message {
    margin-top: 4px;
    color: #eb4141;
  }

  .tip {
    margin-left: 4px;
    color: #999;
    height: 18px;
    vertical-align: top;
  }

  .help {
    color: #999999;
    margin-top: 4px;
    line-height: 1.5;
  }

  .form-item-control {
    width: var(--control-width);

    > .next-input,
    > .next-select {
      width: 100%;
    }

    > .next-range {
      padding: 8px 0;
    }

    > .next-checkbox-group,
    > .next-radio-group,
    > .next-checkbox-wrapper {
      display: inline-block;
      line-height: 18px;
    }
  }

  &.horizontal .form-item-control {
    > .next-checkbox-group,
    > .next-radio-group,
    > .next-checkbox-wrapper {
      padding-top: 8px;
    }
  }
`;function w({children:e,className:t,style:n,labelPosition:a="left",labelWidth:r=("left"===a?120:"auto"),formItemGap:o=("left"===a?12:16),controlWidth:l=320}){return i.a.createElement(C,{style:{"--label-width":V(r),"--control-width":V(l),"--form-item-gap":V(o),...n},className:E()({horizontal:"left"===a,vertical:"top"===a},t)},e)}const A=O.d.div`
  ${C}.horizontal & {
    display: flex;
  }

  &.inline {
    .form-item-group-content {
      display: flex;
    }
  }
`,F=({label:e,asterisk:t,tip:n,children:a,labelWidth:r,controlWidth:o,className:l,style:s,inline:c})=>{const{isPreview:u}=z();return i.a.createElement(A,{className:E()("form-item-group",{inline:c,"form-item-preview":u},l),style:s},null==e&&null==n?null:i.a.createElement("div",{className:"form-item-label"},t&&i.a.createElement("span",{className:"required-indicator"}),e&&i.a.createElement("span",{className:"form-item-label-text"},e),n&&i.a.createElement(B,{title:n})),i.a.createElement("div",{className:"form-item-group-content",style:{"--label-width":V(r),"--control-width":V(o)}},a))},B=({title:e})=>i.a.createElement(S.Tooltip,{interactionKind:"hover",title:e,renderTarget:e=>i.a.createElement(x.b,Object.assign({},e,{type:"prompt",className:"tip"}))});function R({label:e,help:t,tip:n,asterisk:a,error:r,children:o,className:l,style:s}){return i.a.createElement("div",{className:E()("form-item",l),style:s},null==e&&null==n?null:i.a.createElement("div",{className:"form-item-label"},a&&i.a.createElement("span",{className:"required-indicator"}),e&&i.a.createElement("span",{className:"form-item-label-text"},e),n&&i.a.createElement(B,{title:n})),i.a.createElement("div",{className:"form-item-control"},o,t&&i.a.createElement("div",{className:"help"},t),r&&i.a.createElement("div",{className:"error-message"},r)))}function T({type:e="primary",children:t="\u63d0\u4ea4",...n}){const a=P(),r=z();return i.a.createElement(S.Button,Object.assign({onClick:()=>I.submit(a,r),type:e,children:t},n))}function k({children:e="\u91cd\u7f6e",...t}){const n=P(),a=z();return i.a.createElement(S.Button,Object.assign({onClick:Object(o.c)(()=>I.reset(n,a)),children:e},t))}try{w.displayName="FormLayout",w.__docgenInfo={description:"",displayName:"FormLayout",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},labelPosition:{defaultValue:{value:"left"},description:"\u6807\u7b7e\u4f4d\u7f6e\uff0c\u53ef\u9009 'left' \u6216 'top'",name:"labelPosition",required:!1,type:{name:'"top" | "left"'}},labelWidth:{defaultValue:{value:"labelPosition === 'left' ? 120 : 'auto'"},description:"\u6807\u7b7e\u5bbd\u5ea6",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:{value:320},description:"\u63a7\u4ef6\u5bbd\u5ea6",name:"controlWidth",required:!1,type:{name:"string | number"}},formItemGap:{defaultValue:{value:"labelPosition === 'left' ? 12 : 16"},description:"\u4e24\u4e2a form item \u4e4b\u95f4\u7684\u95f4\u8ddd",name:"formItemGap",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormLayout"]={docgenInfo:w.__docgenInfo,name:"FormLayout",path:"../xform/src/form-ui.tsx#FormLayout"})}catch(he){}try{R.displayName="FormItemView",R.__docgenInfo={description:"",displayName:"FormItemView",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ReactNode"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormItemView"]={docgenInfo:R.__docgenInfo,name:"FormItemView",path:"../xform/src/form-ui.tsx#FormItemView"})}catch(he){}try{T.displayName="FormSubmit",T.__docgenInfo={description:"",displayName:"FormSubmit",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},type:{defaultValue:{value:"primary"},description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"link" | "text" | "solid" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"button" | "a"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormSubmit"]={docgenInfo:T.__docgenInfo,name:"FormSubmit",path:"../xform/src/form-ui.tsx#FormSubmit"})}catch(he){}try{k.displayName="FormReset",k.__docgenInfo={description:"",displayName:"FormReset",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},type:{defaultValue:null,description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"link" | "text" | "solid" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"button" | "a"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormReset"]={docgenInfo:k.__docgenInfo,name:"FormReset",path:"../xform/src/form-ui.tsx#FormReset"})}catch(he){}try{F.displayName="FormItemGroup",F.__docgenInfo={description:"",displayName:"FormItemGroup",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},labelWidth:{defaultValue:null,description:"",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:null,description:"",name:"controlWidth",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormItemGroup"]={docgenInfo:F.__docgenInfo,name:"FormItemGroup",path:"../xform/src/form-ui.tsx#FormItemGroup"})}catch(he){}class M{constructor(e,t){this.fetcher=e,this._refreshAtom=Object(o.f)("AsyncValue#refresh"),this._atom=Object(o.f)("AsyncValue"),this._disposers=[],this._error=null,this._start=()=>{this._reaction=new o.a("async",()=>{"loading"!==this._status&&(this._status="loading",this._atom.reportChanged()),this._reaction.track(()=>{var e,t;null===(e=this._cancelLastGetter)||void 0===e||e.call(this);let n=!1;this._cancelLastGetter=()=>{n=!0};const a=null!==(t=this._mobxGlobal.inXFormAsyncValueFetcher)&&void 0!==t&&t;this._mobxGlobal.inXFormAsyncValueFetcher=!0,this._refreshAtom.reportObserved(),this.fetcher().then(e=>{n||Object(o.p)(()=>{this._status="ready",e!==M.SKIP&&(this._current=e),this._error=null,this._atom.reportChanged()})}).catch(e=>{if(!(e instanceof M.StillLoading))throw Object(o.p)(()=>{this._status="error",this._error=e,this._atom.reportChanged()}),e}),this._mobxGlobal.inXFormAsyncValueFetcher=a})}),this._reaction.schedule_()},this._stop=()=>{this._reaction&&(this._reaction.dispose(),this._reaction=null)},this.fetcher=e,this._status="loading",this._current=t,Object(o.k)(this,{status:o.d,current:o.d,error:o.d}),this._disposers.push(this._stop),this._disposers.push(Object(o.m)(this._atom,this._start)),this._disposers.push(Object(o.n)(this._atom,this._stop)),this._disposers.push(()=>{this._status="ready",this._current=null,this._error=null})}get _mobxGlobal(){return Object(o.b)()}refresh(){this._refreshAtom.reportChanged()}dispose(){for(const e of this._disposers)e()}get status(){return this._atom.reportObserved(),this._status}get current(){if(this._mobxGlobal.inXFormAsyncValueFetcher){if(this._atom.reportObserved(),"loading"===status)throw new M.StillLoading;if("error"===status)throw this._error;return this._current}return this._atom.reportObserved(),this._current}get error(){return this._atom.reportObserved(),this._error}}M.SKIP="AsyncValue@SKIP",M.StillLoading=class extends Error{};const N=i.a.createContext(null);N.displayName="ModelContext";const q=N.Provider;function P(){return Object(l.useContext)(N)}const j=i.a.createContext({isPreview:!1,validateOnMount:!1,validateOnBlur:!0,validateOnChange:!0});j.displayName="FormEnvContext";const z=()=>Object(l.useContext)(j),L=({children:e,...t})=>{const n=z();return i.a.createElement(j.Provider,{value:{...n,...t}},e)};function G({model:e,defaultValue:t,children:n,className:a,style:r,layout:o,...s}){const[c]=Object(l.useState)(()=>new y(t)),u=m(e,c);return i.a.createElement(L,Object.assign({},s),i.a.createElement(q,{value:u},i.a.createElement(w,Object.assign({style:r,className:a},o),n)))}const K=Object(v.b)((function({watch:e,effect:t,fireImmediately:n}){const a=P(),r=Object(l.useCallback)((e,n)=>t(e,{model:a,prev:n,next:e}),[a,t]);return Object(l.useEffect)(()=>"string"==typeof e?Object(o.o)(()=>Object(o.r)(a.getValue(e)),r,{fireImmediately:n}):"function"==typeof e?Object(o.o)(e,r):e instanceof b?Object(o.o)(()=>e.value,r,{fireImmediately:n}):e instanceof M?Object(o.o)(()=>e.current,r,{fireImmediately:n}):Array.isArray(e)?Object(o.o)(()=>e.map(e=>"string"==typeof e?Object(o.r)(a.getValue(e)):e instanceof M?e.current:e.value),r,{fireImmediately:n}):void 0,[a,e,r,n]),null})),Y=Object(v.b)(({children:e})=>e(P())),W=Object(v.b)(({name:e,children:t,layout:n,itemFactory:a})=>{var r,o;const l=P();if("&"===e)throw new Error(`XFormArray \u4e0d\u652f\u6301 name=&. path=(${l.path.join(".")||"root"})`);const s=l.getSubModel(e),c=null!==(o=null===(r=s.values)||void 0===r?void 0:r.length)&&void 0!==o?o:0;return i.a.createElement(q,{value:s},n({arrayModel:s,itemCount:c,itemContent:t,itemFactory:a}))}),D=Object(v.b)(({name:e,children:t})=>{const n=P();return"&"===e?i.a.createElement(i.a.Fragment,null,t):i.a.createElement(q,{value:n.getSubModel(e),children:t})});G.Submit=T,G.Reset=k,G.Effect=K,G.Array=W,G.Object=D,G.ModelProvider=q,G.ModelConsumer=Y,G.Layout=w,G.ItemGroup=F,G.ItemView=R;try{G.displayName="Form",G.__docgenInfo={description:"",displayName:"Form",props:{model:{defaultValue:null,description:"\u53d7\u63a7\u7528\u6cd5\u3002 xform \u6a21\u578b\u5bf9\u8c61\uff0c\u4e00\u822c\u7531\u4e0a\u5c42\u901a\u8fc7 new FormModel(...) \u521b\u5efa\u800c\u6210",name:"model",required:!1,type:{name:"IModel<T>"}},defaultValue:{defaultValue:null,description:"\u975e\u53d7\u63a7\u7528\u6cd5\u3002 \u8868\u5355\u7684\u9ed8\u8ba4\u503c",name:"defaultValue",required:!1,type:{name:"T"}},style:{defaultValue:null,description:"@category \u5e03\u5c40",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"@category \u5e03\u5c40",name:"className",required:!1,type:{name:"string"}},layout:{defaultValue:null,description:"\u8868\u5355\u5e03\u5c40\u53c2\u6570\n@category \u5e03\u5c40",name:"layout",required:!1,type:{name:"FormLayoutParams"}},onSubmit:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onSubmit",required:!1,type:{name:"(submitValues: any, model: IModel<any>) => void"}},onError:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u51fa\u9519\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onError",required:!1,type:{name:"(errors: any, model: IModel<any>) => void"}},onReset:{defaultValue:null,description:"\u6e05\u7a7a\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Reset /> \u4f7f\u7528",name:"onReset",required:!1,type:{name:"(model: IModel<any>) => void"}},isPreview:{defaultValue:{value:"false"},description:"\u662f\u5426\u4e3a\u9884\u89c8\u6001",name:"isPreview",required:!1,type:{name:"boolean"}},validateOnMount:{defaultValue:{value:"false"},description:"\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:{value:"true"},description:"\u503c\u4fee\u6539\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:{value:"true"},description:"\u7ec4\u4ef6\u5931\u53bb\u7126\u70b9\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnBlur",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form"]={docgenInfo:G.__docgenInfo,name:"Form",path:"../xform/src/form.tsx#Form"})}catch(he){}try{G.Submit.displayName="Form.Submit",G.Submit.__docgenInfo={description:"",displayName:"Form.Submit",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},type:{defaultValue:{value:"primary"},description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"link" | "text" | "solid" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"button" | "a"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Submit"]={docgenInfo:G.Submit.__docgenInfo,name:"Form.Submit",path:"../xform/src/form.tsx#Form.Submit"})}catch(he){}try{G.Reset.displayName="Form.Reset",G.Reset.__docgenInfo={description:"",displayName:"Form.Reset",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},type:{defaultValue:null,description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"link" | "text" | "solid" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"button" | "a"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Reset"]={docgenInfo:G.Reset.__docgenInfo,name:"Form.Reset",path:"../xform/src/form.tsx#Form.Reset"})}catch(he){}try{G.Effect.displayName="Form.Effect",G.Effect.__docgenInfo={description:"",displayName:"Form.Effect",props:{watch:{defaultValue:null,description:"",name:"watch",required:!0,type:{name:"string | (string | Field<unknown> | AsyncValue<any>)[] | (() => T) | Field<T> | AsyncValue<T>"}},effect:{defaultValue:null,description:"",name:"effect",required:!0,type:{name:"(value: T, detail: { prev: T; next: T; model: IModel<any>; }) => void"}},fireImmediately:{defaultValue:null,description:"",name:"fireImmediately",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Effect"]={docgenInfo:G.Effect.__docgenInfo,name:"Form.Effect",path:"../xform/src/form.tsx#Form.Effect"})}catch(he){}try{G.Array.displayName="Form.Array",G.Array.__docgenInfo={description:"",displayName:"Form.Array",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"(input: FormArrayLayoutInput) => ReactElement<any, string | JSXElementConstructor<any>>"}},itemFactory:{defaultValue:null,description:"",name:"itemFactory",required:!1,type:{name:"(arrayModel: SubModel<unknown[]>) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Array"]={docgenInfo:G.Array.__docgenInfo,name:"Form.Array",path:"../xform/src/form.tsx#Form.Array"})}catch(he){}try{G.Object.displayName="Form.Object",G.Object.__docgenInfo={description:"",displayName:"Form.Object",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Object"]={docgenInfo:G.Object.__docgenInfo,name:"Form.Object",path:"../xform/src/form.tsx#Form.Object"})}catch(he){}try{G.ModelConsumer.displayName="Form.ModelConsumer",G.ModelConsumer.__docgenInfo={description:"",displayName:"Form.ModelConsumer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ModelConsumer"]={docgenInfo:G.ModelConsumer.__docgenInfo,name:"Form.ModelConsumer",path:"../xform/src/form.tsx#Form.ModelConsumer"})}catch(he){}try{G.Layout.displayName="Form.Layout",G.Layout.__docgenInfo={description:"",displayName:"Form.Layout",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},labelPosition:{defaultValue:{value:"left"},description:"\u6807\u7b7e\u4f4d\u7f6e\uff0c\u53ef\u9009 'left' \u6216 'top'",name:"labelPosition",required:!1,type:{name:'"top" | "left"'}},labelWidth:{defaultValue:{value:"labelPosition === 'left' ? 120 : 'auto'"},description:"\u6807\u7b7e\u5bbd\u5ea6",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:{value:320},description:"\u63a7\u4ef6\u5bbd\u5ea6",name:"controlWidth",required:!1,type:{name:"string | number"}},formItemGap:{defaultValue:{value:"labelPosition === 'left' ? 12 : 16"},description:"\u4e24\u4e2a form item \u4e4b\u95f4\u7684\u95f4\u8ddd",name:"formItemGap",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Layout"]={docgenInfo:G.Layout.__docgenInfo,name:"Form.Layout",path:"../xform/src/form.tsx#Form.Layout"})}catch(he){}try{G.ItemGroup.displayName="Form.ItemGroup",G.ItemGroup.__docgenInfo={description:"",displayName:"Form.ItemGroup",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},labelWidth:{defaultValue:null,description:"",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:null,description:"",name:"controlWidth",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ItemGroup"]={docgenInfo:G.ItemGroup.__docgenInfo,name:"Form.ItemGroup",path:"../xform/src/form.tsx#Form.ItemGroup"})}catch(he){}try{G.ItemView.displayName="Form.ItemView",G.ItemView.__docgenInfo={description:"",displayName:"Form.ItemView",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ReactNode"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ItemView"]={docgenInfo:G.ItemView.__docgenInfo,name:"Form.ItemView",path:"../xform/src/form.tsx#Form.ItemView"})}catch(he){}try{L.displayName="FormEnvProvider",L.__docgenInfo={description:"",displayName:"FormEnvProvider",props:{onSubmit:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onSubmit",required:!1,type:{name:"(submitValues: any, model: IModel<any>) => void"}},onError:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u51fa\u9519\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onError",required:!1,type:{name:"(errors: any, model: IModel<any>) => void"}},onReset:{defaultValue:null,description:"\u6e05\u7a7a\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Reset /> \u4f7f\u7528",name:"onReset",required:!1,type:{name:"(model: IModel<any>) => void"}},isPreview:{defaultValue:{value:"false"},description:"\u662f\u5426\u4e3a\u9884\u89c8\u6001",name:"isPreview",required:!1,type:{name:"boolean"}},validateOnMount:{defaultValue:{value:"false"},description:"\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:{value:"true"},description:"\u503c\u4fee\u6539\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:{value:"true"},description:"\u7ec4\u4ef6\u5931\u53bb\u7126\u70b9\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnBlur",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#FormEnvProvider"]={docgenInfo:L.__docgenInfo,name:"FormEnvProvider",path:"../xform/src/form.tsx#FormEnvProvider"})}catch(he){}var $=n(237),H=n.n($);function U(e){return e.value?"\u662f":"\u5426"}function X(e){return!e}function Z(e){return null==e}function J(e){return null==e||Array.isArray(e)&&e.every(Z)}function Q(e){return e.value}const ee=[];function te(e,t){ee.push({component:e,...t})}function ne(e){var t,n;const a=null!==(t=e.statusPropName)&&void 0!==t?t:"status",r=null!==(n=e.valuePropName)&&void 0!==n?n:"value";function s({fallbackValue:t=e.fallbackValue,isEmpty:n=e.isEmpty,renderPreview:s=e.renderPreview,componentProps:c,name:u,field:d,...p}){var f;const h=P(),y=z(),g=function(e,t,n){let a;if(null!=e)a=e;else if("&"===n)a=t._asField();else{if(null==n)throw new Error("<FormItem /> \u5fc5\u987b\u901a\u8fc7 name \u6216 field \u6765\u6307\u5b9a\u5bf9\u5e94\u7684\u6570\u636e\u7d22\u5f15");a=t.getField(n)}return a}(d,h,u),b={fallbackValue:t,isEmpty:n,validateOnChange:y.validateOnChange,validateOnBlur:y.validateOnBlur,validateOnMount:y.validateOnMount,...p};g._useTrack(b),Object(l.useEffect)(()=>{if(b.validateOnMount){g.validate("mount");const e=g.state.cancelValidation;return()=>{null==e||e()}}},[]);const v=g.state.error,S=Object(o.r)(m(g.value,t)),x={...H()(p,["dataSource","readOnly","disabled"]),...c,[a]:m(null==c?void 0:c[a],m(p[a],v?"error":void 0)),[r]:m(p[r],S),onChange:m(p.onChange,g.handleChange),onBlur:m(p.onBlur,g.handleBlur)};let _;return _=y.isPreview&&s?s(x):e.render?e.render(x):i.a.createElement(e.component,Object.assign({},x)),i.a.createElement(R,{label:p.label,help:p.help,asterisk:null!==(f=p.asterisk)&&void 0!==f?f:p.required,error:v,tip:p.tip,style:p.style,className:E()(p.className,{"form-item-preview":y.isPreview})},_)}return s.displayName="FormItem__"+e.name,Object(v.b)(s)}te(S.Switch,{name:"switch",renderPreview:U,fallbackValue:!1,isEmpty:X}),te(S.Checkbox,{name:"checkbox",renderPreview:U,fallbackValue:!1,valuePropName:"checked",isEmpty:X}),te(S.CheckboxGroup,{name:"checkboxGroup",fallbackValue:[],renderPreview(e){var t;const n=null!==(t=e.value)&&void 0!==t?t:e.defaultValue,a=new S.ListStore(e.dataSource);return n.map(e=>{const t=a.getItem(e);return t?t.label:e}).join("\u3001")},isEmpty:e=>null==e||0===e.length}),te(S.RadioGroup,{name:"radioGroup",fallbackValue:null,renderPreview(e){var t;const n=null!==(t=e.value)&&void 0!==t?t:e.defaultValue,a=new S.ListStore(e.dataSource).getItem(n);return a?a.label:n},isEmpty:X}),te(S.DatePicker,{name:"datePicker",renderPreview:Q,fallbackValue:null,isEmpty:X}),te(S.DateRangePicker,{name:"dateRangePicker",renderPreview(e){var t;const n=(null!==(t=e.value)&&void 0!==t?t:e.defaultValue)||[];return`${n[0]||"-"} ~ ${n[1]||"-"}`},fallbackValue:[],isEmpty:J}),te(S.TimePicker,{name:"timePicker",renderPreview:Q,fallbackValue:"",isEmpty:X}),te(S.FilePicker,{name:"filePicker",renderPreview(e){var t;const n=(null!==(t=e.value)&&void 0!==t?t:e.defaultValue)||[];return i.a.createElement(S.Flex,{spacing:"s",direction:"column"},n.map(({id:e,name:t,url:n})=>i.a.createElement(S.FlexItem,{key:e,bg:"fill.layer1",px:"m"},i.a.createElement(S.Link,{href:n},t))))},fallbackValue:[],isEmpty:J}),te(S.MediaPicker,{name:"mediaPicker",renderPreview(e){var t;const n=(null!==(t=e.value)&&void 0!==t?t:e.defaultValue)||[];return i.a.createElement(S.Flex,{spacing:"m"},n.map(({id:e,name:t,url:n})=>{const a=`${Object(S.colors)("fill.layer1")} url(${n}) center center / 100% no-repeat`;return i.a.createElement(S.Box,{key:e,size:"100px",title:t,display:"inline-block",style:{background:a}})}))},fallbackValue:[],isEmpty:J}),te(S.Input,{name:"input",renderPreview:Q,fallbackValue:"",isEmpty:X}),te(S.Textarea,{name:"textarea",renderPreview:Q,fallbackValue:"",isEmpty:X}),te(S.NumberInput,{name:"numberInput",renderPreview:Q,fallbackValue:null,isEmpty:Z}),te(S.Range,{name:"range",renderPreview:Q,fallbackValue:0,isEmpty:Z}),te(S.Select,{name:"select",renderPreview:Q,fallbackValue:null,isEmpty:Z}),te(S.SingleSelect,{name:"singleSelect",renderPreview:Q,fallbackValue:null,isEmpty:X}),te(S.MultiSelect,{name:"multiSelect",renderPreview:Q,fallbackValue:[],isEmpty:J}),te(S.TreeSelect,{name:"treeSelect",renderPreview:Q,fallbackValue:null,isEmpty:J}),te(S.SingleTreeSelect,{name:"singleTreeSelect",renderPreview:Q,fallbackValue:null,isEmpty:X}),te(S.MultiTreeSelect,{name:"multiTreeSelect",renderPreview:Q,fallbackValue:[],isEmpty:J}),te((function({items:e,value:t,onChange:n,...a}){return i.a.createElement("div",Object.assign({style:{display:"flex",gap:8}},a),e.map(e=>i.a.createElement(S.Button,{key:e,type:e===t?"primary":"normal",onClick:()=>n(e)},e)))}),{name:"testButtonGroup",fallbackValue:"",renderPreview:Q,isEmpty:X});const ae={};for(const ye of ee){const e=ne(ye);if(ae[ye.name]=e,ye.aliases)for(const t of ye.aliases)ae[t]=e}const re=ne({name:"notFound",fallbackValue:null,isEmpty:()=>!1,render:({component:e})=>i.a.createElement("div",{style:{border:"1px dashed red",fontSize:14,padding:4,color:"red"}},i.a.createElement("code",null,"<FormItem component='",e,"' />")," \u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7ec4\u4ef6\uff0c\u8bf7\u68c0\u67e5\u7ec4\u4ef6\u540d\u79f0\u662f\u5426\u62fc\u5199\u6b63\u786e")});function oe({component:e,...t}){const n=ae[e];return null==n?i.a.createElement(re,Object.assign({},t,{componentProps:{component:e}})):i.a.createElement(n,t)}oe.register=e=>{ae[e.name]=ne(e)},oe.COMPONENT_DICT=ae;try{ne.displayName="createFormItem",ne.__docgenInfo={description:"",displayName:"createFormItem",props:{name:{defaultValue:null,description:"\u540d\u79f0",name:"name",required:!0,type:{name:"string"}},component:{defaultValue:null,description:'\u63a7\u4ef6\u5bf9\u5e94\u7684 React \u7ec4\u4ef6\uff0c\u4f8b\u5982 `<FormItem component="select" />` \u5bf9\u5e94 `Select` \u7ec4\u4ef6.',name:"component",required:!1,type:{name:"ComponentType<FormItemComponentProps>"}},render:{defaultValue:null,description:"\u63a7\u4ef6\u6e32\u67d3\u65b9\u6cd5\uff0c\u4e0e component \u53c2\u6570\u4e8c\u9009\u4e00\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8e component",name:"render",required:!1,type:{name:"(arg: FormItemComponentProps) => ReactElement<any, string | JSXElementConstructor<any>>"}},valuePropName:{defaultValue:null,description:"\u7ec4\u4ef6\u503c\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a `'value'`",name:"valuePropName",required:!1,type:{name:"string"}},statusPropName:{defaultValue:null,description:"\u7ec4\u4ef6\u72b6\u6001\u503c\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a `'status'`",name:"statusPropName",required:!1,type:{name:"string"}},renderPreview:{defaultValue:null,description:"\u9884\u89c8\u6001\u4e0b\u7ec4\u4ef6\u7684\u6e32\u67d3\u65b9\u6cd5\u3002\u5982\u679c\u4e0d\u8bbe\u7f6e\u8be5\u65b9\u6cd5\uff0c\u9884\u89c8\u6001\u4e0b\u5c06\u4f7f\u7528 render/component \u4f5c\u4e3a\u540e\u5907\u65b9\u6848.",name:"renderPreview",required:!1,type:{name:"(props: FormItemComponentProps) => ReactNode"}},fallbackValue:{defaultValue:null,description:"\u5f53\u6a21\u578b\u4e2d\u7684\u5b57\u6bb5\u503c\u4e3a\u7a7a\uff08undefined\uff09\u65f6\uff0c\u6e32\u67d3\u63a7\u4ef6\u6240\u4f7f\u7528\u7684\u503c",name:"fallbackValue",required:!0,type:{name:"any"}},isEmpty:{defaultValue:null,description:"\u7ec4\u4ef6\u7c7b\u578b\u9ed8\u8ba4\u7684\u7a7a\u503c\u5224\u65ad\u65b9\u6cd5",name:"isEmpty",required:!0,type:{name:"(value: any) => boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-item.tsx#createFormItem"]={docgenInfo:ne.__docgenInfo,name:"createFormItem",path:"../xform/src/form-item.tsx#createFormItem"})}catch(he){}try{oe.displayName="FormItem",oe.__docgenInfo={description:"",displayName:"FormItem",props:{component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"string"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!1,type:{name:"any"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},field:{defaultValue:null,description:"",name:"field",required:!1,type:{name:"Field<unknown>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(nextValue: any) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"() => void"}},renderPreview:{defaultValue:null,description:"",name:"renderPreview",required:!1,type:{name:"(props: FormItemProps) => ReactNode"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},fallbackValue:{defaultValue:null,description:"",name:"fallbackValue",required:!1,type:{name:"any"}},isEmpty:{defaultValue:null,description:"",name:"isEmpty",required:!1,type:{name:"(value: any) => boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},requiredMessage:{defaultValue:null,description:"",name:"requiredMessage",required:!1,type:{name:"string"}},validate:{defaultValue:null,description:"",name:"validate",required:!1,type:{name:"(value: any, field: Field<any>, trigger: FieldValidateTrigger) => string | Promise<any>"}},validateOnMount:{defaultValue:null,description:"",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:null,description:"",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:null,description:"",name:"validateOnBlur",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-item.tsx#FormItem"]={docgenInfo:oe.__docgenInfo,name:"FormItem",path:"../xform/src/form-item.tsx#FormItem"})}catch(he){}function le(e){e.subModels.forEach((e,t)=>{e.name=String(t)})}function ie(e,t,n){if(null==e)return;const[a]=e.splice(t,1);e.splice(n,0,a)}function se(e,t,n){if(null==e)return;const a=e[t];e[t]=e[n],e[n]=a}const ce={append:Object(o.c)((e,t)=>{var n;null==e.values&&(e.values=[]),e.values.push(null!==(n=null==t?void 0:t(e))&&void 0!==n?n:{})}),delete:Object(o.c)((e,t)=>{r()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),e.values.splice(t,1),e._proxy.subModels.splice(t,1),le(e._proxy)}),moveUp:Object(o.c)((e,t)=>{0!==t&&(r()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),se(e.values,t,t-1),se(e._proxy.subModels,t,t-1),le(e._proxy))}),moveDown:Object(o.c)((e,t)=>{t!==e.values.length-1&&(r()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),se(e.values,t,t+1),se(e._proxy.subModels,t,t+1),le(e._proxy))}),clear:Object(o.c)(e=>{null!=e.values&&0!==e.values.length&&(r()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),e.values=[],e._proxy.subModels.length=0)}),dragAndDrop:Object(o.c)((e,t,n)=>{r()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),ie(e.values,t,n),ie(e._proxy.subModels,t,n),le(e._proxy)}),renderArrayItem:(e,t,n)=>i.a.createElement(G.Object,{name:String(t)},n),getKey:(e,t)=>e.getSubModel(t).id},ue=e=>{const t=[];for(let n=0;n<e;n++)t.push(n);return t},de=({title:e,showItemCount:t,showItemOrder:n,style:a,className:r}={})=>{const l={position:"absolute",top:8,right:8,display:"flex",gap:8,zIndex:20};return s=>{const{arrayModel:c,itemContent:u,itemCount:d,itemFactory:m}=s;return i.a.createElement("div",{className:E()("xform-array",r),style:{marginTop:16,marginBottom:8,...a}},(e||t)&&i.a.createElement("h2",null,null!=e?e:"\u5217\u8868"," ",t&&`(${d})`),0===d&&i.a.createElement("div",{style:{border:"1px dashed #aaa",marginTop:16,padding:8,position:"relative",fontSize:20}},"\u7a7a\u7a7a\u5982\u4e5f~~"),i.a.createElement("div",{className:"xform-array-items"},ue(d).map(e=>i.a.createElement("div",{key:ce.getKey(c,e),className:"xform-array-item",style:{border:"1px dashed #aaa",marginTop:16,padding:8,position:"relative"}},n&&i.a.createElement("code",{style:{fontSize:16}},c.path.join("."),"#",e),i.a.createElement(me,Object.assign({},s,{itemIndex:e,style:l})),ce.renderArrayItem(c,e,u)))),i.a.createElement("div",{style:{marginTop:12}},i.a.createElement(S.Button,{onClick:Object(o.c)(()=>{ce.append(c,m)})},"\u6dfb\u52a0\u4e00\u9879")))}},me=Object(v.b)(({arrayModel:e,itemCount:t,itemIndex:n,style:a})=>i.a.createElement("div",{style:a},i.a.createElement(S.Button,{size:"small",onClick:Object(o.c)(()=>{ce.delete(e,n)})},"\u5220\u9664"),i.a.createElement(S.Button,{size:"small",disabled:0===n,onClick:Object(o.c)(()=>{ce.moveUp(e,n)})},"\u4e0a\u79fb"),i.a.createElement(S.Button,{size:"small",disabled:n===t-1,onClick:Object(o.c)(()=>{ce.moveDown(e,n)})},"\u4e0b\u79fb"))),pe=({defaultColumnWidth:e,orderColumn:t,operationColumn:n,className:a,style:r}={})=>{const o={display:"flex",gap:0};return l=>{const{arrayModel:s,itemContent:c,itemCount:u,itemFactory:d}=l,m=i.a.Children.toArray(c).filter(e=>e.type===oe).map(e=>({name:"string"==typeof e.props.label?e.props.label:null,title:e.props.label,...e.props["x-table-column"],render:(t,n)=>i.a.createElement(G.Object,{name:String(n.itemIndex)},i.a.cloneElement(e,{className:E()(e.className,"minimal")}))}));return null!=t&&m.unshift({name:"#",...t,getValue:e=>e.itemIndex+1}),null!=n&&m.push({name:"",...n,render:(e,t)=>i.a.createElement(me,Object.assign({},l,{itemIndex:t.itemIndex,style:o}))}),i.a.createElement("div",{style:r,className:a},i.a.createElement(S.BaseTable,{className:"bordered",primaryKey:"rowKey",defaultColumnWidth:e,dataSource:ue(u).map(e=>({rowKey:ce.getKey(s,e),itemIndex:e})),columns:m,style:{"--cell-padding":"8px"}}),i.a.createElement("div",{style:{padding:4,height:48,display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"}},i.a.createElement(S.Button,{type:"primary",onClick:()=>{ce.append(s,d)}},"\u6dfb\u52a0\u4e00\u884c")))}};try{de.displayName="arrayCard",de.__docgenInfo={description:"",displayName:"arrayCard",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showItemCount:{defaultValue:null,description:"",name:"showItemCount",required:!1,type:{name:"boolean"}},showItemOrder:{defaultValue:null,description:"",name:"showItemOrder",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/array-layouts.tsx#arrayCard"]={docgenInfo:de.__docgenInfo,name:"arrayCard",path:"../xform/src/array-layouts.tsx#arrayCard"})}catch(he){}try{pe.displayName="arrayTable",pe.__docgenInfo={description:"",displayName:"arrayTable",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/array-layouts.tsx#arrayTable"]={docgenInfo:pe.__docgenInfo,name:"arrayTable",path:"../xform/src/array-layouts.tsx#arrayTable"})}catch(he){}class fe{constructor(e,{field:t=null,fetchLabel:n=null,skipEmptySearchResult:a=!1,resetSearchValueWhenValueChange:r=!1,debounceTime:l=200,mode:i="single"}={}){if(this.search=e,this._isFetchingLabel=!1,this._searchValue="",this._debouncedSearchValue="",this._labelCache=o.l.map({},{deep:!1}),this._disposers=[],this.setSearchValue=Object(o.c)((e,t=!0)=>{this._searchValue=e,t?(clearTimeout(this._debounceHandle),this._debounceHandle=setTimeout(Object(o.c)(()=>{this._debouncedSearchValue=this._searchValue}),this.options.debounceTime)):(clearTimeout(this._debounceHandle),this._debouncedSearchValue=this._searchValue)}),this.search=e,this.options={field:t,fetchLabel:n,skipEmptySearchResult:a,resetSearchValueWhenValueChange:r,debounceTime:l,mode:i},Object(o.k)(this,{_searchValue:o.l,_debouncedSearchValue:o.l,dataSource:o.d,selectProps:o.d,_isFetchingLabel:o.l}),this._dataSourceFromSearch$=new M(async()=>{const e=await this.search(this._debouncedSearchValue);return this.options.skipEmptySearchResult&&0===e.length?this._dataSourceFromSearch$.current:e},[]),this._disposers.push(()=>this._dataSourceFromSearch$.dispose()),this.options.field){const e=this.options.field;this._disposers.push(Object(o.o)(()=>({value:e.value,dataSource:this._dataSourceFromSearch$.current}),({value:e,dataSource:t})=>{for(const n of t)this._labelCache.set(n.value,n.label);if(null!=e&&null!=this.options.fetchLabel)if("multiple"===this.mode){const t=e.filter(e=>!this._labelCache.has(e));if(0===t.length)return;this._isFetchingLabel=!0,this.options.fetchLabel(t).then(Object(o.c)(e=>{this._isFetchingLabel=!1,e.forEach((e,n)=>{this._labelCache.set(t[n],e)})}))}else{if(this._labelCache.has(e))return;this._isFetchingLabel=!0,this.options.fetchLabel(e).then(Object(o.c)(t=>{this._isFetchingLabel=!1,this._labelCache.set(e,t)}))}},{fireImmediately:!0})),this.options.resetSearchValueWhenValueChange&&this._disposers.push(Object(o.o)(()=>e.value,()=>this._searchValue=""))}}get mode(){return this.options.mode}dispose(){Object(o.p)(()=>{this._labelCache.clear(),clearTimeout(this._debounceHandle);for(const e of this._disposers)e()})}get dataSource(){const e=this._dataSourceFromSearch$.current;if(this.options.field){const t=this.options.field.value,n=new Set(e.map(e=>e.value)),a=("multiple"===this.mode?t:[t]).filter(e=>!n.has(e)).map(e=>({label:this._labelCache.get(e),value:e})).filter(e=>null!=e.label&&e.label.includes(this._searchValue));return e.concat(a)}return e}get selectProps(){return{mode:this.mode,showSearch:!0,filterLocal:!1,searchValue:this._searchValue,onSearch:this.setSearchValue,dataSource:this.dataSource,state:"loading"===this._dataSourceFromSearch$.status||this._isFetchingLabel?"loading":void 0}}}try{fe.displayName="RemoteSearch",fe.__docgenInfo={description:"\u8fdc\u7a0b\u641c\u7d22\u8f85\u52a9\u51fd\u6570\uff0c\u7528\u4e8e\u7b80\u5316 Select \u8fdc\u7a0b\u641c\u7d22\u7684\u5b9e\u73b0.\n\n\u76ee\u524d\u652f\u6301\u4ee5\u4e0b\u7279\u6027\uff1a\n- \u641c\u7d22\u9632\u6296\uff1a \u9ed8\u8ba4\u4e3a 200ms\uff0c\u53ef\u901a\u8fc7 options.debounceTime \u8fdb\u884c\u8c03\u6574\n- label \u7f13\u5b58\uff1a \u5f53 value \u52a8\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f18\u5148\u4f7f\u7528\u5185\u90e8\u7f13\u5b58\u7684 label\uff0c\u5e76\u5728\u5fc5\u8981\u65f6\u6309\u9700\u83b7\u53d6 label\n  \uff08\u9700\u8981\u914d\u7f6e options.field & options.fetchLabel\uff09\n- loading \u72b6\u6001\uff1a dataSource \u52a0\u8f7d\u8fc7\u7a0b\u4e2d\uff0c\u81ea\u52a8\u8bbe\u7f6e state='loading'\n- \u591a\u9009\uff1a\u652f\u6301\u591a\u9009\u6a21\u5f0f\u4e0b\u7684\u8fdc\u7a0b\u641c\u7d22",displayName:"RemoteSearch",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/helpers/RemoteSearch.tsx#RemoteSearch"]={docgenInfo:fe.__docgenInfo,name:"RemoteSearch",path:"../xform/src/helpers/RemoteSearch.tsx#RemoteSearch"})}catch(he){}},208:function(e,t,n){"use strict";e.exports=function(e,t,n,a,r,o,l,i){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,r,o,l,i],u=0;(s=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},237:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,r=n||a||Function("return this")();function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}var i=Object.prototype,s=i.hasOwnProperty,c=i.toString,u=r.Symbol,d=i.propertyIsEnumerable,m=u?u.isConcatSpreadable:void 0,p=Math.max;function f(e){return y(e)||function(e){return function(e){return g(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?c.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&s.call(e,"callee")&&(!d.call(e,"callee")||"[object Arguments]"==c.call(e))}(e)||!!(m&&e&&e[m])}function h(e){if("string"==typeof e||function(e){return"symbol"==typeof e||g(e)&&"[object Symbol]"==c.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var y=Array.isArray;function g(e){return!!e&&"object"==typeof e}var b,v,S=(b=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var a=-1,r=t.length,o={};++a<r;){var l=t[a],i=e[l];n(i,l)&&(o[l]=i)}return o}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,a=e?e.length:0,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}(function e(t,n,a,r,o){var i=-1,s=t.length;for(a||(a=f),o||(o=[]);++i<s;){var c=t[i];n>0&&a(c)?n>1?e(c,n-1,a,r,o):l(o,c):r||(o[o.length]=c)}return o}(t,1),h))},v=p(void 0===v?b.length-1:v,0),function(){for(var e=arguments,t=-1,n=p(e.length-v,0),a=Array(n);++t<n;)a[t]=e[v+t];t=-1;for(var r=Array(v+1);++t<v;)r[t]=e[t];return r[v]=a,o(b,this,r)});e.exports=S}).call(this,n(27))}}]);
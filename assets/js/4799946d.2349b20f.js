(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{207:function(e,n,t){"use strict";t.d(n,"d",(function(){return F})),t.d(n,"b",(function(){return Q})),t.d(n,"i",(function(){return $})),t.d(n,"c",(function(){return xe})),t.d(n,"e",(function(){return Ce})),t.d(n,"g",(function(){return we})),t.d(n,"h",(function(){return P})),t.d(n,"f",(function(){return Ie})),t.d(n,"a",(function(){return z}));var a=t(191),r=t(194),o=t(189),l=t.n(o),i=t(230),s=t.n(i),c=t(175),m=t(0),u=t.n(m);function d(e){return String(Number.parseInt(e))===e}function p(e){return d(e)?"array":"object"}function f(e,n,t){for(var a=Array.isArray(n)?n:y(n),r=e,o=0;o<a.length;o+=1){if(!c.i(r))return t;r=c.g(r,a[o])}return void 0===r?t:r}function b(e,n,t){for(var a=Array.isArray(n)?n:y(n),r=a.length-1,o=e,l=0;l<r;l+=1){var i=a[l];if(null==c.g(o,i)&&(d(a[l+1])?c.q(o,i,[]):c.q(o,i,{})),o=c.g(o,i),!c.i(o))return}c.i(o)&&c.q(o,a[r],t)}function h(e,n){return void 0!==e?e:n}function y(e){return e.split(".")}try{p.displayName="keyToValueShape",p.__docgenInfo={description:"",displayName:"keyToValueShape",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#keyToValueShape"]={docgenInfo:p.__docgenInfo,name:"keyToValueShape",path:"../xform/src/common-utils.tsx#keyToValueShape"})}catch(Pe){}try{f.displayName="observableGetIn",f.__docgenInfo={description:"lodash.get(...) for mobx observables",displayName:"observableGetIn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#observableGetIn"]={docgenInfo:f.__docgenInfo,name:"observableGetIn",path:"../xform/src/common-utils.tsx#observableGetIn"})}catch(Pe){}try{b.displayName="observableSetIn",b.__docgenInfo={description:"lodash.set(...) for mobx observables",displayName:"observableSetIn",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#observableSetIn"]={docgenInfo:b.__docgenInfo,name:"observableSetIn",path:"../xform/src/common-utils.tsx#observableSetIn"})}catch(Pe){}try{h.displayName="composeState",h.__docgenInfo={description:"\u5408\u5e76\u53d7\u63a7\u72b6\u6001\u548c \u975e\u53d7\u63a7\u72b6\u6001",displayName:"composeState",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#composeState"]={docgenInfo:h.__docgenInfo,name:"composeState",path:"../xform/src/common-utils.tsx#composeState"})}catch(Pe){}try{y.displayName="splitToPath",y.__docgenInfo={description:"",displayName:"splitToPath",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/common-utils.tsx#splitToPath"]={docgenInfo:y.__docgenInfo,name:"splitToPath",path:"../xform/src/common-utils.tsx#splitToPath"})}catch(Pe){}var v=function(){function e(e){this.fieldMap=new Map,this.model=e,this.valueShape="auto"}var n=e.prototype;return n._updateValueShape=function(e){"auto"===this.valueShape?(this.valueShape=e,this.subModels="object"===e?{}:[]):s()(this.valueShape===e,"[xform] Model \u7684\u7ed3\u6784\u9700\u8981\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u4fdd\u6301\u4e00\u81f4\uff0c\u4e00\u4e2a\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u7684\u7ed3\u6784\u4e0d\u80fd\u4ece\u6570\u7ec4\u53d8\u4e3a\u5bf9\u8c61\uff0c\u4e5f\u4e0d\u80fd\u4ece\u5bf9\u8c61\u53d8\u4e3a\u6570\u7ec4")},n.iterateModels=function(e){!function n(t){if(null!=t.subModels)for(var a=0,r=Object.values(t.subModels);a<r.length;a++){var o=r[a];e(o),n(o._proxy)}}(this)},n.iterateFields=function(e){this.fieldMap.forEach((function(n){n._forkMap.forEach(e)})),this.iterateModels((function(n){n._proxy.fieldMap.forEach((function(n){n._forkMap.forEach(e)}))}))},n.getSubModel=function(e){for(var n=Array.isArray(e)?e:y(e),t=this.model,a=0;a<n.length-1;a++)t=t._proxy._getSubModel(n[a]);return t._proxy._getSubModel(n[n.length-1])},n._getSubModel=function(e){this._updateValueShape(p(e));var n=this.subModels[e];return null==n&&(n=new S(this.model,e),this.subModels[e]=n),n},n.getField=function(e){var n=Array.isArray(e)?e:y(e);if(n.length>1){var t=n[n.length-1];return this.getSubModel(n.slice(0,-1))._proxy.getField([t])}var a=n[0];return this._updateValueShape(p(a)),this.ensureField(a)},n.ensureField=function(e,n,t){var a=this.fieldMap.get(e);return null==a&&(a=new O(this.model,e,n,t),this.fieldMap.set(e,a)),a},n.getTupleField=function(){this._updateValueShape("object");for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var a=n.join("...");return this.ensureField(a,O.ORIGINAL,n)},e}(),g=[],F=function(){function e(e){void 0===e&&(e={}),this._nextModelId=1,this._nextFieldId=1,this.state={},this.root=this,this.parent=this,this.path=g,this._proxy=new v(this),this.values=e,Object(c.k)(this,{values:c.l,state:c.l,setValue:c.c})}var n=e.prototype;return n.getNextModelId=function(){return"Model_"+this._nextModelId++},n.getNextFieldId=function(){return"Field_"+this._nextFieldId++},n.getValue=function(e,n){return f(this.values,String(e),n)},n.setValue=function(e,n){b(this.values,e,n)},n.getSubModel=function(e){return this._proxy.getSubModel(String(e))},n.getField=function(e){return this._proxy.getField(e)},n.getTupleField=function(){var e;return(e=this._proxy).getTupleField.apply(e,arguments)},n._asField=function(){throw new Error("FormModel \u4e0b\u4e0d\u652f\u6301\u4f7f\u7528 name=& \u7684 Field")},e}(),S=function(){function e(e,n){this.state={},s()(!n.includes("."),"name \u4e2d\u4e0d\u80fd\u5305\u542b ."),this.root=e.root,this.parent=e,this.name=n,this._proxy=new v(this),this.id=this.root.getNextModelId(),Object(c.k)(this,{values:c.d,state:c.l,setValue:c.c,name:c.l},{name:this.id+"("+this.name+")"})}var n=e.prototype;return n.getSubModel=function(e){return this._proxy.getSubModel(String(e))},n.getField=function(e){return this._proxy.getField(String(e))},n.getTupleField=function(){var e;return(e=this._proxy).getTupleField.apply(e,arguments)},n.getValue=function(e,n){return f(this.values,String(e),n)},n.setValue=function(e,n){null==this.values&&(this._proxy._updateValueShape(p(y(String(e))[0])),this.values="array"===this._proxy.valueShape?[]:{}),b(this.values,String(e),n)},n._asField=function(){return this.parent.getField(this.name)},Object(r.a)(e,[{key:"path",get:function(){return[].concat(this.parent.path,[this.name])}},{key:"values",get:function(){return this.parent.getValue(this.name)},set:function(e){this.parent.setValue(this.name,e)}}]),e}(),O=function(){function e(n,t,a,r){var o=this;if(void 0===a&&(a=e.ORIGINAL),this.config=null,this.isMounted=!1,this.state={},this.handleBlur=function(){return o.validate("blur")},this.handleChange=function(e){var n;return o.value=h(e,null===(n=o.config)||void 0===n?void 0:n.fallbackValue),o.validate("change")},this.parent=n,this.name=t,this.forkName=a,this.tupleParts=r,this.id=this.parent.root.getNextFieldId(),Object(c.k)(this,{state:c.l,value:c.d,path:c.d,validate:c.c,handleBlur:c.c,handleChange:c.c},{name:this.id+"("+t+(a===e.ORIGINAL?"":"#"+a)+")"}),a===e.ORIGINAL)this._forkMap=new Map;else{var l=this.parent.getField(t);this._forkMap=l._forkMap}this._forkMap.set(a,this)}var n=e.prototype;return n._useTrack=function(e){var n=this;Object(m.useLayoutEffect)((function(){if(!n.isMounted)return n.config=e,n.isMounted=!0,function(){n.config=null,n.isMounted=!1};console.warn("[xform] field `"+n.path.join(".")+"` \u5df2\u5728\u89c6\u56fe\u4e2d\u88ab\u52a0\u8f7d\uff0c\u4f60\u9700\u8981 fork \u8be5\u5b57\u6bb5\u6765\u8fdb\u884c\u591a\u6b21\u52a0\u8f7d.")}),[e])},n.getFork=function(n){return this._forkMap.has(n)?this._forkMap.get(n):new e(this.parent,this.name,n,this.tupleParts)},n.validate=function(){var e=Object(a.a)(l.a.mark((function e(n){var t,r,o,i,s,m,u,d,p,f,b,y,v,g,F,S=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n="*"),this.isMounted){e.next=3;break}return e.abrupt("return");case 3:if(o=this.config,i=o.validate,s=o.fallbackValue,m=o.isEmpty,u=o.required,d=o.requiredMessage,p=void 0===d?"\u8be5\u5b57\u6bb5\u4e3a\u5fc5\u586b\u9879":d,f=o.validateOnMount,b=o.validateOnBlur,y=o.validateOnChange,v=h(this.value,s),"*"===n||b&&"blur"===n||f&&"mount"===n||y&&"change"===n){e.next=8;break}return e.abrupt("return");case 8:return g=function(){var e=Object(a.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u||!m(v)){e.next=2;break}return e.abrupt("return",p);case 2:if(!i){e.next=4;break}return e.abrupt("return",i(v,S,n));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=!1,null===(r=(t=this.state).cancelValidation)||void 0===r||r.call(t),this.state.validating=!0,this.state.cancelValidation=Object(c.c)((function(){F=!0,S.state.cancelValidation=null,S.state.validating=!1})),e.abrupt("return",g().then(Object(c.c)((function(e){if(!F)return S.state.cancelValidation=null,S.state.validating=!1,S.state.error=e,e}))));case 14:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),Object(r.a)(e,[{key:"value",get:function(){var e=this;return this.tupleParts?this.tupleParts.map((function(n){return e.parent.getValue(n)})):this.parent.getValue(this.name)},set:function(e){var n=this;this.tupleParts?this.tupleParts.forEach((function(t,a){n.parent.setValue(t,e[a])})):this.parent.setValue(this.name,e)}},{key:"path",get:function(){return this.parent.path.concat([this.name])}}]),e}();O.ORIGINAL="original";var x,_,j=t(8),E=t(186),I=t(172),V=t(170),C=t(177),k=t(174),w=t.n(k),N=t(26),P={clearError:Object(c.c)((function(e){e._proxy.iterateFields((function(e){e.state.error=null}))})),validateAll:Object(c.c)((function(e,n){void 0===n&&(n="*");var t=!1,a=Object(c.l)("array"===e._proxy.valueShape?[]:{}),r=[];return e._proxy.iterateFields((function(e){e.isMounted&&r.push(e.validate(n).then(Object(c.c)((function(n){n&&(t=!0,b(a,e.path,n))}))))})),Promise.all(r).then((function(){return{hasError:t,errors:Object(c.r)(a)}}))})),submit:Object(c.c)(function(){var e=Object(a.a)(l.a.mark((function e(n,t){var a,r,o,i,s,m,u,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),r=(a=t).onError,o=a.onSubmit,i=a.valueFilter,s=void 0===i?"mounted":i,e.next=4,P.validateAll(n);case 4:m=e.sent,u=m.hasError,d=m.errors,u?null==r||r(d,n):"function"==typeof o&&("all"===s?o(Object(c.r)(n.values),n):Object(c.p)((function(){var e=Object(c.l)("array"===n._proxy.valueShape?[]:{});n._proxy.iterateFields((function(n){n.isMounted&&void 0!==n.value&&b(e,n.path,n.value)})),o(Object(c.r)(e),n)})));case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),reset:Object(c.c)((function(e,n){var t=(void 0===n?{}:n).onReset;e.values={},P.clearError(e),null==t||t(e)}))};function A(e){return"number"==typeof e?e+"px":e}var q=N.d.div(x||(x=Object(I.a)(["\n  --label-width: auto;\n  --control-width: auto;\n  --form-item-gap: 0;\n  font-size: 12px;\n\n  .form-item {\n    margin-bottom: var(--form-item-gap);\n  }\n\n  .form-item.minimal {\n    margin-bottom: 0;\n\n    > .error-message,\n    > .form-item-label {\n      display: none;\n    }\n  }\n\n  &.horizontal {\n    .form-item {\n      display: flex;\n    }\n\n    .form-item-label {\n      flex: 0 0 var(--label-width);\n      padding-top: 8px;\n      padding-right: 12px;\n      text-align: right;\n      line-height: 1.5;\n    }\n  }\n\n  &.vertical {\n    .form-item-label {\n      font-size: 12px;\n      line-height: 1.5;\n      margin-bottom: 4px;\n    }\n  }\n\n  .form-item-preview {\n    > .form-item-label {\n      padding-top: 0;\n    }\n    > .form-item-control {\n      line-height: 1.5;\n    }\n  }\n\n  .required-indicator {\n    margin-right: 4px;\n    color: #eb4141;\n    ::before {\n      content: '*';\n    }\n  }\n\n  .error-message {\n    margin-top: 4px;\n    color: #eb4141;\n  }\n\n  .tip {\n    margin-left: 4px;\n    color: #999;\n    height: 18px;\n    vertical-align: top;\n  }\n\n  .help {\n    color: #999999;\n    margin-top: 4px;\n    line-height: 1.5;\n  }\n\n  .form-item-control {\n    width: var(--control-width);\n\n    > .next-input,\n    > .next-select {\n      width: 100%;\n    }\n\n    > .next-range {\n      padding: 8px 0;\n    }\n\n    > .next-checkbox-group,\n    > .next-radio-group,\n    > .next-checkbox-wrapper {\n      display: inline-block;\n      line-height: 18px;\n    }\n  }\n\n  &.horizontal .form-item-control {\n    > .next-checkbox-group,\n    > .next-radio-group,\n    > .next-checkbox-wrapper {\n      padding-top: 8px;\n    }\n  }\n"])));function T(e){var n=e.children,t=e.className,a=e.style,r=e.labelPosition,o=void 0===r?"left":r,l=e.labelWidth,i=void 0===l?"left"===o?120:"auto":l,s=e.formItemGap,c=void 0===s?"left"===o?12:16:s,m=e.controlWidth,d=void 0===m?320:m;return u.a.createElement(q,{style:Object.assign({"--label-width":A(i),"--control-width":A(d),"--form-item-gap":A(c)},a),className:w()({horizontal:"left"===o,vertical:"top"===o},t)},n)}var R=N.d.div(_||(_=Object(I.a)(["\n  ",".horizontal & {\n    display: flex;\n  }\n\n  &.inline {\n    .form-item-group-content {\n      display: flex;\n    }\n  }\n"])),q),M=function(e){var n=e.label,t=e.asterisk,a=e.tip,r=e.children,o=e.labelWidth,l=e.controlWidth,i=e.className,s=e.style,c=e.inline,m=H().isPreview;return u.a.createElement(R,{className:w()("form-item-group",{inline:c,"form-item-preview":m},i),style:s},null==n&&null==a?null:u.a.createElement("div",{className:"form-item-label"},t&&u.a.createElement("span",{className:"required-indicator"}),n&&u.a.createElement("span",{className:"form-item-label-text"},n),a&&u.a.createElement(B,{title:a})),u.a.createElement("div",{className:"form-item-group-content",style:{"--label-width":A(o),"--control-width":A(l)}},r))},B=function(e){var n=e.title;return u.a.createElement(V.Tooltip,{interactionKind:"hover",title:n,renderTarget:function(e){return u.a.createElement(C.b,Object.assign({},e,{type:"prompt",className:"tip"}))}})};function L(e){var n=e.label,t=e.help,a=e.tip,r=e.asterisk,o=e.error,l=e.children,i=e.className,s=e.style;return u.a.createElement("div",{className:w()("form-item",i),style:s},null==n&&null==a?null:u.a.createElement("div",{className:"form-item-label"},r&&u.a.createElement("span",{className:"required-indicator"}),n&&u.a.createElement("span",{className:"form-item-label-text"},n),a&&u.a.createElement(B,{title:a})),u.a.createElement("div",{className:"form-item-control"},l,t&&u.a.createElement("div",{className:"help"},t),o&&u.a.createElement("div",{className:"error-message"},o)))}function Y(e){var n=e.type,t=void 0===n?"primary":n,a=e.children,r=void 0===a?"\u63d0\u4ea4":a,o=Object(j.a)(e,["type","children"]),l=$(),i=H();return u.a.createElement(V.Button,Object.assign({onClick:function(){return P.submit(l,i)},type:t,children:r},o))}function K(e){var n=e.children,t=void 0===n?"\u91cd\u7f6e":n,a=Object(j.a)(e,["children"]),r=$(),o=H();return u.a.createElement(V.Button,Object.assign({onClick:Object(c.c)((function(){return P.reset(r,o)})),children:t},a))}try{T.displayName="FormLayout",T.__docgenInfo={description:"",displayName:"FormLayout",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},labelPosition:{defaultValue:{value:"left"},description:"\u6807\u7b7e\u4f4d\u7f6e\uff0c\u53ef\u9009 'left' \u6216 'top'",name:"labelPosition",required:!1,type:{name:'"top" | "left"'}},labelWidth:{defaultValue:{value:"labelPosition === 'left' ? 120 : 'auto'"},description:"\u6807\u7b7e\u5bbd\u5ea6",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:{value:320},description:"\u63a7\u4ef6\u5bbd\u5ea6",name:"controlWidth",required:!1,type:{name:"string | number"}},formItemGap:{defaultValue:{value:"labelPosition === 'left' ? 12 : 16"},description:"\u4e24\u4e2a form item \u4e4b\u95f4\u7684\u95f4\u8ddd",name:"formItemGap",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormLayout"]={docgenInfo:T.__docgenInfo,name:"FormLayout",path:"../xform/src/form-ui.tsx#FormLayout"})}catch(Pe){}try{L.displayName="FormItemView",L.__docgenInfo={description:"",displayName:"FormItemView",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ReactNode"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormItemView"]={docgenInfo:L.__docgenInfo,name:"FormItemView",path:"../xform/src/form-ui.tsx#FormItemView"})}catch(Pe){}try{Y.displayName="FormSubmit",Y.__docgenInfo={description:"",displayName:"FormSubmit",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"solid" | "text" | "link" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"a" | "button"'}},type:{defaultValue:{value:"primary"},description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormSubmit"]={docgenInfo:Y.__docgenInfo,name:"FormSubmit",path:"../xform/src/form-ui.tsx#FormSubmit"})}catch(Pe){}try{K.displayName="FormReset",K.__docgenInfo={description:"",displayName:"FormReset",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"solid" | "text" | "link" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"a" | "button"'}},type:{defaultValue:null,description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormReset"]={docgenInfo:K.__docgenInfo,name:"FormReset",path:"../xform/src/form-ui.tsx#FormReset"})}catch(Pe){}try{M.displayName="FormItemGroup",M.__docgenInfo={description:"",displayName:"FormItemGroup",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},labelWidth:{defaultValue:null,description:"",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:null,description:"",name:"controlWidth",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-ui.tsx#FormItemGroup"]={docgenInfo:M.__docgenInfo,name:"FormItemGroup",path:"../xform/src/form-ui.tsx#FormItemGroup"})}catch(Pe){}var D=t(4),W=t(391),G=t(179),z=function(){function e(n,t){var a=this;this.fetcher=n,this._refreshAtom=Object(c.f)("AsyncValue#refresh"),this._atom=Object(c.f)("AsyncValue"),this._disposers=[],this._error=null,this._start=function(){a._reaction=new c.a("async",(function(){"loading"!==a._status&&(a._status="loading",a._atom.reportChanged()),a._reaction.track((function(){var n,t;null===(n=a._cancelLastGetter)||void 0===n||n.call(a);var r=!1;a._cancelLastGetter=function(){r=!0};var o=null!==(t=a._mobxGlobal.inXFormAsyncValueFetcher)&&void 0!==t&&t;a._mobxGlobal.inXFormAsyncValueFetcher=!0,a._refreshAtom.reportObserved(),a.fetcher().then((function(n){r||Object(c.p)((function(){a._status="ready",n!==e.SKIP&&(a._current=n),a._error=null,a._atom.reportChanged()}))})).catch((function(n){if(!(n instanceof e.StillLoading))throw Object(c.p)((function(){a._status="error",a._error=n,a._atom.reportChanged()})),n})),a._mobxGlobal.inXFormAsyncValueFetcher=o}))})),a._reaction.schedule_()},this._stop=function(){a._reaction&&(a._reaction.dispose(),a._reaction=null)},this.fetcher=n,this._status="loading",this._current=t,Object(c.k)(this,{status:c.d,current:c.d,error:c.d}),this._disposers.push(this._stop),this._disposers.push(Object(c.m)(this._atom,this._start)),this._disposers.push(Object(c.n)(this._atom,this._stop)),this._disposers.push((function(){a._status="ready",a._current=null,a._error=null}))}var n=e.prototype;return n.refresh=function(){this._refreshAtom.reportChanged()},n.dispose=function(){for(var e,n=Object(G.a)(this._disposers);!(e=n()).done;){(0,e.value)()}},Object(r.a)(e,[{key:"_mobxGlobal",get:function(){return Object(c.b)()}},{key:"status",get:function(){return this._atom.reportObserved(),this._status}},{key:"current",get:function(){if(this._mobxGlobal.inXFormAsyncValueFetcher){if(this._atom.reportObserved(),"loading"===status)throw new e.StillLoading;if("error"===status)throw this._error;return this._current}return this._atom.reportObserved(),this._current}},{key:"error",get:function(){return this._atom.reportObserved(),this._error}}]),e}();z.SKIP="AsyncValue@SKIP",z.StillLoading=function(e){function n(){return e.apply(this,arguments)||this}return Object(D.a)(n,e),n}(Object(W.a)(Error));var U=u.a.createContext(null);U.displayName="ModelContext";var J=U.Provider;function $(){return Object(m.useContext)(U)}var X=u.a.createContext({isPreview:!1,validateOnMount:!1,validateOnBlur:!0,validateOnChange:!0});X.displayName="FormEnvContext";var H=function(){return Object(m.useContext)(X)},Z=function(e){var n=e.children,t=Object(j.a)(e,["children"]),a=H();return u.a.createElement(X.Provider,{value:Object.assign({},a,t)},n)};function Q(e){var n=e.model,t=e.defaultValue,a=e.children,r=e.className,o=e.style,l=e.layout,i=Object(j.a)(e,["model","defaultValue","children","className","style","layout"]),s=h(n,Object(m.useState)((function(){return new F(t)}))[0]);return u.a.createElement(Z,Object.assign({},i),u.a.createElement(J,{value:s},u.a.createElement(T,Object.assign({style:o,className:r},l),a)))}var ee=Object(E.b)((function(e){var n=e.watch,t=e.effect,a=e.fireImmediately,r=$(),o=Object(m.useCallback)((function(e,n){return t(e,{model:r,prev:n,next:e})}),[r,t]);return Object(m.useEffect)((function(){return"string"==typeof n?Object(c.o)((function(){return Object(c.r)(r.getValue(n))}),o,{fireImmediately:a}):"function"==typeof n?Object(c.o)(n,o):n instanceof O?Object(c.o)((function(){return n.value}),o,{fireImmediately:a}):n instanceof z?Object(c.o)((function(){return n.current}),o,{fireImmediately:a}):Array.isArray(n)?Object(c.o)((function(){return n.map((function(e){return"string"==typeof e?Object(c.r)(r.getValue(e)):e instanceof z?e.current:e.value}))}),o,{fireImmediately:a}):void 0}),[r,n,o,a]),null})),ne=Object(E.b)((function(e){return(0,e.children)($())})),te=Object(E.b)((function(e){var n,t,a=e.name,r=e.children,o=e.layout,l=e.itemFactory,i=$();if("&"===a)throw new Error("XFormArray \u4e0d\u652f\u6301 name=&. path=("+(i.path.join(".")||"root")+")");var s=i.getSubModel(a),c=null!==(t=null===(n=s.values)||void 0===n?void 0:n.length)&&void 0!==t?t:0;return u.a.createElement(J,{value:s},o({arrayModel:s,itemCount:c,itemContent:r,itemFactory:l}))})),ae=Object(E.b)((function(e){var n=e.name,t=e.children,a=$();return"&"===n?u.a.createElement(u.a.Fragment,null,t):u.a.createElement(J,{value:a.getSubModel(n),children:t})}));Q.Submit=Y,Q.Reset=K,Q.Effect=ee,Q.Array=te,Q.Object=ae,Q.ModelProvider=J,Q.ModelConsumer=ne,Q.Layout=T,Q.ItemGroup=M,Q.ItemView=L;try{Q.displayName="Form",Q.__docgenInfo={description:"",displayName:"Form",props:{model:{defaultValue:null,description:"\u53d7\u63a7\u7528\u6cd5\u3002 xform \u6a21\u578b\u5bf9\u8c61\uff0c\u4e00\u822c\u7531\u4e0a\u5c42\u901a\u8fc7 new FormModel(...) \u521b\u5efa\u800c\u6210",name:"model",required:!1,type:{name:"IModel<T>"}},defaultValue:{defaultValue:null,description:"\u975e\u53d7\u63a7\u7528\u6cd5\u3002 \u8868\u5355\u7684\u9ed8\u8ba4\u503c",name:"defaultValue",required:!1,type:{name:"T"}},style:{defaultValue:null,description:"@category \u5e03\u5c40",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"@category \u5e03\u5c40",name:"className",required:!1,type:{name:"string"}},layout:{defaultValue:null,description:"\u8868\u5355\u5e03\u5c40\u53c2\u6570\n@category \u5e03\u5c40",name:"layout",required:!1,type:{name:"FormLayoutParams"}},onSubmit:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onSubmit",required:!1,type:{name:"(submitValues: any, model: IModel<any>) => void"}},onError:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u51fa\u9519\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onError",required:!1,type:{name:"(errors: any, model: IModel<any>) => void"}},onReset:{defaultValue:null,description:"\u6e05\u7a7a\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Reset /> \u4f7f\u7528",name:"onReset",required:!1,type:{name:"(model: IModel<any>) => void"}},isPreview:{defaultValue:{value:"false"},description:"\u662f\u5426\u4e3a\u9884\u89c8\u6001",name:"isPreview",required:!1,type:{name:"boolean"}},validateOnMount:{defaultValue:{value:"false"},description:"\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:{value:"true"},description:"\u503c\u4fee\u6539\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:{value:"true"},description:"\u7ec4\u4ef6\u5931\u53bb\u7126\u70b9\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnBlur",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form"]={docgenInfo:Q.__docgenInfo,name:"Form",path:"../xform/src/form.tsx#Form"})}catch(Pe){}try{Q.Submit.displayName="Form.Submit",Q.Submit.__docgenInfo={description:"",displayName:"Form.Submit",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"solid" | "text" | "link" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"a" | "button"'}},type:{defaultValue:{value:"primary"},description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Submit"]={docgenInfo:Q.Submit.__docgenInfo,name:"Form.Submit",path:"../xform/src/form.tsx#Form.Submit"})}catch(Pe){}try{Q.Reset.displayName="Form.Reset",Q.Reset.__docgenInfo={description:"",displayName:"Form.Reset",props:{size:{defaultValue:null,description:"\u5c3a\u5bf8",name:"size",required:!1,type:{name:'"small" | "medium" | "large"'}},shape:{defaultValue:null,description:"\u5916\u89c2",name:"shape",required:!1,type:{name:'"solid" | "text" | "link" | "warning" | "ghost"'}},target:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"target",required:!1,type:{name:"string"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:'"a" | "button"'}},type:{defaultValue:null,description:"\u7ea7\u522b",name:"type",required:!1,type:{name:'"normal" | "primary" | "secondary"'}},href:{defaultValue:null,description:'\u4ec5\u5728 as="a" \u65f6\u751f\u6548',name:"href",required:!1,type:{name:"string"}},leftElement:{defaultValue:null,description:"\u5185\u90e8\u5de6\u4fa7\u5143\u7d20",name:"leftElement",required:!1,type:{name:"ReactNode"}},rightElement:{defaultValue:null,description:"\u5185\u90e8\u53f3\u4fa7\u5143\u7d20",name:"rightElement",required:!1,type:{name:"ReactNode"}},htmlType:{defaultValue:null,description:"html \u539f\u751f\u7c7b\u578b",name:"htmlType",required:!1,type:{name:'"button" | "submit" | "reset"'}},isFullWidth:{defaultValue:null,description:"\u6309\u94ae\u957f\u5ea6\u662f\u5426\u5360\u6ee1\u5bb9\u5668",name:"isFullWidth",required:!1,type:{name:"boolean"}},isIconButton:{defaultValue:null,description:"\u662f\u5426\u4e3a\u4ec5\u5305\u542b\u5355\u4e2a\u56fe\u6807\u7684\u6309\u94ae",name:"isIconButton",required:!1,type:{name:"boolean"}},isSelected:{defaultValue:null,description:"\u662f\u5426\u9009\u4e2d/\u6fc0\u6d3b",name:"isSelected",required:!1,type:{name:"boolean"}},loading:{defaultValue:null,description:"\u662f\u5426\u8f7d\u5165\u4e2d",name:"loading",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Reset"]={docgenInfo:Q.Reset.__docgenInfo,name:"Form.Reset",path:"../xform/src/form.tsx#Form.Reset"})}catch(Pe){}try{Q.Effect.displayName="Form.Effect",Q.Effect.__docgenInfo={description:"",displayName:"Form.Effect",props:{watch:{defaultValue:null,description:"",name:"watch",required:!0,type:{name:"string | (string | Field<unknown> | AsyncValue<any>)[] | (() => T) | Field<T> | AsyncValue<T>"}},effect:{defaultValue:null,description:"",name:"effect",required:!0,type:{name:"(value: T, detail: { prev: T; next: T; model: IModel<any>; }) => void"}},fireImmediately:{defaultValue:null,description:"",name:"fireImmediately",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Effect"]={docgenInfo:Q.Effect.__docgenInfo,name:"Form.Effect",path:"../xform/src/form.tsx#Form.Effect"})}catch(Pe){}try{Q.Array.displayName="Form.Array",Q.Array.__docgenInfo={description:"",displayName:"Form.Array",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"(input: FormArrayLayoutInput) => ReactElement<any, string | JSXElementConstructor<any>>"}},itemFactory:{defaultValue:null,description:"",name:"itemFactory",required:!1,type:{name:"(arrayModel: SubModel<unknown[]>) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Array"]={docgenInfo:Q.Array.__docgenInfo,name:"Form.Array",path:"../xform/src/form.tsx#Form.Array"})}catch(Pe){}try{Q.Object.displayName="Form.Object",Q.Object.__docgenInfo={description:"",displayName:"Form.Object",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Object"]={docgenInfo:Q.Object.__docgenInfo,name:"Form.Object",path:"../xform/src/form.tsx#Form.Object"})}catch(Pe){}try{Q.ModelConsumer.displayName="Form.ModelConsumer",Q.ModelConsumer.__docgenInfo={description:"",displayName:"Form.ModelConsumer",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ModelConsumer"]={docgenInfo:Q.ModelConsumer.__docgenInfo,name:"Form.ModelConsumer",path:"../xform/src/form.tsx#Form.ModelConsumer"})}catch(Pe){}try{Q.Layout.displayName="Form.Layout",Q.Layout.__docgenInfo={description:"",displayName:"Form.Layout",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},labelPosition:{defaultValue:{value:"left"},description:"\u6807\u7b7e\u4f4d\u7f6e\uff0c\u53ef\u9009 'left' \u6216 'top'",name:"labelPosition",required:!1,type:{name:'"top" | "left"'}},labelWidth:{defaultValue:{value:"labelPosition === 'left' ? 120 : 'auto'"},description:"\u6807\u7b7e\u5bbd\u5ea6",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:{value:320},description:"\u63a7\u4ef6\u5bbd\u5ea6",name:"controlWidth",required:!1,type:{name:"string | number"}},formItemGap:{defaultValue:{value:"labelPosition === 'left' ? 12 : 16"},description:"\u4e24\u4e2a form item \u4e4b\u95f4\u7684\u95f4\u8ddd",name:"formItemGap",required:!1,type:{name:"string | number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.Layout"]={docgenInfo:Q.Layout.__docgenInfo,name:"Form.Layout",path:"../xform/src/form.tsx#Form.Layout"})}catch(Pe){}try{Q.ItemGroup.displayName="Form.ItemGroup",Q.ItemGroup.__docgenInfo={description:"",displayName:"Form.ItemGroup",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},labelWidth:{defaultValue:null,description:"",name:"labelWidth",required:!1,type:{name:"string | number"}},controlWidth:{defaultValue:null,description:"",name:"controlWidth",required:!1,type:{name:"string | number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ItemGroup"]={docgenInfo:Q.ItemGroup.__docgenInfo,name:"Form.ItemGroup",path:"../xform/src/form.tsx#Form.ItemGroup"})}catch(Pe){}try{Q.ItemView.displayName="Form.ItemView",Q.ItemView.__docgenInfo={description:"",displayName:"Form.ItemView",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"ReactNode"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#Form.ItemView"]={docgenInfo:Q.ItemView.__docgenInfo,name:"Form.ItemView",path:"../xform/src/form.tsx#Form.ItemView"})}catch(Pe){}try{Z.displayName="FormEnvProvider",Z.__docgenInfo={description:"",displayName:"FormEnvProvider",props:{onSubmit:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onSubmit",required:!1,type:{name:"(submitValues: any, model: IModel<any>) => void"}},onError:{defaultValue:null,description:"\u63d0\u4ea4\u8868\u5355\u65f6\u7684\u51fa\u9519\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Submit /> \u4f7f\u7528",name:"onError",required:!1,type:{name:"(errors: any, model: IModel<any>) => void"}},onReset:{defaultValue:null,description:"\u6e05\u7a7a\u8868\u5355\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u9700\u914d\u5408 <Form.Reset /> \u4f7f\u7528",name:"onReset",required:!1,type:{name:"(model: IModel<any>) => void"}},isPreview:{defaultValue:{value:"false"},description:"\u662f\u5426\u4e3a\u9884\u89c8\u6001",name:"isPreview",required:!1,type:{name:"boolean"}},validateOnMount:{defaultValue:{value:"false"},description:"\u7ec4\u4ef6\u52a0\u8f7d\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:{value:"true"},description:"\u503c\u4fee\u6539\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:{value:"true"},description:"\u7ec4\u4ef6\u5931\u53bb\u7126\u70b9\u65f6\u662f\u5426\u89e6\u53d1\u6821\u9a8c",name:"validateOnBlur",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form.tsx#FormEnvProvider"]={docgenInfo:Z.__docgenInfo,name:"FormEnvProvider",path:"../xform/src/form.tsx#FormEnvProvider"})}catch(Pe){}var re=t(463),oe=t.n(re);function le(e){return e.value?"\u662f":"\u5426"}function ie(e){return!e}function se(e){return null==e}function ce(e){return null==e||Array.isArray(e)&&e.every(se)}function me(e){return e.value}var ue=[];function de(e,n){ue.push(Object.assign({component:e},n))}function pe(e){var n,t,a=null!==(n=e.statusPropName)&&void 0!==n?n:"status",r=null!==(t=e.valuePropName)&&void 0!==t?t:"value";function o(n){var t,o,l=n.fallbackValue,i=void 0===l?e.fallbackValue:l,s=n.isEmpty,d=void 0===s?e.isEmpty:s,p=n.renderPreview,f=void 0===p?e.renderPreview:p,b=n.componentProps,y=n.name,v=n.field,g=Object(j.a)(n,["fallbackValue","isEmpty","renderPreview","componentProps","name","field"]),F=$(),S=H(),O=function(e,n,t){var a;if(null!=e)a=e;else if("&"===t)a=n._asField();else{if(null==t)throw new Error("<FormItem /> \u5fc5\u987b\u901a\u8fc7 name \u6216 field \u6765\u6307\u5b9a\u5bf9\u5e94\u7684\u6570\u636e\u7d22\u5f15");a=n.getField(t)}return a}(v,F,y),x=Object.assign({fallbackValue:i,isEmpty:d,validateOnChange:S.validateOnChange,validateOnBlur:S.validateOnBlur,validateOnMount:S.validateOnMount},g);O._useTrack(x),Object(m.useEffect)((function(){if(x.validateOnMount){O.validate("mount");var e=O.state.cancelValidation;return function(){null==e||e()}}}),[]);var _,E=O.state.error,I=Object(c.r)(h(O.value,i)),V=Object.assign({},oe()(g,["dataSource","readOnly","disabled"]),b,((t={})[a]=h(null==b?void 0:b[a],h(g[a],E?"error":void 0)),t[r]=h(g[r],I),t.onChange=h(g.onChange,O.handleChange),t.onBlur=h(g.onBlur,O.handleBlur),t));return _=S.isPreview&&f?f(V):e.render?e.render(V):u.a.createElement(e.component,Object.assign({},V)),u.a.createElement(L,{label:g.label,help:g.help,asterisk:null!==(o=g.asterisk)&&void 0!==o?o:g.required,error:E,tip:g.tip,style:g.style,className:w()(g.className,{"form-item-preview":S.isPreview})},_)}return o.displayName="FormItem__"+e.name,Object(E.b)(o)}de(V.Switch,{name:"switch",renderPreview:le,fallbackValue:!1,isEmpty:ie}),de(V.Checkbox,{name:"checkbox",renderPreview:le,fallbackValue:!1,valuePropName:"checked",isEmpty:ie}),de(V.CheckboxGroup,{name:"checkboxGroup",fallbackValue:[],renderPreview:function(e){var n,t=null!==(n=e.value)&&void 0!==n?n:e.defaultValue,a=new V.ListStore(e.dataSource);return t.map((function(e){var n=a.getItem(e);return n?n.label:e})).join("\u3001")},isEmpty:function(e){return null==e||0===e.length}}),de(V.RadioGroup,{name:"radioGroup",fallbackValue:null,renderPreview:function(e){var n,t=null!==(n=e.value)&&void 0!==n?n:e.defaultValue,a=new V.ListStore(e.dataSource).getItem(t);return a?a.label:t},isEmpty:ie}),de(V.DatePicker,{name:"datePicker",renderPreview:me,fallbackValue:null,isEmpty:ie}),de(V.DateRangePicker,{name:"dateRangePicker",renderPreview:function(e){var n,t=(null!==(n=e.value)&&void 0!==n?n:e.defaultValue)||[];return(t[0]||"-")+" ~ "+(t[1]||"-")},fallbackValue:[],isEmpty:ce}),de(V.TimePicker,{name:"timePicker",renderPreview:me,fallbackValue:"",isEmpty:ie}),de(V.FilePicker,{name:"filePicker",renderPreview:function(e){var n,t=(null!==(n=e.value)&&void 0!==n?n:e.defaultValue)||[];return u.a.createElement(V.Flex,{spacing:"s",direction:"column"},t.map((function(e){var n=e.id,t=e.name,a=e.url;return u.a.createElement(V.FlexItem,{key:n,bg:"fill.layer1",px:"m"},u.a.createElement(V.Link,{href:a},t))})))},fallbackValue:[],isEmpty:ce}),de(V.MediaPicker,{name:"mediaPicker",renderPreview:function(e){var n,t=(null!==(n=e.value)&&void 0!==n?n:e.defaultValue)||[];return u.a.createElement(V.Flex,{spacing:"m"},t.map((function(e){var n=e.id,t=e.name,a=e.url,r=Object(V.colors)("fill.layer1")+" url("+a+") center center / 100% no-repeat";return u.a.createElement(V.Box,{key:n,size:"100px",title:t,display:"inline-block",style:{background:r}})})))},fallbackValue:[],isEmpty:ce}),de(V.Input,{name:"input",renderPreview:me,fallbackValue:"",isEmpty:ie}),de(V.Textarea,{name:"textarea",renderPreview:me,fallbackValue:"",isEmpty:ie}),de(V.NumberInput,{name:"numberInput",renderPreview:me,fallbackValue:null,isEmpty:se}),de(V.Range,{name:"range",renderPreview:me,fallbackValue:0,isEmpty:se}),de(V.Select,{name:"select",renderPreview:me,fallbackValue:null,isEmpty:se}),de(V.SingleSelect,{name:"singleSelect",renderPreview:me,fallbackValue:null,isEmpty:ie}),de(V.MultiSelect,{name:"multiSelect",renderPreview:me,fallbackValue:[],isEmpty:ce}),de(V.TreeSelect,{name:"treeSelect",renderPreview:me,fallbackValue:null,isEmpty:ce}),de(V.SingleTreeSelect,{name:"singleTreeSelect",renderPreview:me,fallbackValue:null,isEmpty:ie}),de(V.MultiTreeSelect,{name:"multiTreeSelect",renderPreview:me,fallbackValue:[],isEmpty:ce}),de((function(e){var n=e.items,t=e.value,a=e.onChange,r=Object(j.a)(e,["items","value","onChange"]);return u.a.createElement("div",Object.assign({style:{display:"flex",gap:8}},r),n.map((function(e){return u.a.createElement(V.Button,{key:e,type:e===t?"primary":"normal",onClick:function(){return a(e)}},e)})))}),{name:"testButtonGroup",fallbackValue:"",renderPreview:me,isEmpty:ie});for(var fe,be={},he=Object(G.a)(ue);!(fe=he()).done;){var ye=fe.value,ve=pe(ye);if(be[ye.name]=ve,ye.aliases)for(var ge,Fe=Object(G.a)(ye.aliases);!(ge=Fe()).done;){var Se=ge.value;be[Se]=ve}}var Oe=pe({name:"notFound",fallbackValue:null,isEmpty:function(){return!1},render:function(e){var n=e.component;return u.a.createElement("div",{style:{border:"1px dashed red",fontSize:14,padding:4,color:"red"}},u.a.createElement("code",null,"<FormItem component='",n,"' />")," \u6ca1\u6709\u627e\u5230\u5bf9\u5e94\u7ec4\u4ef6\uff0c\u8bf7\u68c0\u67e5\u7ec4\u4ef6\u540d\u79f0\u662f\u5426\u62fc\u5199\u6b63\u786e")}});function xe(e){var n=e.component,t=Object(j.a)(e,["component"]),a=be[n];return null==a?u.a.createElement(Oe,Object.assign({},t,{componentProps:{component:n}})):u.a.createElement(a,t)}xe.register=function(e){be[e.name]=pe(e)},xe.COMPONENT_DICT=be;try{pe.displayName="createFormItem",pe.__docgenInfo={description:"",displayName:"createFormItem",props:{name:{defaultValue:null,description:"\u540d\u79f0",name:"name",required:!0,type:{name:"string"}},component:{defaultValue:null,description:'\u63a7\u4ef6\u5bf9\u5e94\u7684 React \u7ec4\u4ef6\uff0c\u4f8b\u5982 `<FormItem component="select" />` \u5bf9\u5e94 `Select` \u7ec4\u4ef6.',name:"component",required:!1,type:{name:"ComponentType<FormItemComponentProps>"}},render:{defaultValue:null,description:"\u63a7\u4ef6\u6e32\u67d3\u65b9\u6cd5\uff0c\u4e0e component \u53c2\u6570\u4e8c\u9009\u4e00\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8e component",name:"render",required:!1,type:{name:"(arg: FormItemComponentProps) => ReactElement<any, string | JSXElementConstructor<any>>"}},valuePropName:{defaultValue:null,description:"\u7ec4\u4ef6\u503c\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a `'value'`",name:"valuePropName",required:!1,type:{name:"string"}},statusPropName:{defaultValue:null,description:"\u7ec4\u4ef6\u72b6\u6001\u503c\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u9ed8\u8ba4\u4e3a `'status'`",name:"statusPropName",required:!1,type:{name:"string"}},renderPreview:{defaultValue:null,description:"\u9884\u89c8\u6001\u4e0b\u7ec4\u4ef6\u7684\u6e32\u67d3\u65b9\u6cd5\u3002\u5982\u679c\u4e0d\u8bbe\u7f6e\u8be5\u65b9\u6cd5\uff0c\u9884\u89c8\u6001\u4e0b\u5c06\u4f7f\u7528 render/component \u4f5c\u4e3a\u540e\u5907\u65b9\u6848.",name:"renderPreview",required:!1,type:{name:"(props: FormItemComponentProps) => ReactNode"}},fallbackValue:{defaultValue:null,description:"\u5f53\u6a21\u578b\u4e2d\u7684\u5b57\u6bb5\u503c\u4e3a\u7a7a\uff08undefined\uff09\u65f6\uff0c\u6e32\u67d3\u63a7\u4ef6\u6240\u4f7f\u7528\u7684\u503c",name:"fallbackValue",required:!0,type:{name:"any"}},isEmpty:{defaultValue:null,description:"\u7ec4\u4ef6\u7c7b\u578b\u9ed8\u8ba4\u7684\u7a7a\u503c\u5224\u65ad\u65b9\u6cd5",name:"isEmpty",required:!0,type:{name:"(value: any) => boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-item.tsx#createFormItem"]={docgenInfo:pe.__docgenInfo,name:"createFormItem",path:"../xform/src/form-item.tsx#createFormItem"})}catch(Pe){}try{xe.displayName="FormItem",xe.__docgenInfo={description:"",displayName:"FormItem",props:{component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"string"}},componentProps:{defaultValue:null,description:"",name:"componentProps",required:!1,type:{name:"any"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!1,type:{name:"any"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},field:{defaultValue:null,description:"",name:"field",required:!1,type:{name:"Field<unknown>"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(nextValue: any) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"() => void"}},renderPreview:{defaultValue:null,description:"",name:"renderPreview",required:!1,type:{name:"(props: FormItemProps) => ReactNode"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},help:{defaultValue:null,description:"",name:"help",required:!1,type:{name:"ReactNode"}},tip:{defaultValue:null,description:"",name:"tip",required:!1,type:{name:"ReactNode"}},asterisk:{defaultValue:null,description:"",name:"asterisk",required:!1,type:{name:"boolean"}},fallbackValue:{defaultValue:null,description:"",name:"fallbackValue",required:!1,type:{name:"any"}},isEmpty:{defaultValue:null,description:"",name:"isEmpty",required:!1,type:{name:"(value: any) => boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},requiredMessage:{defaultValue:null,description:"",name:"requiredMessage",required:!1,type:{name:"string"}},validate:{defaultValue:null,description:"",name:"validate",required:!1,type:{name:"(value: any, field: Field<any>, trigger: FieldValidateTrigger) => string | Promise<any>"}},validateOnMount:{defaultValue:null,description:"",name:"validateOnMount",required:!1,type:{name:"boolean"}},validateOnChange:{defaultValue:null,description:"",name:"validateOnChange",required:!1,type:{name:"boolean"}},validateOnBlur:{defaultValue:null,description:"",name:"validateOnBlur",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/form-item.tsx#FormItem"]={docgenInfo:xe.__docgenInfo,name:"FormItem",path:"../xform/src/form-item.tsx#FormItem"})}catch(Pe){}function _e(e){e.subModels.forEach((function(e,n){e.name=String(n)}))}function je(e,n,t){if(null!=e){var a=e.splice(n,1)[0];e.splice(t,0,a)}}function Ee(e,n,t){if(null!=e){var a=e[n];e[n]=e[t],e[t]=a}}var Ie={append:Object(c.c)((function(e,n){var t;null==e.values&&(e.values=[]),e.values.push(null!==(t=null==n?void 0:n(e))&&void 0!==t?t:{})})),delete:Object(c.c)((function(e,n){s()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),e.values.splice(n,1),e._proxy.subModels.splice(n,1),_e(e._proxy)})),moveUp:Object(c.c)((function(e,n){0!==n&&(s()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),Ee(e.values,n,n-1),Ee(e._proxy.subModels,n,n-1),_e(e._proxy))})),moveDown:Object(c.c)((function(e,n){n!==e.values.length-1&&(s()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),Ee(e.values,n,n+1),Ee(e._proxy.subModels,n,n+1),_e(e._proxy))})),clear:Object(c.c)((function(e){null!=e.values&&0!==e.values.length&&(s()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),e.values=[],e._proxy.subModels.length=0)})),dragAndDrop:Object(c.c)((function(e,n,t){s()(Array.isArray(e._proxy.subModels),"arrayModel.subModels should be Array or observable.array"),je(e.values,n,t),je(e._proxy.subModels,n,t),_e(e._proxy)})),renderArrayItem:function(e,n,t){return u.a.createElement(Q.Object,{name:String(n)},t)},getKey:function(e,n){return e.getSubModel(n).id}},Ve=function(e){for(var n=[],t=0;t<e;t++)n.push(t);return n},Ce=function(e){var n=void 0===e?{}:e,t=n.title,a=n.showItemCount,r=n.showItemOrder,o=n.style,l=n.className,i={position:"absolute",top:8,right:8,display:"flex",gap:8,zIndex:20};return function(e){var n=e.arrayModel,s=e.itemContent,m=e.itemCount,d=e.itemFactory;return u.a.createElement("div",{className:w()("xform-array",l),style:Object.assign({marginTop:16,marginBottom:8},o)},(t||a)&&u.a.createElement("h2",null,null!=t?t:"\u5217\u8868"," ",a&&"("+m+")"),0===m&&u.a.createElement("div",{style:{border:"1px dashed #aaa",marginTop:16,padding:8,position:"relative",fontSize:20}},"\u7a7a\u7a7a\u5982\u4e5f~~"),u.a.createElement("div",{className:"xform-array-items"},Ve(m).map((function(t){return u.a.createElement("div",{key:Ie.getKey(n,t),className:"xform-array-item",style:{border:"1px dashed #aaa",marginTop:16,padding:8,position:"relative"}},r&&u.a.createElement("code",{style:{fontSize:16}},n.path.join("."),"#",t),u.a.createElement(ke,Object.assign({},e,{itemIndex:t,style:i})),Ie.renderArrayItem(n,t,s))}))),u.a.createElement("div",{style:{marginTop:12}},u.a.createElement(V.Button,{onClick:Object(c.c)((function(){Ie.append(n,d)}))},"\u6dfb\u52a0\u4e00\u9879")))}},ke=Object(E.b)((function(e){var n=e.arrayModel,t=e.itemCount,a=e.itemIndex,r=e.style;return u.a.createElement("div",{style:r},u.a.createElement(V.Button,{size:"small",onClick:Object(c.c)((function(){Ie.delete(n,a)}))},"\u5220\u9664"),u.a.createElement(V.Button,{size:"small",disabled:0===a,onClick:Object(c.c)((function(){Ie.moveUp(n,a)}))},"\u4e0a\u79fb"),u.a.createElement(V.Button,{size:"small",disabled:a===t-1,onClick:Object(c.c)((function(){Ie.moveDown(n,a)}))},"\u4e0b\u79fb"))})),we=function(e){var n=void 0===e?{}:e,t=n.defaultColumnWidth,a=n.orderColumn,r=n.operationColumn,o=n.className,l=n.style,i={display:"flex",gap:0};return function(e){var n=e.arrayModel,s=e.itemContent,c=e.itemCount,m=e.itemFactory,d=u.a.Children.toArray(s).filter((function(e){return e.type===xe})).map((function(e){return Object.assign({name:"string"==typeof e.props.label?e.props.label:null,title:e.props.label},e.props["x-table-column"],{render:function(n,t){return u.a.createElement(Q.Object,{name:String(t.itemIndex)},u.a.cloneElement(e,{className:w()(e.className,"minimal")}))}})}));return null!=a&&d.unshift(Object.assign({name:"#"},a,{getValue:function(e){return e.itemIndex+1}})),null!=r&&d.push(Object.assign({name:""},r,{render:function(n,t){return u.a.createElement(ke,Object.assign({},e,{itemIndex:t.itemIndex,style:i}))}})),u.a.createElement("div",{style:l,className:o},u.a.createElement(V.BaseTable,{className:"bordered",primaryKey:"rowKey",defaultColumnWidth:t,dataSource:Ve(c).map((function(e){return{rowKey:Ie.getKey(n,e),itemIndex:e}})),columns:d,style:{"--cell-padding":"8px"}}),u.a.createElement("div",{style:{padding:4,height:48,display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f5f5"}},u.a.createElement(V.Button,{type:"primary",onClick:function(){Ie.append(n,m)}},"\u6dfb\u52a0\u4e00\u884c")))}};try{Ce.displayName="arrayCard",Ce.__docgenInfo={description:"",displayName:"arrayCard",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showItemCount:{defaultValue:null,description:"",name:"showItemCount",required:!1,type:{name:"boolean"}},showItemOrder:{defaultValue:null,description:"",name:"showItemOrder",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/array-layouts.tsx#arrayCard"]={docgenInfo:Ce.__docgenInfo,name:"arrayCard",path:"../xform/src/array-layouts.tsx#arrayCard"})}catch(Pe){}try{we.displayName="arrayTable",we.__docgenInfo={description:"",displayName:"arrayTable",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/array-layouts.tsx#arrayTable"]={docgenInfo:we.__docgenInfo,name:"arrayTable",path:"../xform/src/array-layouts.tsx#arrayTable"})}catch(Pe){}var Ne=function(){function e(e,n){var t=this,r=void 0===n?{}:n,o=r.field,i=void 0===o?null:o,s=r.fetchLabel,m=void 0===s?null:s,u=r.skipEmptySearchResult,d=void 0!==u&&u,p=r.resetSearchValueWhenValueChange,f=void 0!==p&&p,b=r.debounceTime,h=void 0===b?200:b,y=r.mode,v=void 0===y?"single":y;if(this.search=e,this._isFetchingLabel=!1,this._searchValue="",this._debouncedSearchValue="",this._labelCache=c.l.map({},{deep:!1}),this._disposers=[],this.setSearchValue=Object(c.c)((function(e,n){void 0===n&&(n=!0),t._searchValue=e,n?(clearTimeout(t._debounceHandle),t._debounceHandle=setTimeout(Object(c.c)((function(){t._debouncedSearchValue=t._searchValue})),t.options.debounceTime)):(clearTimeout(t._debounceHandle),t._debouncedSearchValue=t._searchValue)})),this.search=e,this.options={field:i,fetchLabel:m,skipEmptySearchResult:d,resetSearchValueWhenValueChange:f,debounceTime:h,mode:v},Object(c.k)(this,{_searchValue:c.l,_debouncedSearchValue:c.l,dataSource:c.d,selectProps:c.d,_isFetchingLabel:c.l}),this._dataSourceFromSearch$=new z(Object(a.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.search(t._debouncedSearchValue);case 2:return n=e.sent,e.abrupt("return",t.options.skipEmptySearchResult&&0===n.length?t._dataSourceFromSearch$.current:n);case 4:case"end":return e.stop()}}),e)}))),[]),this._disposers.push((function(){return t._dataSourceFromSearch$.dispose()})),this.options.field){var g=this.options.field;this._disposers.push(Object(c.o)((function(){return{value:g.value,dataSource:t._dataSourceFromSearch$.current}}),(function(e){for(var n,a=e.value,r=e.dataSource,o=Object(G.a)(r);!(n=o()).done;){var l=n.value;t._labelCache.set(l.value,l.label)}if(null!=a&&null!=t.options.fetchLabel)if("multiple"===t.mode){var i=a.filter((function(e){return!t._labelCache.has(e)}));if(0===i.length)return;t._isFetchingLabel=!0,t.options.fetchLabel(i).then(Object(c.c)((function(e){t._isFetchingLabel=!1,e.forEach((function(e,n){t._labelCache.set(i[n],e)}))})))}else{if(t._labelCache.has(a))return;t._isFetchingLabel=!0,t.options.fetchLabel(a).then(Object(c.c)((function(e){t._isFetchingLabel=!1,t._labelCache.set(a,e)})))}}),{fireImmediately:!0})),this.options.resetSearchValueWhenValueChange&&this._disposers.push(Object(c.o)((function(){return g.value}),(function(){return t._searchValue=""})))}}return e.prototype.dispose=function(){var e=this;Object(c.p)((function(){e._labelCache.clear(),clearTimeout(e._debounceHandle);for(var n,t=Object(G.a)(e._disposers);!(n=t()).done;){(0,n.value)()}}))},Object(r.a)(e,[{key:"mode",get:function(){return this.options.mode}},{key:"dataSource",get:function(){var e=this,n=this._dataSourceFromSearch$.current;if(this.options.field){var t=this.options.field.value,a=new Set(n.map((function(e){return e.value}))),r=("multiple"===this.mode?t:[t]).filter((function(e){return!a.has(e)})).map((function(n){return{label:e._labelCache.get(n),value:n}})).filter((function(n){return null!=n.label&&n.label.includes(e._searchValue)}));return n.concat(r)}return n}},{key:"selectProps",get:function(){return{mode:this.mode,showSearch:!0,filterLocal:!1,searchValue:this._searchValue,onSearch:this.setSearchValue,dataSource:this.dataSource,state:"loading"===this._dataSourceFromSearch$.status||this._isFetchingLabel?"loading":void 0}}}]),e}();try{Ne.displayName="RemoteSearch",Ne.__docgenInfo={description:"\u8fdc\u7a0b\u641c\u7d22\u8f85\u52a9\u51fd\u6570\uff0c\u7528\u4e8e\u7b80\u5316 Select \u8fdc\u7a0b\u641c\u7d22\u7684\u5b9e\u73b0.\n\n\u76ee\u524d\u652f\u6301\u4ee5\u4e0b\u7279\u6027\uff1a\n- \u641c\u7d22\u9632\u6296\uff1a \u9ed8\u8ba4\u4e3a 200ms\uff0c\u53ef\u901a\u8fc7 options.debounceTime \u8fdb\u884c\u8c03\u6574\n- label \u7f13\u5b58\uff1a \u5f53 value \u52a8\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f18\u5148\u4f7f\u7528\u5185\u90e8\u7f13\u5b58\u7684 label\uff0c\u5e76\u5728\u5fc5\u8981\u65f6\u6309\u9700\u83b7\u53d6 label\n  \uff08\u9700\u8981\u914d\u7f6e options.field & options.fetchLabel\uff09\n- loading \u72b6\u6001\uff1a dataSource \u52a0\u8f7d\u8fc7\u7a0b\u4e2d\uff0c\u81ea\u52a8\u8bbe\u7f6e state='loading'\n- \u591a\u9009\uff1a\u652f\u6301\u591a\u9009\u6a21\u5f0f\u4e0b\u7684\u8fdc\u7a0b\u641c\u7d22",displayName:"RemoteSearch",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../xform/src/helpers/RemoteSearch.tsx#RemoteSearch"]={docgenInfo:Ne.__docgenInfo,name:"RemoteSearch",path:"../xform/src/helpers/RemoteSearch.tsx#RemoteSearch"})}catch(Pe){}},248:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return f}));var a=t(3),r=t(170),o=t(207),l=t(175),i=t(186),s=t(0),c=t.n(s);function m(e){var n=e.children,t=e.fallback;return"undefined"==typeof document||null==n?null!=t?t:null:c.a.createElement(c.a.Fragment,null,n())}var u={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/helpers.tsx",loc:{start:{line:8,column:0},end:{line:20,column:1}},name:"BrowserOnly",value:m,source:" function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }function BrowserOnly({\n  children,\n  fallback,\n}\n\n\n) {\n  if (typeof document === 'undefined' || children == null) {\n    return _nullishCoalesce(fallback, () => ( null));\n  }\n\n  return <>{children()}</>;\n}",deps:function(){return[]},provides:{React:c.a}},d=function(e){return c.a.createElement(m,null,(function(){var n=t(526).default;return c.a.createElement(n,Object(a.a)({style:Object.assign({marginTop:8,fontSize:12},e.style)},e))}))},p={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/helpers.tsx",loc:{start:{line:22,column:7},end:{line:31,column:2}},name:"BrowserOnlyReactJson",value:d,source:"const BrowserOnlyReactJson = (props) => {\n  return (\n    <BrowserOnly>\n      {() => {\n        const ReactJson = require('react-json-view').default;\n        return <ReactJson style={{ marginTop: 8, fontSize: 12, ...props.style }} {...props} />;\n      }}\n    </BrowserOnly>\n  );\n};",deps:function(){return[u]},provides:{}};d.__doc_info=p,d.__inner_source="(props) => {\n  return (\n    <BrowserOnly>\n      {() => {\n        const ReactJson = require('react-json-view').default;\n        return <ReactJson style={{ marginTop: 8, fontSize: 12, ...props.style }} {...props} />;\n      }}\n    </BrowserOnly>\n  );\n}";var f=Object(i.b)((function(e){var n,t=e.style,a=e.defaultShow,i=Object(o.i)(),s=Object(l.r)(i.values),m=null!==(n=i.state.showReactJson)&&void 0!==n?n:a;return c.a.createElement("div",{style:t},c.a.createElement("div",{style:{display:"flex",gap:8,alignItems:"center"}},c.a.createElement(r.Switch,{checked:Boolean(m),onChange:Object(l.c)((function(e){i.state.showReactJson=e}))}),"\u663e\u793a JSON"),m&&c.a.createElement(d,{name:"\u8868\u5355\u72b6\u6001\u9884\u89c8",src:s}))}));i.b,c.a,o.i,l.r,r.Switch,l.c;try{d.displayName="BrowserOnlyReactJson",d.__docgenInfo={description:"",displayName:"BrowserOnlyReactJson",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../story/src/xform/helpers.tsx#BrowserOnlyReactJson"]={docgenInfo:d.__docgenInfo,name:"BrowserOnlyReactJson",path:"../story/src/xform/helpers.tsx#BrowserOnlyReactJson"})}catch(b){}try{f.displayName="ValuePreview",f.__docgenInfo={description:"",displayName:"ValuePreview",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../story/src/xform/helpers.tsx#ValuePreview"]={docgenInfo:f.__docgenInfo,name:"ValuePreview",path:"../story/src/xform/helpers.tsx#ValuePreview"})}catch(b){}},524:function(e,n,t){"use strict";t.d(n,"a",(function(){return f})),t.d(n,"c",(function(){return h})),t.d(n,"e",(function(){return F})),t.d(n,"g",(function(){return O})),t.d(n,"b",(function(){return V})),t.d(n,"d",(function(){return k})),t.d(n,"h",(function(){return A})),t.d(n,"f",(function(){return T}));var a=t(170),r=t(207),o=t(175),l=t(186),i=t(169),s=t.n(i),c=t(0),m=t.n(c),u=t(248),d=new r.d({name:"\u5c0f\u6cb3\u9a6c",phone:"188-8888-8888",address:"\u676d\u5dde\u5e02\u4f59\u676d\u533a\u6587\u4e00\u897f\u8def969\u53f7"}),p={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:11,column:0},end:{line:15,column:3}},name:"model1",value:d,source:"const model1 = new FormModel({\n  name: '\u5c0f\u6cb3\u9a6c',\n  phone: '188-8888-8888',\n  address: '\u676d\u5dde\u5e02\u4f59\u676d\u533a\u6587\u4e00\u897f\u8def969\u53f7',\n});",deps:function(){return[]},provides:{FormModel:r.d}};function f(){return m.a.createElement(r.b,{model:d},m.a.createElement(r.c,{component:"input",label:"\u59d3\u540d",name:"name",required:!0}),m.a.createElement(r.c,{component:"input",label:"\u7535\u8bdd",name:"phone",required:!0}),m.a.createElement(r.c,{component:"input",label:"\u5730\u5740",name:"address"}),m.a.createElement(u.b,null))}var b={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:17,column:7},end:{line:26,column:1}},name:"Basic",value:f,source:'function Basic() {\n  return (\n    <Form model={model1}>\n      <FormItem component="input" label="\u59d3\u540d" name="name" required />\n      <FormItem component="input" label="\u7535\u8bdd" name="phone" required />\n      <FormItem component="input" label="\u5730\u5740" name="address" />\n      <ValuePreview />\n    </Form>\n  );\n}',deps:function(){return[p]},provides:{Form:r.b,FormItem:r.c,ValuePreview:u.b}};function h(){return m.a.createElement(r.b,{defaultValue:{name:"\u5c0f\u6cb3\u9a6c",phone:"",address:"\u676d\u5dde\u5e02\u4f59\u676d\u533a\u6587\u4e00\u897f\u8def969\u53f7"},onSubmit:function(e){return console.log("onSubmit:",e)},onError:function(e){return console.log("onError:",e)},onReset:function(){return console.log("onReset")},layout:{labelPosition:"top"}},m.a.createElement(r.c,{component:"input",label:"\u59d3\u540d",name:"name",required:!0}),m.a.createElement(r.c,{component:"input",label:"\u7535\u8bdd",name:"phone",required:!0}),m.a.createElement(r.c,{component:"input",label:"\u5730\u5740",name:"address"}),m.a.createElement("div",{style:{display:"flex",gap:16}},m.a.createElement(r.b.Submit,null),m.a.createElement(r.b.Reset,null)))}f.__doc_info=b,f.__inner_source='function Basic() {\n  return (\n    <Form model={model1}>\n      <FormItem component="input" label="\u59d3\u540d" name="name" required />\n      <FormItem component="input" label="\u7535\u8bdd" name="phone" required />\n      <FormItem component="input" label="\u5730\u5740" name="address" />\n      <ValuePreview />\n    </Form>\n  );\n}';var y={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:28,column:7},end:{line:51,column:1}},name:"BasicUncontrolled",value:h,source:'function BasicUncontrolled() {\n  return (\n    <Form\n      defaultValue={{\n        name: \'\u5c0f\u6cb3\u9a6c\',\n        phone: \'\',\n        address: \'\u676d\u5dde\u5e02\u4f59\u676d\u533a\u6587\u4e00\u897f\u8def969\u53f7\',\n      }}\n      onSubmit={(values) => console.log(\'onSubmit:\', values)}\n      onError={(errors) => console.log(\'onError:\', errors)}\n      onReset={() => console.log(\'onReset\')}\n      layout={{ labelPosition: \'top\' }}\n    >\n      <FormItem component="input" label="\u59d3\u540d" name="name" required />\n      <FormItem component="input" label="\u7535\u8bdd" name="phone" required />\n      <FormItem component="input" label="\u5730\u5740" name="address" />\n\n      <div style={{ display: \'flex\', gap: 16 }}>\n        <Form.Submit />\n        <Form.Reset />\n      </div>\n    </Form>\n  );\n}',deps:function(){return[]},provides:{Form:r.b,FormItem:r.c}};function v(){return m.a.createElement(r.b,null,m.a.createElement(r.c,{component:"input",label:"\u5b9e\u9a8c\u59d3\u540d",name:"name",required:!0}),m.a.createElement(r.b.ItemGroup,{label:"\u5b9e\u9a8c\u76ee\u68072",labelWidth:50,controlWidth:200},m.a.createElement(r.c,{label:"\u4ece",component:"select",required:!0,name:"arg.from",componentProps:{hasClear:!0,dataSource:"1234".split("")}}),m.a.createElement(r.c,{label:"\u81f3",component:"select",name:"arg.to",componentProps:{hasClear:!0,dataSource:"1234".split("")},required:!0})),m.a.createElement(u.b,{defaultShow:!0}))}h.__doc_info=y,h.__inner_source='function BasicUncontrolled() {\n  return (\n    <Form\n      defaultValue={{\n        name: \'\u5c0f\u6cb3\u9a6c\',\n        phone: \'\',\n        address: \'\u676d\u5dde\u5e02\u4f59\u676d\u533a\u6587\u4e00\u897f\u8def969\u53f7\',\n      }}\n      onSubmit={(values) => console.log(\'onSubmit:\', values)}\n      onError={(errors) => console.log(\'onError:\', errors)}\n      onReset={() => console.log(\'onReset\')}\n      layout={{ labelPosition: \'top\' }}\n    >\n      <FormItem component="input" label="\u59d3\u540d" name="name" required />\n      <FormItem component="input" label="\u7535\u8bdd" name="phone" required />\n      <FormItem component="input" label="\u5730\u5740" name="address" />\n\n      <div style={{ display: \'flex\', gap: 16 }}>\n        <Form.Submit />\n        <Form.Reset />\n      </div>\n    </Form>\n  );\n}';var g={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:53,column:7},end:{line:78,column:1}},name:"ItemGroup",value:v,source:'function ItemGroup() {\n  return (\n    <Form>\n      <FormItem component="input" label="\u5b9e\u9a8c\u59d3\u540d" name="name" required />\n\n      <Form.ItemGroup label="\u5b9e\u9a8c\u76ee\u68072" labelWidth={50} controlWidth={200}>\n        <FormItem\n          label="\u4ece"\n          component="select"\n          required\n          name="arg.from"\n          componentProps={{ hasClear: true, dataSource: \'1234\'.split(\'\') }}\n        />\n        <FormItem\n          label="\u81f3"\n          component="select"\n          name="arg.to"\n          componentProps={{ hasClear: true, dataSource: \'1234\'.split(\'\') }}\n          required\n        />\n      </Form.ItemGroup>\n\n      <ValuePreview defaultShow />\n    </Form>\n  );\n}',deps:function(){return[]},provides:{Form:r.b,FormItem:r.c,ValuePreview:u.b}};function F(){return m.a.createElement(r.b,null,m.a.createElement(r.c,{component:"input",label:"\u540d\u79f0",name:"foo.bar.buzz",required:!0,tip:"\u8f93\u5165\u540e\u5728\u4e0b\u65b9\u7684 json \u67e5\u770b\u5668\u4e2d\u68c0\u67e5\u5d4c\u5957\u6570\u636e\u7d22\u5f15"}),m.a.createElement(u.b,{defaultShow:!0}))}v.__doc_info=g,v.__inner_source='function ItemGroup() {\n  return (\n    <Form>\n      <FormItem component="input" label="\u5b9e\u9a8c\u59d3\u540d" name="name" required />\n\n      <Form.ItemGroup label="\u5b9e\u9a8c\u76ee\u68072" labelWidth={50} controlWidth={200}>\n        <FormItem\n          label="\u4ece"\n          component="select"\n          required\n          name="arg.from"\n          componentProps={{ hasClear: true, dataSource: \'1234\'.split(\'\') }}\n        />\n        <FormItem\n          label="\u81f3"\n          component="select"\n          name="arg.to"\n          componentProps={{ hasClear: true, dataSource: \'1234\'.split(\'\') }}\n          required\n        />\n      </Form.ItemGroup>\n\n      <ValuePreview defaultShow />\n    </Form>\n  );\n}';var S={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:80,column:7},end:{line:93,column:1}},name:"NestedDataIndex",value:F,source:'function NestedDataIndex() {\n  return (\n    <Form>\n      <FormItem\n        component="input"\n        label="\u540d\u79f0"\n        name="foo.bar.buzz"\n        required\n        tip="\u8f93\u5165\u540e\u5728\u4e0b\u65b9\u7684 json \u67e5\u770b\u5668\u4e2d\u68c0\u67e5\u5d4c\u5957\u6570\u636e\u7d22\u5f15"\n      />\n      <ValuePreview defaultShow />\n    </Form>\n  );\n}',deps:function(){return[]},provides:{Form:r.b,FormItem:r.c,ValuePreview:u.b}};function O(){return m.a.createElement(r.b,null,m.a.createElement(r.c,{component:"input",label:"\u540d\u79f0",name:"\u5546\u54c1\u7f16\u7801",required:!0,componentProps:{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u7f16\u7801"},validate:function(e){var n;return e?"sku1234"!==e.toLowerCase()&&(n="\u53ef\u4ee5\u8f93\u5165 sku1234 \u8bd5\u8bd5"):n="\u8be5\u5b57\u6bb5\u5fc5\u586b",n}}))}F.__doc_info=S,F.__inner_source='function NestedDataIndex() {\n  return (\n    <Form>\n      <FormItem\n        component="input"\n        label="\u540d\u79f0"\n        name="foo.bar.buzz"\n        required\n        tip="\u8f93\u5165\u540e\u5728\u4e0b\u65b9\u7684 json \u67e5\u770b\u5668\u4e2d\u68c0\u67e5\u5d4c\u5957\u6570\u636e\u7d22\u5f15"\n      />\n      <ValuePreview defaultShow />\n    </Form>\n  );\n}',F.storyName="\u5d4c\u5957\u7684\u6570\u636e\u7d22\u5f15";var x={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:96,column:7},end:{line:117,column:1}},name:"Validation",value:O,source:"function Validation() {\n  return (\n    <Form>\n      <FormItem\n        component=\"input\"\n        label=\"\u540d\u79f0\"\n        name=\"\u5546\u54c1\u7f16\u7801\"\n        required\n        componentProps={{ placeholder: '\u8bf7\u8f93\u5165\u5546\u54c1\u7f16\u7801' }}\n        validate={(value) => {\n          let error;\n          if (!value) {\n            error = '\u8be5\u5b57\u6bb5\u5fc5\u586b';\n          } else if (value.toLowerCase() !== 'sku1234') {\n            error = '\u53ef\u4ee5\u8f93\u5165 sku1234 \u8bd5\u8bd5';\n          }\n          return error;\n        }}\n      />\n    </Form>\n  );\n}",deps:function(){return[]},provides:{Form:r.b,FormItem:r.c}};O.__doc_info=x,O.__inner_source="function Validation() {\n  return (\n    <Form>\n      <FormItem\n        component=\"input\"\n        label=\"\u540d\u79f0\"\n        name=\"\u5546\u54c1\u7f16\u7801\"\n        required\n        componentProps={{ placeholder: '\u8bf7\u8f93\u5165\u5546\u54c1\u7f16\u7801' }}\n        validate={(value) => {\n          let error;\n          if (!value) {\n            error = '\u8be5\u5b57\u6bb5\u5fc5\u586b';\n          } else if (value.toLowerCase() !== 'sku1234') {\n            error = '\u53ef\u4ee5\u8f93\u5165 sku1234 \u8bd5\u8bd5';\n          }\n          return error;\n        }}\n      />\n    </Form>\n  );\n}";var _=[{prov:"\u6d59\u6c5f",cities:"\u676d\u5dde\u3001\u7ecd\u5174\u3001\u5b81\u6ce2\u3001\u5609\u5174\u3001\u5176\u4ed6".split("\u3001")},{prov:"\u6c5f\u82cf",cities:"\u5357\u4eac\u3001\u5e38\u5dde\u3001\u9547\u6c5f\u3001\u82cf\u5dde\u3001\u5176\u4ed6".split("\u3001")},{prov:"\u798f\u5efa",cities:"\u53a6\u95e8\u3001\u798f\u5dde\u3001\u8386\u7530\u3001\u4e09\u660e\u3001\u5176\u4ed6".split("\u3001")}],j={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:119,column:0},end:{line:123,column:2}},name:"ALL_CITIES",value:_,source:"const ALL_CITIES = [\n  { prov: '\u6d59\u6c5f', cities: '\u676d\u5dde\u3001\u7ecd\u5174\u3001\u5b81\u6ce2\u3001\u5609\u5174\u3001\u5176\u4ed6'.split('\u3001') },\n  { prov: '\u6c5f\u82cf', cities: '\u5357\u4eac\u3001\u5e38\u5dde\u3001\u9547\u6c5f\u3001\u82cf\u5dde\u3001\u5176\u4ed6'.split('\u3001') },\n  { prov: '\u798f\u5efa', cities: '\u53a6\u95e8\u3001\u798f\u5dde\u3001\u8386\u7530\u3001\u4e09\u660e\u3001\u5176\u4ed6'.split('\u3001') },\n];",deps:function(){return[]},provides:{}},E=new r.d({prov:"\u6d59\u6c5f",cities:["\u676d\u5dde","\u7ecd\u5174"]}),I={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:125,column:0},end:{line:125,column:67}},name:"model2",value:E,source:"const model2 = new FormModel({ prov: '\u6d59\u6c5f', cities: ['\u676d\u5dde', '\u7ecd\u5174'] });",deps:function(){return[]},provides:{FormModel:r.d}};function V(){var e=E.getField("prov"),n=E.getField("cities");return m.a.createElement(l.a,null,(function(){return m.a.createElement(r.b,{model:E},m.a.createElement(r.c,{component:"singleSelect",label:"\u7701\u4efd(\u5355\u9009)",field:e,componentProps:{dataSource:_.map((function(e){return e.prov}))}}),m.a.createElement(r.c,{component:"multiSelect",label:"\u57ce\u5e02(\u591a\u9009)",field:n,componentProps:{hasClear:!0,dataSource:_.find((function(n){return n.prov===e.value})).cities}}),m.a.createElement(r.b.Effect,{watch:e,effect:function(){n.value=[]}}),m.a.createElement(u.b,null))}))}var C={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:127,column:7},end:{line:163,column:1}},name:"BasicEffect",value:V,source:'function BasicEffect() {\n  const prov = model2.getField(\'prov\');\n  const cities = model2.getField(\'cities\');\n\n  return (\n    <Observer>\n      {() => (\n        <Form model={model2}>\n          <FormItem\n            component="singleSelect"\n            label="\u7701\u4efd(\u5355\u9009)"\n            field={prov}\n            componentProps={{ dataSource: ALL_CITIES.map((item) => item.prov) }}\n          />\n          <FormItem\n            component="multiSelect"\n            label="\u57ce\u5e02(\u591a\u9009)"\n            field={cities}\n            componentProps={{\n              hasClear: true,\n              dataSource: ALL_CITIES.find((item) => item.prov === prov.value).cities,\n            }}\n          />\n\n          <Form.Effect\n            watch={prov}\n            effect={() => {\n              cities.value = [];\n            }}\n          />\n\n          <ValuePreview />\n        </Form>\n      )}\n    </Observer>\n  );\n}',deps:function(){return[I,j]},provides:{Observer:l.a,Form:r.b,FormItem:r.c,ValuePreview:u.b}};function k(){return m.a.createElement(r.b,{layout:{labelPosition:"left"}},m.a.createElement("div",{style:{border:"1px dashed #ccc",padding:8}},m.a.createElement("p",{style:{marginBottom:8,fontWeight:"bold"}},"\u5546\u54c1\u53c2\u6570"),m.a.createElement(r.c,{component:"input",label:"SKU code",name:"sku.code",required:!0}),m.a.createElement(r.c,{component:"input",label:"SKU \u540d\u79f0",name:"sku.name"})),m.a.createElement("div",{style:{marginTop:12,border:"1px dashed #ccc",padding:8}},m.a.createElement("p",{style:{marginBottom:8,fontWeight:"bold"}},"\u67e5\u8be2\u53c2\u6570"),m.a.createElement(r.c,{component:"datePicker",label:"\u67e5\u8be2\u65e5\u671f",name:"date.current",fallbackValue:s()().format("YYYY-MM-DD"),componentProps:{format:"YYYY-MM-DD"}}),m.a.createElement(r.c,{component:"datePicker",label:"\u5bf9\u6bd4\u65e5\u671f",name:"date.compare",fallbackValue:s()().subtract(1,"day").format("YYYY-MM-DD"),componentProps:{format:"YYYY-MM-DD"}})),m.a.createElement(u.b,null))}V.__doc_info=C,V.__inner_source='function BasicEffect() {\n  const prov = model2.getField(\'prov\');\n  const cities = model2.getField(\'cities\');\n\n  return (\n    <Observer>\n      {() => (\n        <Form model={model2}>\n          <FormItem\n            component="singleSelect"\n            label="\u7701\u4efd(\u5355\u9009)"\n            field={prov}\n            componentProps={{ dataSource: ALL_CITIES.map((item) => item.prov) }}\n          />\n          <FormItem\n            component="multiSelect"\n            label="\u57ce\u5e02(\u591a\u9009)"\n            field={cities}\n            componentProps={{\n              hasClear: true,\n              dataSource: ALL_CITIES.find((item) => item.prov === prov.value).cities,\n            }}\n          />\n\n          <Form.Effect\n            watch={prov}\n            effect={() => {\n              cities.value = [];\n            }}\n          />\n\n          <ValuePreview />\n        </Form>\n      )}\n    </Observer>\n  );\n}';var w={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:165,column:7},end:{line:194,column:1}},name:"LayoutWithCustomDiv",value:k,source:'function LayoutWithCustomDiv() {\n  return (\n    <Form layout={{ labelPosition: \'left\' }}>\n      <div style={{ border: \'1px dashed #ccc\', padding: 8 }}>\n        <p style={{ marginBottom: 8, fontWeight: \'bold\' }}>\u5546\u54c1\u53c2\u6570</p>\n        <FormItem component="input" label="SKU code" name="sku.code" required />\n        <FormItem component="input" label="SKU \u540d\u79f0" name="sku.name" />\n      </div>\n\n      <div style={{ marginTop: 12, border: \'1px dashed #ccc\', padding: 8 }}>\n        <p style={{ marginBottom: 8, fontWeight: \'bold\' }}>\u67e5\u8be2\u53c2\u6570</p>\n        <FormItem\n          component="datePicker"\n          label="\u67e5\u8be2\u65e5\u671f"\n          name="date.current"\n          fallbackValue={moment().format(\'YYYY-MM-DD\')}\n          componentProps={{ format: \'YYYY-MM-DD\' }}\n        />\n        <FormItem\n          component="datePicker"\n          label="\u5bf9\u6bd4\u65e5\u671f"\n          name="date.compare"\n          fallbackValue={moment().subtract(1, \'day\').format(\'YYYY-MM-DD\')}\n          componentProps={{ format: \'YYYY-MM-DD\' }}\n        />\n      </div>\n      <ValuePreview />\n    </Form>\n  );\n}',deps:function(){return[]},provides:{Form:r.b,FormItem:r.c,moment:s.a,ValuePreview:u.b}};k.__doc_info=w,k.__inner_source='function LayoutWithCustomDiv() {\n  return (\n    <Form layout={{ labelPosition: \'left\' }}>\n      <div style={{ border: \'1px dashed #ccc\', padding: 8 }}>\n        <p style={{ marginBottom: 8, fontWeight: \'bold\' }}>\u5546\u54c1\u53c2\u6570</p>\n        <FormItem component="input" label="SKU code" name="sku.code" required />\n        <FormItem component="input" label="SKU \u540d\u79f0" name="sku.name" />\n      </div>\n\n      <div style={{ marginTop: 12, border: \'1px dashed #ccc\', padding: 8 }}>\n        <p style={{ marginBottom: 8, fontWeight: \'bold\' }}>\u67e5\u8be2\u53c2\u6570</p>\n        <FormItem\n          component="datePicker"\n          label="\u67e5\u8be2\u65e5\u671f"\n          name="date.current"\n          fallbackValue={moment().format(\'YYYY-MM-DD\')}\n          componentProps={{ format: \'YYYY-MM-DD\' }}\n        />\n        <FormItem\n          component="datePicker"\n          label="\u5bf9\u6bd4\u65e5\u671f"\n          name="date.compare"\n          fallbackValue={moment().subtract(1, \'day\').format(\'YYYY-MM-DD\')}\n          componentProps={{ format: \'YYYY-MM-DD\' }}\n        />\n      </div>\n      <ValuePreview />\n    </Form>\n  );\n}';var N=new r.d({name:"\u5c0f\u6cb3\u9a6c",phone:"",address:"\u676d\u5dde\u5e02\u4f59\u676d\u533a\u6587\u4e00\u897f\u8def969\u53f7",idType:"id"}),P={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:196,column:0},end:{line:201,column:3}},name:"model4",value:N,source:"const model4 = new FormModel({\n  name: '\u5c0f\u6cb3\u9a6c',\n  phone: '',\n  address: '\u676d\u5dde\u5e02\u4f59\u676d\u533a\u6587\u4e00\u897f\u8def969\u53f7',\n  idType: 'id',\n});",deps:function(){return[]},provides:{FormModel:r.d}};function A(){return m.a.createElement("div",null,m.a.createElement("div",{style:{display:"flex",gap:8,marginBottom:12}},m.a.createElement(a.Button,{onClick:function(){return r.h.validateAll(N)}},"\u6821\u9a8c\u5168\u90e8"),m.a.createElement(a.Button,{onClick:function(){return r.h.clearError(N)}},"\u6e05\u7a7a\u9519\u8bef"),m.a.createElement(a.Button,{onClick:Object(o.c)((function(){N.values={},r.h.clearError(N)}))},"\u91cd\u7f6e\u8868\u5355")),m.a.createElement(r.b,{model:N},m.a.createElement(r.c,{component:"input",label:"\u59d3\u540d",name:"name",required:!0,help:"help text....",tip:"tip content",componentProps:{hasClear:!0}}),m.a.createElement(r.c,{component:"input",label:"\u7535\u8bdd",name:"phone",required:!0,help:!0}),m.a.createElement(r.c,{component:"input",label:"\u5730\u5740",name:"address"}),m.a.createElement(u.b,null)))}var q={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:203,column:7},end:{line:235,column:1}},name:"WithActions",value:A,source:'function WithActions() {\n  return (\n    <div>\n      <div style={{ display: \'flex\', gap: 8, marginBottom: 12 }}>\n        <Button onClick={() => modelUtils.validateAll(model4)}>\u6821\u9a8c\u5168\u90e8</Button>\n        <Button onClick={() => modelUtils.clearError(model4)}>\u6e05\u7a7a\u9519\u8bef</Button>\n        <Button\n          onClick={action(() => {\n            model4.values = {} ;\n            modelUtils.clearError(model4);\n          })}\n        >\n          \u91cd\u7f6e\u8868\u5355\n        </Button>\n      </div>\n\n      <Form model={model4}>\n        <FormItem\n          component="input"\n          label="\u59d3\u540d"\n          name="name"\n          required\n          help="help text...."\n          tip="tip content"\n          componentProps={{ hasClear: true }}\n        />\n        <FormItem component="input" label="\u7535\u8bdd" name="phone" required help />\n        <FormItem component="input" label="\u5730\u5740" name="address" />\n        <ValuePreview />\n      </Form>\n    </div>\n  );\n}',deps:function(){return[P]},provides:{Button:a.Button,modelUtils:r.h,action:o.c,Form:r.b,FormItem:r.c,ValuePreview:u.b}};function T(){var e=Object(c.useState)((function(){return new r.d({start:"",end:"",dateRange:["",""]})}))[0];return console.log("TupleField:",e),m.a.createElement(r.b,{model:e,layout:{labelWidth:200}},m.a.createElement(r.c,{label:"\u4f7f\u7528 tupleField(start, end)",component:"dateRangePicker",field:e.getTupleField("start","end")}),m.a.createElement(r.c,{label:"\u4f7f\u7528\u666e\u901a field(dateRange)",component:"dateRangePicker",name:"dateRange"}),m.a.createElement(u.b,{defaultShow:!0}))}A.__doc_info=q,A.__inner_source='function WithActions() {\n  return (\n    <div>\n      <div style={{ display: \'flex\', gap: 8, marginBottom: 12 }}>\n        <Button onClick={() => modelUtils.validateAll(model4)}>\u6821\u9a8c\u5168\u90e8</Button>\n        <Button onClick={() => modelUtils.clearError(model4)}>\u6e05\u7a7a\u9519\u8bef</Button>\n        <Button\n          onClick={action(() => {\n            model4.values = {} ;\n            modelUtils.clearError(model4);\n          })}\n        >\n          \u91cd\u7f6e\u8868\u5355\n        </Button>\n      </div>\n\n      <Form model={model4}>\n        <FormItem\n          component="input"\n          label="\u59d3\u540d"\n          name="name"\n          required\n          help="help text...."\n          tip="tip content"\n          componentProps={{ hasClear: true }}\n        />\n        <FormItem component="input" label="\u7535\u8bdd" name="phone" required help />\n        <FormItem component="input" label="\u5730\u5740" name="address" />\n        <ValuePreview />\n      </Form>\n    </div>\n  );\n}';var R={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:237,column:7},end:{line:253,column:1}},name:"TupleField",value:T,source:"function TupleField() {\n  const [model] = useState(() => new FormModel({ start: '', end: '', dateRange: ['', ''] }));\n\n  console.log('TupleField:', model);\n\n  return (\n    <Form model={model} layout={{ labelWidth: 200 }}>\n      <FormItem\n        label=\"\u4f7f\u7528 tupleField(start, end)\"\n        component=\"dateRangePicker\"\n        field={model.getTupleField('start', 'end')}\n      />\n      <FormItem label=\"\u4f7f\u7528\u666e\u901a field(dateRange)\" component=\"dateRangePicker\" name=\"dateRange\" />\n      <ValuePreview defaultShow />\n    </Form>\n  );\n}",deps:function(){return[]},provides:{useState:c.useState,FormModel:r.d,Form:r.b,FormItem:r.c,ValuePreview:u.b}};function M(){var e=Object(c.useState)((function(){return new r.d({name:"\u5c0f\u6cb3\u9a6c"})}))[0],n=e.getField("name");return console.log("ForkField:",e),m.a.createElement(r.b,{model:e},m.a.createElement(r.c,{label:"original field",component:"input",field:n,required:!0}),m.a.createElement(r.c,{label:"fork(test) field",component:"input",disabled:!0,field:n.getFork("test")}),m.a.createElement(u.b,null))}T.__doc_info=R,T.__inner_source="function TupleField() {\n  const [model] = useState(() => new FormModel({ start: '', end: '', dateRange: ['', ''] }));\n\n  console.log('TupleField:', model);\n\n  return (\n    <Form model={model} layout={{ labelWidth: 200 }}>\n      <FormItem\n        label=\"\u4f7f\u7528 tupleField(start, end)\"\n        component=\"dateRangePicker\"\n        field={model.getTupleField('start', 'end')}\n      />\n      <FormItem label=\"\u4f7f\u7528\u666e\u901a field(dateRange)\" component=\"dateRangePicker\" name=\"dateRange\" />\n      <ValuePreview defaultShow />\n    </Form>\n  );\n}";var B={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/1-basic-examples.stories.tsx",loc:{start:{line:255,column:7},end:{line:269,column:1}},name:"ForkField",value:M,source:"function ForkField() {\n  const [model] = useState(() => new FormModel({ name: '\u5c0f\u6cb3\u9a6c' }));\n  const nameField = model.getField('name');\n\n  console.log('ForkField:', model);\n\n  return (\n    <Form model={model}>\n      <FormItem label=\"original field\" component=\"input\" field={nameField} required />\n      <FormItem label=\"fork(test) field\" component=\"input\" disabled field={nameField.getFork('test')} />\n\n      <ValuePreview />\n    </Form>\n  );\n}",deps:function(){return[]},provides:{useState:c.useState,FormModel:r.d,Form:r.b,FormItem:r.c,ValuePreview:u.b}};M.__inner_source="function ForkField() {\n  const [model] = useState(() => new FormModel({ name: '\u5c0f\u6cb3\u9a6c' }));\n  const nameField = model.getField('name');\n\n  console.log('ForkField:', model);\n\n  return (\n    <Form model={model}>\n      <FormItem label=\"original field\" component=\"input\" field={nameField} required />\n      <FormItem label=\"fork(test) field\" component=\"input\" disabled field={nameField.getFork('test')} />\n\n      <ValuePreview />\n    </Form>\n  );\n}",M.__doc_info=B},525:function(e,n,t){var a={"./af":255,"./af.js":255,"./ar":256,"./ar-dz":257,"./ar-dz.js":257,"./ar-kw":258,"./ar-kw.js":258,"./ar-ly":259,"./ar-ly.js":259,"./ar-ma":260,"./ar-ma.js":260,"./ar-sa":261,"./ar-sa.js":261,"./ar-tn":262,"./ar-tn.js":262,"./ar.js":256,"./az":263,"./az.js":263,"./be":264,"./be.js":264,"./bg":265,"./bg.js":265,"./bm":266,"./bm.js":266,"./bn":267,"./bn-bd":268,"./bn-bd.js":268,"./bn.js":267,"./bo":269,"./bo.js":269,"./br":270,"./br.js":270,"./bs":271,"./bs.js":271,"./ca":272,"./ca.js":272,"./cs":273,"./cs.js":273,"./cv":274,"./cv.js":274,"./cy":275,"./cy.js":275,"./da":276,"./da.js":276,"./de":277,"./de-at":278,"./de-at.js":278,"./de-ch":279,"./de-ch.js":279,"./de.js":277,"./dv":280,"./dv.js":280,"./el":281,"./el.js":281,"./en-au":282,"./en-au.js":282,"./en-ca":283,"./en-ca.js":283,"./en-gb":284,"./en-gb.js":284,"./en-ie":285,"./en-ie.js":285,"./en-il":286,"./en-il.js":286,"./en-in":287,"./en-in.js":287,"./en-nz":288,"./en-nz.js":288,"./en-sg":289,"./en-sg.js":289,"./eo":290,"./eo.js":290,"./es":291,"./es-do":292,"./es-do.js":292,"./es-mx":293,"./es-mx.js":293,"./es-us":294,"./es-us.js":294,"./es.js":291,"./et":295,"./et.js":295,"./eu":296,"./eu.js":296,"./fa":297,"./fa.js":297,"./fi":298,"./fi.js":298,"./fil":299,"./fil.js":299,"./fo":300,"./fo.js":300,"./fr":301,"./fr-ca":302,"./fr-ca.js":302,"./fr-ch":303,"./fr-ch.js":303,"./fr.js":301,"./fy":304,"./fy.js":304,"./ga":305,"./ga.js":305,"./gd":306,"./gd.js":306,"./gl":307,"./gl.js":307,"./gom-deva":308,"./gom-deva.js":308,"./gom-latn":309,"./gom-latn.js":309,"./gu":310,"./gu.js":310,"./he":311,"./he.js":311,"./hi":312,"./hi.js":312,"./hr":313,"./hr.js":313,"./hu":314,"./hu.js":314,"./hy-am":315,"./hy-am.js":315,"./id":316,"./id.js":316,"./is":317,"./is.js":317,"./it":318,"./it-ch":319,"./it-ch.js":319,"./it.js":318,"./ja":320,"./ja.js":320,"./jv":321,"./jv.js":321,"./ka":322,"./ka.js":322,"./kk":323,"./kk.js":323,"./km":324,"./km.js":324,"./kn":325,"./kn.js":325,"./ko":326,"./ko.js":326,"./ku":327,"./ku.js":327,"./ky":328,"./ky.js":328,"./lb":329,"./lb.js":329,"./lo":330,"./lo.js":330,"./lt":331,"./lt.js":331,"./lv":332,"./lv.js":332,"./me":333,"./me.js":333,"./mi":334,"./mi.js":334,"./mk":335,"./mk.js":335,"./ml":336,"./ml.js":336,"./mn":337,"./mn.js":337,"./mr":338,"./mr.js":338,"./ms":339,"./ms-my":340,"./ms-my.js":340,"./ms.js":339,"./mt":341,"./mt.js":341,"./my":342,"./my.js":342,"./nb":343,"./nb.js":343,"./ne":344,"./ne.js":344,"./nl":345,"./nl-be":346,"./nl-be.js":346,"./nl.js":345,"./nn":347,"./nn.js":347,"./oc-lnc":348,"./oc-lnc.js":348,"./pa-in":349,"./pa-in.js":349,"./pl":350,"./pl.js":350,"./pt":351,"./pt-br":352,"./pt-br.js":352,"./pt.js":351,"./ro":353,"./ro.js":353,"./ru":354,"./ru.js":354,"./sd":355,"./sd.js":355,"./se":356,"./se.js":356,"./si":357,"./si.js":357,"./sk":358,"./sk.js":358,"./sl":359,"./sl.js":359,"./sq":360,"./sq.js":360,"./sr":361,"./sr-cyrl":362,"./sr-cyrl.js":362,"./sr.js":361,"./ss":363,"./ss.js":363,"./sv":364,"./sv.js":364,"./sw":365,"./sw.js":365,"./ta":366,"./ta.js":366,"./te":367,"./te.js":367,"./tet":368,"./tet.js":368,"./tg":369,"./tg.js":369,"./th":370,"./th.js":370,"./tk":371,"./tk.js":371,"./tl-ph":372,"./tl-ph.js":372,"./tlh":373,"./tlh.js":373,"./tr":374,"./tr.js":374,"./tzl":375,"./tzl.js":375,"./tzm":376,"./tzm-latn":377,"./tzm-latn.js":377,"./tzm.js":376,"./ug-cn":378,"./ug-cn.js":378,"./uk":379,"./uk.js":379,"./ur":380,"./ur.js":380,"./uz":381,"./uz-latn":382,"./uz-latn.js":382,"./uz.js":381,"./vi":383,"./vi.js":383,"./x-pseudo":384,"./x-pseudo.js":384,"./yo":385,"./yo.js":385,"./zh-cn":386,"./zh-cn.js":386,"./zh-hk":387,"./zh-hk.js":387,"./zh-mo":388,"./zh-mo.js":388,"./zh-tw":389,"./zh-tw.js":389};function r(e){var n=o(e);return t(n)}function o(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=525},527:function(e,n,t){"use strict";t.d(n,"c",(function(){return v})),t.d(n,"a",(function(){return V})),t.d(n,"b",(function(){return W}));var a=t(191),r=t(3),o=t(8),l=t(189),i=t.n(l),s=t(170),c=t(207),m=t(186),u=t(169),d=t.n(u),p=t(0),f=t.n(p),b=t(248);function h(e){var n=e.name,t=e.label,a=Object(o.a)(e,["name","label"]);return f.a.createElement("div",Object(r.a)({},a,{style:Object.assign({padding:8,border:"1px dashed #aaa"},a.style)}),f.a.createElement("p",{style:{fontWeight:"bold",margin:"0 0 8px 8px"}},t),f.a.createElement(c.b.Object,{name:n},f.a.createElement(c.c,{component:"input",name:"name",label:"\u59d3\u540d",componentProps:{style:{width:120}}}),f.a.createElement(c.c,{component:"input",name:"contact",label:"\u8054\u7cfb\u65b9\u5f0f",componentProps:{style:{width:180}}}),f.a.createElement(c.c,{style:{marginBottom:0},component:"singleSelect",name:"address.city",label:"\u5c45\u4f4f\u57ce\u5e02",required:!0,componentProps:{style:{width:100},dataSource:"\u676d\u5dde\uff0c\u4e0a\u6d77\uff0c\u5317\u4eac\uff0c\u6df1\u5733\uff0c\u5e7f\u5dde\uff0c\u6b66\u6c49\uff0c\u6210\u90fd".split("\uff0c")}})))}var y={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:10,column:0},end:{line:35,column:1}},name:"PersonForm",value:h,source:'function PersonForm({\n  name,\n  label,\n  ...others\n}) {\n  return (\n    <div {...others} style={{ padding: 8, border: \'1px dashed #aaa\', ...others.style }}>\n      <p style={{ fontWeight: \'bold\', margin: \'0 0 8px 8px\' }}>{label}</p>\n      <Form.Object name={name}>\n        <FormItem component="input" name="name" label="\u59d3\u540d" componentProps={{ style: { width: 120 } }} />\n        <FormItem component="input" name="contact" label="\u8054\u7cfb\u65b9\u5f0f" componentProps={{ style: { width: 180 } }} />\n        <FormItem\n          style={{ marginBottom: 0 }}\n          component="singleSelect"\n          name="address.city"\n          label="\u5c45\u4f4f\u57ce\u5e02"\n          required\n          componentProps={{\n            style: { width: 100 },\n            dataSource: \'\u676d\u5dde\uff0c\u4e0a\u6d77\uff0c\u5317\u4eac\uff0c\u6df1\u5733\uff0c\u5e7f\u5dde\uff0c\u6b66\u6c49\uff0c\u6210\u90fd\'.split(\'\uff0c\'),\n          }}\n        />\n      </Form.Object>\n    </div>\n  );\n}',deps:function(){return[]},provides:{React:f.a,Form:c.b,FormItem:c.c}};function v(){return f.a.createElement(c.b,{defaultValue:{me:{name:"rex design",gender:"\u7537",age:"1",contact:"alibaba.github.io/rex-design/",address:{city:"\u676d\u5dde"}}},layout:{labelWidth:80,formItemGap:8}},f.a.createElement("h4",null,"\u5bb6\u5ead\u4fe1\u606f\u767b\u8bb0\u8868"),f.a.createElement("div",{style:{display:"grid",grid:"auto-flow / repeat(auto-fill, minmax(280px, auto))",gap:8}},f.a.createElement(h,{name:"me",label:"\u4e2a\u4eba\u4fe1\u606f"}),f.a.createElement(h,{name:"father",label:"\u7236\u4eb2"}),f.a.createElement(h,{name:"mother",label:"\u6bcd\u4eb2"}),f.a.createElement(h,{name:"urgency",label:"\u5176\u4ed6\u7d27\u6025\u8054\u7cfb\u4eba"})),f.a.createElement(b.b,null))}var g={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:37,column:7},end:{line:62,column:1}},name:"ObjectExample",value:v,source:'function ObjectExample() {\n  return (\n    <Form\n      defaultValue={{\n        me: {\n          name: \'rex design\',\n          gender: \'\u7537\',\n          age: \'1\',\n          contact: \'alibaba.github.io/rex-design/\',\n          address: { city: \'\u676d\u5dde\' },\n        },\n      }}\n      layout={{ labelWidth: 80, formItemGap: 8 }}\n    >\n      <h4>\u5bb6\u5ead\u4fe1\u606f\u767b\u8bb0\u8868</h4>\n      <div style={{ display: \'grid\', grid: \'auto-flow / repeat(auto-fill, minmax(280px, auto))\', gap: 8 }}>\n        <PersonForm name="me" label="\u4e2a\u4eba\u4fe1\u606f" />\n        <PersonForm name="father" label="\u7236\u4eb2" />\n        <PersonForm name="mother" label="\u6bcd\u4eb2" />\n        <PersonForm name="urgency" label="\u5176\u4ed6\u7d27\u6025\u8054\u7cfb\u4eba" />\n      </div>\n\n      <ValuePreview />\n    </Form>\n  );\n}',deps:function(){return[y]},provides:{Form:c.b,ValuePreview:b.b}};v.__doc_info=g,v.__inner_source='function ObjectExample() {\n  return (\n    <Form\n      defaultValue={{\n        me: {\n          name: \'rex design\',\n          gender: \'\u7537\',\n          age: \'1\',\n          contact: \'alibaba.github.io/rex-design/\',\n          address: { city: \'\u676d\u5dde\' },\n        },\n      }}\n      layout={{ labelWidth: 80, formItemGap: 8 }}\n    >\n      <h4>\u5bb6\u5ead\u4fe1\u606f\u767b\u8bb0\u8868</h4>\n      <div style={{ display: \'grid\', grid: \'auto-flow / repeat(auto-fill, minmax(280px, auto))\', gap: 8 }}>\n        <PersonForm name="me" label="\u4e2a\u4eba\u4fe1\u606f" />\n        <PersonForm name="father" label="\u7236\u4eb2" />\n        <PersonForm name="mother" label="\u6bcd\u4eb2" />\n        <PersonForm name="urgency" label="\u5176\u4ed6\u7d27\u6025\u8054\u7cfb\u4eba" />\n      </div>\n\n      <ValuePreview />\n    </Form>\n  );\n}';var F=["\u97e9\u90fd\u8863\u820d","ZARA","\u4f18\u8863\u5e93","\u592a\u5e73\u9e1f"],S={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:64,column:0},end:{line:64,column:46}},name:"BRANDS",value:F,source:"const BRANDS = ['\u97e9\u90fd\u8863\u820d', 'ZARA', '\u4f18\u8863\u5e93', '\u592a\u5e73\u9e1f'];",deps:function(){return[]},provides:{}},O="\u901a\u52e4\uff0c\u767e\u642d\uff0c\u65f6\u5c1a\uff0c\u4f11\u95f2\uff0c\u539f\u521b\u8bbe\u8ba1\uff0c\u590d\u53e4\uff0c\u6c11\u65cf\u98ce\uff0c\u4f18\u96c5\uff0c\u6027\u611f\uff0c\u6734\u5b9e\uff0c\u5c45\u5bb6".split("\uff0c"),x={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:65,column:0},end:{line:65,column:64}},name:"STYLES",value:O,source:"const STYLES = '\u901a\u52e4\uff0c\u767e\u642d\uff0c\u65f6\u5c1a\uff0c\u4f11\u95f2\uff0c\u539f\u521b\u8bbe\u8ba1\uff0c\u590d\u53e4\uff0c\u6c11\u65cf\u98ce\uff0c\u4f18\u96c5\uff0c\u6027\u611f\uff0c\u6734\u5b9e\uff0c\u5c45\u5bb6'.split('\uff0c');",deps:function(){return[]},provides:{}};function _(e){s.Toaster.show({placement:"top-right",content:f.a.createElement("div",null,f.a.createElement("p",{style:{marginBottom:4,color:"--rex-colors-green-60"}},"\u6b63\u5728\u63d0\u4ea4..."),f.a.createElement("span",{style:{fontFamily:"monospace"}},JSON.stringify(e,null,2)))})}var j={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:67,column:0},end:{line:77,column:1}},name:"showSubmitToast",value:_,source:"function showSubmitToast(values) {\n  Toaster.show({\n    placement: 'top-right',\n    content: (\n      <div>\n        <p style={{ marginBottom: 4, color: '--rex-colors-green-60' }}>\u6b63\u5728\u63d0\u4ea4...</p>\n        <span style={{ fontFamily: 'monospace' }}>{JSON.stringify(values, null, 2)}</span>\n      </div>\n    ),\n  });\n}",deps:function(){return[]},provides:{Toaster:s.Toaster}};function E(e){s.Toaster.show({placement:"top-right",content:f.a.createElement("div",null,f.a.createElement("p",{style:{marginBottom:4,color:"var(--rex-colors-red-60)"}},"\u8868\u5355\u4e2d\u5305\u542b\u9519\u8bef\uff01"),f.a.createElement("span",{style:{fontFamily:"monospace"}},JSON.stringify(e,null,2)))})}var I={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:79,column:0},end:{line:89,column:1}},name:"showErrorToast",value:E,source:"function showErrorToast(errors) {\n  Toaster.show({\n    placement: 'top-right',\n    content: (\n      <div>\n        <p style={{ marginBottom: 4, color: 'var(--rex-colors-red-60)' }}>\u8868\u5355\u4e2d\u5305\u542b\u9519\u8bef\uff01</p>\n        <span style={{ fontFamily: 'monospace' }}>{JSON.stringify(errors, null, 2)}</span>\n      </div>\n    ),\n  });\n}",deps:function(){return[]},provides:{Toaster:s.Toaster}};function V(){return f.a.createElement(c.b,{defaultValue:{tickets:[{name:"feichao",date:d()().format("YYYY-MM-DD")}]},onSubmit:function(e){console.log("onSubmit:",e),_(e)},onError:function(e){console.log("onError:",e),E(e)},onReset:function(e){e.values={tickets:[{name:"feichao",date:d()().format("YYYY-MM-DD")}]}}},f.a.createElement("h4",null,"\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u5217\u8868"),f.a.createElement(c.b.Array,{name:"tickets",layout:Object(c.e)({showItemOrder:!0})},f.a.createElement(c.c,{component:"input",label:"\u5ba2\u6237\u540d\u79f0",name:"name",required:!0,componentProps:{style:{maxWidth:200}}}),f.a.createElement(c.c,{component:"datePicker",label:"\u8d2d\u4e70\u65e5\u671f",name:"date",required:!0}),f.a.createElement(c.c,{component:"testButtonGroup",label:"\u54c1\u724c",name:"brand",componentProps:{items:F},required:!0}),f.a.createElement(c.c,{component:"singleSelect",label:"\u98ce\u683c",name:"style",required:!0,componentProps:{dataSource:O,style:{maxWidth:200}}}),f.a.createElement(c.c,{component:"testButtonGroup",name:"satisfaction",label:"\u5ba2\u6237\u6ee1\u610f\u5ea6",required:!0,componentProps:{items:"\u975e\u5e38\u6ee1\u610f\uff0c\u6ee1\u610f\uff0c\u57fa\u672c\u6ee1\u610f\uff0c\u4e0d\u6ee1\u610f\uff0c\u975e\u5e38\u4e0d\u6ee1\u610f".split("\uff0c")}}),f.a.createElement(c.c,{component:"input",label:"\u5ba2\u6237\u8054\u7cfb\u65b9\u5f0f",name:"contact",componentProps:{style:{maxWidth:200}}}),f.a.createElement(c.c,{component:"input",label:"\u5ba2\u6237\u8054\u7cfb\u5730\u5740",name:"address"})),f.a.createElement(s.Box,{mt:"m"},f.a.createElement(c.b.Submit,null),f.a.createElement(c.b.Reset,null)),f.a.createElement(b.b,null))}var C={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:91,column:7},end:{line:144,column:1}},name:"ArrayExample",value:V,source:'function ArrayExample() {\n  return (\n    <Form\n      defaultValue={{ tickets: [{ name: \'feichao\', date: dayjs().format(\'YYYY-MM-DD\') }] }}\n      onSubmit={(values) => {\n        console.log(\'onSubmit:\', values);\n        showSubmitToast(values);\n      }}\n      onError={(errors) => {\n        console.log(\'onError:\', errors);\n        showErrorToast(errors);\n      }}\n      onReset={(model) => {\n        model.values = { tickets: [{ name: \'feichao\', date: dayjs().format(\'YYYY-MM-DD\') }] };\n      }}\n    >\n      <h4>\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u5217\u8868</h4>\n      <Form.Array name="tickets" layout={arrayCard({ showItemOrder: true })}>\n        <FormItem\n          component="input"\n          label="\u5ba2\u6237\u540d\u79f0"\n          name="name"\n          required\n          componentProps={{ style: { maxWidth: 200 } }}\n        />\n        <FormItem component="datePicker" label="\u8d2d\u4e70\u65e5\u671f" name="date" required />\n        <FormItem component="testButtonGroup" label="\u54c1\u724c" name="brand" componentProps={{ items: BRANDS }} required />\n        <FormItem\n          component="singleSelect"\n          label="\u98ce\u683c"\n          name="style"\n          required\n          componentProps={{ dataSource: STYLES, style: { maxWidth: 200 } }}\n        />\n        <FormItem\n          component="testButtonGroup"\n          name="satisfaction"\n          label="\u5ba2\u6237\u6ee1\u610f\u5ea6"\n          required\n          componentProps={{ items: \'\u975e\u5e38\u6ee1\u610f\uff0c\u6ee1\u610f\uff0c\u57fa\u672c\u6ee1\u610f\uff0c\u4e0d\u6ee1\u610f\uff0c\u975e\u5e38\u4e0d\u6ee1\u610f\'.split(\'\uff0c\') }}\n        />\n        <FormItem component="input" label="\u5ba2\u6237\u8054\u7cfb\u65b9\u5f0f" name="contact" componentProps={{ style: { maxWidth: 200 } }} />\n        <FormItem component="input" label="\u5ba2\u6237\u8054\u7cfb\u5730\u5740" name="address" />\n      </Form.Array>\n\n      <Box mt="m">\n        <Form.Submit />\n        <Form.Reset />\n      </Box>\n\n      <ValuePreview />\n    </Form>\n  );\n}',deps:function(){return[j,I,S,x]},provides:{Form:c.b,dayjs:d.a,arrayCard:c.e,FormItem:c.c,Box:s.Box,ValuePreview:b.b}};function k(){return f.a.createElement(c.b,{defaultValue:{texts:[]}},f.a.createElement(c.b.Array,{name:"texts",layout:Object(c.e)({showItemOrder:!0}),itemFactory:function(){return""}},f.a.createElement(c.c,{component:"input",label:"\u59d3\u540d",name:"&",componentProps:{placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57"}})),f.a.createElement(b.b,null))}V.__doc_info=C,V.__inner_source='function ArrayExample() {\n  return (\n    <Form\n      defaultValue={{ tickets: [{ name: \'feichao\', date: dayjs().format(\'YYYY-MM-DD\') }] }}\n      onSubmit={(values) => {\n        console.log(\'onSubmit:\', values);\n        showSubmitToast(values);\n      }}\n      onError={(errors) => {\n        console.log(\'onError:\', errors);\n        showErrorToast(errors);\n      }}\n      onReset={(model) => {\n        model.values = { tickets: [{ name: \'feichao\', date: dayjs().format(\'YYYY-MM-DD\') }] };\n      }}\n    >\n      <h4>\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u5217\u8868</h4>\n      <Form.Array name="tickets" layout={arrayCard({ showItemOrder: true })}>\n        <FormItem\n          component="input"\n          label="\u5ba2\u6237\u540d\u79f0"\n          name="name"\n          required\n          componentProps={{ style: { maxWidth: 200 } }}\n        />\n        <FormItem component="datePicker" label="\u8d2d\u4e70\u65e5\u671f" name="date" required />\n        <FormItem component="testButtonGroup" label="\u54c1\u724c" name="brand" componentProps={{ items: BRANDS }} required />\n        <FormItem\n          component="singleSelect"\n          label="\u98ce\u683c"\n          name="style"\n          required\n          componentProps={{ dataSource: STYLES, style: { maxWidth: 200 } }}\n        />\n        <FormItem\n          component="testButtonGroup"\n          name="satisfaction"\n          label="\u5ba2\u6237\u6ee1\u610f\u5ea6"\n          required\n          componentProps={{ items: \'\u975e\u5e38\u6ee1\u610f\uff0c\u6ee1\u610f\uff0c\u57fa\u672c\u6ee1\u610f\uff0c\u4e0d\u6ee1\u610f\uff0c\u975e\u5e38\u4e0d\u6ee1\u610f\'.split(\'\uff0c\') }}\n        />\n        <FormItem component="input" label="\u5ba2\u6237\u8054\u7cfb\u65b9\u5f0f" name="contact" componentProps={{ style: { maxWidth: 200 } }} />\n        <FormItem component="input" label="\u5ba2\u6237\u8054\u7cfb\u5730\u5740" name="address" />\n      </Form.Array>\n\n      <Box mt="m">\n        <Form.Submit />\n        <Form.Reset />\n      </Box>\n\n      <ValuePreview />\n    </Form>\n  );\n}';var w={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:146,column:7},end:{line:155,column:1}},name:"ArrayOfString",value:k,source:'function ArrayOfString() {\n  return (\n    <Form defaultValue={{ texts: [] }}>\n      <Form.Array name="texts" layout={arrayCard({ showItemOrder: true })} itemFactory={() => \'\'}>\n        <FormItem component="input" label="\u59d3\u540d" name="&" componentProps={{ placeholder: \'\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57\' }} />\n      </Form.Array>\n      <ValuePreview />\n    </Form>\n  );\n}',deps:function(){return[]},provides:{Form:c.b,arrayCard:c.e,FormItem:c.c,ValuePreview:b.b}};k.__doc_info=w,k.__inner_source='function ArrayOfString() {\n  return (\n    <Form defaultValue={{ texts: [] }}>\n      <Form.Array name="texts" layout={arrayCard({ showItemOrder: true })} itemFactory={() => \'\'}>\n        <FormItem component="input" label="\u59d3\u540d" name="&" componentProps={{ placeholder: \'\u8bf7\u8f93\u5165\u4f60\u7684\u540d\u5b57\' }} />\n      </Form.Array>\n      <ValuePreview />\n    </Form>\n  );\n}';var N=[{prov:"\u6d59\u6c5f",cities:"\u676d\u5dde\u3001\u7ecd\u5174\u3001\u5b81\u6ce2\u3001\u5609\u5174\u3001\u5176\u4ed6".split("\u3001")},{prov:"\u6c5f\u82cf",cities:"\u5357\u4eac\u3001\u5e38\u5dde\u3001\u9547\u6c5f\u3001\u82cf\u5dde\u3001\u5176\u4ed6".split("\u3001")},{prov:"\u798f\u5efa",cities:"\u53a6\u95e8\u3001\u798f\u5dde\u3001\u8386\u7530\u3001\u4e09\u660e\u3001\u5176\u4ed6".split("\u3001")}],P={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:157,column:0},end:{line:161,column:2}},name:"ALL_CITIES",value:N,source:"const ALL_CITIES = [\n  { prov: '\u6d59\u6c5f', cities: '\u676d\u5dde\u3001\u7ecd\u5174\u3001\u5b81\u6ce2\u3001\u5609\u5174\u3001\u5176\u4ed6'.split('\u3001') },\n  { prov: '\u6c5f\u82cf', cities: '\u5357\u4eac\u3001\u5e38\u5dde\u3001\u9547\u6c5f\u3001\u82cf\u5dde\u3001\u5176\u4ed6'.split('\u3001') },\n  { prov: '\u798f\u5efa', cities: '\u53a6\u95e8\u3001\u798f\u5dde\u3001\u8386\u7530\u3001\u4e09\u660e\u3001\u5176\u4ed6'.split('\u3001') },\n];",deps:function(){return[]},provides:{}},A=function(e){return new Promise((function(n){setTimeout(n,e)}))},q={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:163,column:0},end:{line:166,column:5}},name:"delay",value:A,source:"const delay = (ms) =>\n  new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });",deps:function(){return[]},provides:{}},T=new c.d({prov:"\u6d59\u6c5f",cities:[],districts:[]}),R={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:168,column:0},end:{line:172,column:3}},name:"model3",value:T,source:"const model3 = new FormModel({\n  prov: '\u6d59\u6c5f',\n  cities: [] ,\n  districts: [] ,\n});",deps:function(){return[]},provides:{FormModel:c.d}},M=new c.a(Object(a.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T.getValue("prov"),e.next=3,A(1e3);case 3:return e.abrupt("return",N.find((function(e){return e.prov===n})).cities);case 4:case"end":return e.stop()}}),e)}))),[]),B={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:174,column:0},end:{line:181,column:7}},name:"cityDataSource$",value:M,source:"const cityDataSource$ = new AsyncValue(async () => {\n  // \u4f9d\u8d56\u6536\u96c6\u9700\u8981\u53d1\u751f\u5728\u540c\u6b65\u4ee3\u7801\u5757\u4e2d\n  const prov = model3.getValue('prov');\n\n  // \u6839\u636e\u7701\u4efd\u62c9\u53d6\u57ce\u5e02\u5217\u8868\uff0c 1000ms \u5ef6\u8fdf\u7528\u4e8e\u6a21\u62df\u5b9e\u9645\u60c5\u51b5\n  await delay(1000);\n  return ALL_CITIES.find((item) => item.prov === prov).cities;\n}, []);",deps:function(){return[R,q,P]},provides:{AsyncValue:c.a}},L=new c.a(Object(a.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T.getValue("cities"),e.next=3,A(1e3);case 3:return e.abrupt("return",n.flatMap((function(e){return[e+"_001\u533a",e+"_002\u533a",e+"_003\u533a"]})));case 4:case"end":return e.stop()}}),e)}))),[]),Y={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:183,column:0},end:{line:190,column:7}},name:"districtDataSource$",value:L,source:"const districtDataSource$ = new AsyncValue(async () => {\n  // \u4f9d\u8d56\u6536\u96c6\u9700\u8981\u53d1\u751f\u5728\u540c\u6b65\u4ee3\u7801\u5757\u4e2d\n  const cities = model3.getValue('cities');\n\n  // \u6839\u636e\u7701\u4efd\u62c9\u53d6\u57ce\u5e02\u5217\u8868\uff0c 1000ms \u5ef6\u8fdf\u7528\u4e8e\u6a21\u62df\u5b9e\u9645\u60c5\u51b5\n  await delay(1000);\n  return cities.flatMap((city) => [`${city}_001\u533a`, `${city}_002\u533a`, `${city}_003\u533a`]);\n}, []);",deps:function(){return[R,q]},provides:{AsyncValue:c.a}},K=Object(m.b)((function(){var e=T.getField("prov"),n=T.getField("cities"),t=T.getField("districts");return f.a.createElement(c.b,{model:T},f.a.createElement(c.c,{component:"singleSelect",label:"\u7701\u4efd(\u5355\u9009)",name:"prov",componentProps:{dataSource:N.map((function(e){return e.prov}))}}),f.a.createElement(c.c,{component:"multiSelect",label:"\u57ce\u5e02(\u591a\u9009)",name:"cities",help:"loading"===M.status?f.a.createElement("span",{style:{color:"red"}},"loading..."):void 0,componentProps:{hasClear:!0,dataSource:M.current}}),f.a.createElement(c.c,{component:"multiSelect",label:"\u884c\u653f\u533a(\u591a\u9009)",name:"districts",help:"loading"===L.status?f.a.createElement("span",{style:{color:"red"}},"loading..."):void 0,componentProps:{hasClear:!0,dataSource:L.current}}),f.a.createElement(c.b.Effect,{watch:e,effect:function(){n.value=[]}}),f.a.createElement(c.b.Effect,{watch:M,effect:function(e){n.value=e.slice(0,1)}}),f.a.createElement(c.b.Effect,{watch:n,effect:function(e){t.value=t.value.filter((function(n){return e.includes(n.slice(0,2))}))}}),f.a.createElement(b.b,null))})),D={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:192,column:0},end:{line:254,column:3}},name:"AsyncEffectInner",value:K,source:'const AsyncEffectInner = observer(() => {\n  const prov = model3.getField(\'prov\');\n  const cities = model3.getField(\'cities\');\n  const districts = model3.getField(\'districts\');\n\n  return (\n    <Form model={model3}>\n      <FormItem\n        component="singleSelect"\n        label="\u7701\u4efd(\u5355\u9009)"\n        name="prov"\n        componentProps={{ dataSource: ALL_CITIES.map((item) => item.prov) }}\n      />\n      <FormItem\n        component="multiSelect"\n        label="\u57ce\u5e02(\u591a\u9009)"\n        name="cities"\n        help={cityDataSource$.status === \'loading\' ? <span style={{ color: \'red\' }}>loading...</span> : undefined}\n        componentProps={{\n          hasClear: true,\n          dataSource: cityDataSource$.current,\n        }}\n      />\n      <FormItem\n        component="multiSelect"\n        label="\u884c\u653f\u533a(\u591a\u9009)"\n        name="districts"\n        help={districtDataSource$.status === \'loading\' ? <span style={{ color: \'red\' }}>loading...</span> : undefined}\n        componentProps={{\n          hasClear: true,\n          dataSource: districtDataSource$.current,\n        }}\n      />\n\n      {/* \u5207\u6362\u300c\u7701\u4efd\u300d\u65f6\uff0c\u6e05\u7a7a\u57ce\u5e02 */}\n      <Form.Effect\n        watch={prov}\n        effect={() => {\n          cities.value = [];\n        }}\n      />\n\n      {/* \u57ce\u5e02\u5217\u8868\u52a0\u8f7d\u5b8c\u6210\u65f6\uff0c\u81ea\u52a8\u8bbe\u7f6e\u4e3a\u7b2c\u4e00\u4e2a\u57ce\u5e02 */}\n      <Form.Effect\n        watch={cityDataSource$}\n        effect={(cityList) => {\n          cities.value = cityList.slice(0, 1);\n        }}\n      />\n\n      {/* \u5207\u6362\u57ce\u5e02\u65f6\uff0c\u79fb\u9664\u65e0\u6548\u7684\u884c\u653f\u533a */}\n      <Form.Effect\n        watch={cities}\n        effect={(cities) => {\n          const isValid = (district) => cities.includes(district.slice(0, 2));\n          districts.value = districts.value.filter(isValid);\n        }}\n      />\n\n      <ValuePreview />\n    </Form>\n  );\n});',deps:function(){return[R,P,B,Y]},provides:{observer:m.b,Form:c.b,FormItem:c.c,ValuePreview:b.b}};function W(){return f.a.createElement(K,null)}var G={filename:"/Users/feichao.sfc/code/github/alibaba/rex-design/packages/story/src/xform/2-advanced-examples.stories.tsx",loc:{start:{line:256,column:7},end:{line:258,column:1}},name:"AsyncEffect",value:W,source:"function AsyncEffect() {\n  return <AsyncEffectInner />;\n}",deps:function(){return[D]},provides:{}};W.__inner_source="function AsyncEffect() {\n  return <AsyncEffectInner />;\n}",W.__doc_info=G},93:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return m})),t.d(n,"toc",(function(){return u})),t.d(n,"default",(function(){return f}));var a,r=t(3),o=t(8),l=(t(0),t(173)),i=t(524),s=t(527),c={id:"advanced",title:"xform \u8fdb\u9636"},m={unversionedId:"xform/advanced",id:"xform/advanced",isDocsHomePage:!1,title:"xform \u8fdb\u9636",description:"\u672c\u9875\u5c06\u4ecb\u7ecd xform \u7684\u4e00\u4e9b\u8fdb\u9636\u7528\u6cd5\uff0c\u5305\u62ec\u8868\u5355\u7247\u6bb5\u590d\u7528\u3001\u6570\u7ec4\u7c7b\u578b\u8868\u5355\u3001\u5d4c\u5957\u8868\u5355\u6570\u636e\u7ed3\u6784\u7b49\u3002",source:"@site/docs/xform/advanced.mdx",sourceDirName:"xform",slug:"/xform/advanced",permalink:"/rex-design/docs/xform/advanced",editUrl:"https://github.com/alibaba/rex-design/edit/main/packages/doc/docs/xform/advanced.mdx",version:"current",frontMatter:{id:"advanced",title:"xform \u8fdb\u9636"},sidebar:"docs",previous:{title:"xform",permalink:"/rex-design/docs/xform/usage"},next:{title:"xform \u8054\u52a8",permalink:"/rex-design/docs/xform/effects"}},u=[{value:"\u8868\u5355\u7247\u6bb5\u590d\u7528",id:"\u8868\u5355\u7247\u6bb5\u590d\u7528",children:[{value:"<code>Form.Object</code>",id:"formobject",children:[]}]},{value:"\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e",id:"\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e",children:[{value:"<code>Form.Array</code>",id:"formarray",children:[]}]},{value:"\u5904\u7406\u5d4c\u5957\u6570\u636e\u7ed3\u6784",id:"\u5904\u7406\u5d4c\u5957\u6570\u636e\u7ed3\u6784",children:[{value:"\u793a\u4f8b 1 \u5206\u6b65\u8868\u5355",id:"\u793a\u4f8b-1-\u5206\u6b65\u8868\u5355",children:[]}]},{value:"\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6",id:"\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6",children:[{value:"\u89c6\u56fe\u63a5\u5165",id:"\u89c6\u56fe\u63a5\u5165",children:[]},{value:"\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6",id:"\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6",children:[]},{value:"\u6ce8\u518c\u4e3a\u5185\u7f6e\u8868\u5355\u7ec4\u4ef6",id:"\u6ce8\u518c\u4e3a\u5185\u7f6e\u8868\u5355\u7ec4\u4ef6",children:[]}]},{value:"\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe",id:"\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe",children:[{value:"fork field \u7279\u70b9",id:"fork-field-\u7279\u70b9",children:[]}]},{value:"\u6570\u7ec4\u89e3\u6784",id:"\u6570\u7ec4\u89e3\u6784",children:[]}],d=(a="Story",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),Object(l.b)("div",e)}),p={toc:u};function f(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(l.b)("p",null,"\u672c\u9875\u5c06\u4ecb\u7ecd xform \u7684\u4e00\u4e9b\u8fdb\u9636\u7528\u6cd5\uff0c\u5305\u62ec\u8868\u5355\u7247\u6bb5\u590d\u7528\u3001\u6570\u7ec4\u7c7b\u578b\u8868\u5355\u3001\u5d4c\u5957\u8868\u5355\u6570\u636e\u7ed3\u6784\u7b49\u3002"),Object(l.b)("p",null,"\u8868\u5355\u8054\u52a8\u76f8\u5173\u5185\u5bb9\u7684\u8bf7\u67e5\u770b ",Object(l.b)("a",{parentName:"p",href:"effects"},"xform \u8054\u52a8"),"."),Object(l.b)("div",{className:"admonition admonition-danger alert alert--danger"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"\u6587\u6863\u5185\u5bb9\u8f83\u591a\uff0c\u4e66\u5199\u9f9f\u901f (\uffe3\uff13\uffe3)a\u3002"))),Object(l.b)("h2",{id:"\u8868\u5355\u7247\u6bb5\u590d\u7528"},"\u8868\u5355\u7247\u6bb5\u590d\u7528"),Object(l.b)("p",null,"\u5148\u770b\u4ee5\u4e0b\u793a\u4f8b\uff0c\u5728\u5bb6\u5ead\u4fe1\u606f\u767b\u8bb0\u8868\u4e2d\uff0c\u300c\u4e2a\u4eba\u4fe1\u606f\u300d\u3001\u300c\u7236\u4eb2\u300d\u3001\u300c\u6bcd\u4eb2\u300d\u7b49\u90e8\u5206\u7684\u8868\u5355\u5185\u5bb9\u662f\u5b8c\u5168\u76f8\u540c\u7684\uff0c\u4f46\u5b83\u4eec\u7684\u6570\u636e\u5b58\u653e\u8def\u5f84\u4e0d\u540c\u3002"),Object(l.b)(d,{fn:s.c,mdxType:"Story"}),Object(l.b)("p",null,"\u6211\u4eec\u5c06\u8868\u5355\u4e2d\u7684\u76f8\u540c\u90e8\u5206\u62bd\u53d6\u5230 PersonForm \u4e2d\uff0c\u5e76\u5229\u7528 Form.Object \u6765\u6307\u5b9a\u5176\u4e2d FormItem \u7684",Object(l.b)("strong",{parentName:"p"},"\u6570\u636e\u7d22\u5f15\u524d\u7f00"),"\u3002 \u5728 FamilyForm \u4e2d\uff0c\u6211\u4eec\u6e32\u67d3\u591a\u4e2a PersonForm \u5e76\u6307\u5b9a\u4e0d\u540c\u7684 name \u548c label\uff0c\u5b9e\u73b0\u8868\u5355\u7247\u6bb5\u7684\u590d\u7528\u3002 \u9664\u4e86 label \u548c name \u4e4b\u5916\uff0c\u6211\u4eec\u53ef\u4ee5\u6309\u9700\u6dfb\u52a0\u66f4\u591a\u5176\u4ed6 props\uff0c\u4f7f\u7247\u6bb5\u590d\u7528\u66f4\u52a0\u7075\u6d3b\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'function PersonForm({ name, label }) {\n  return (\n    <div>\n      <p>{label}</p>\n      <Form.Object name={name}>\n        <FormItem name="name" label="\u59d3\u540d" required />\n        <FormItem name="contact" label="\u8054\u7cfb\u65b9\u5f0f" />\n        <FormItem name="address.city" label="\u5c45\u4f4f\u57ce\u5e02" />\n      </Form.Object>\n    </div>\n  );\n}\n\nfunction FamilyForm() {\n  return (\n    <div>\n      <PersonForm name="me" label="\u4e2a\u4eba\u4fe1\u606f" />\n      <PersonForm name="father" label="\u7236\u4eb2" />\n      <PersonForm name="mother" label="\u6bcd\u4eb2" />\n      <PersonForm name="other" label="\u5176\u4ed6\u7d27\u6025\u8054\u7cfb\u4eba" />\n    </div>\n  );\n}\n')),Object(l.b)("h3",{id:"formobject"},Object(l.b)("inlineCode",{parentName:"h3"},"Form.Object")),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"<Form.Object name={name} />"),"\uff1a \u4ee5\u5f53\u524d model \u4e3a\u57fa\u7840\uff0c\u4e3a\u5176\u5b50\u8282\u70b9\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684 sub model\uff0c\u5e76\u5c06\u5b50\u8282\u70b9\u4e2d\u7684\u8868\u5355\u503c\u6536\u96c6\u5230\u5f53\u524d model \u4e2d ",Object(l.b)("inlineCode",{parentName:"p"},"name")," \u5bf9\u5e94\u7684\u4f4d\u7f6e\u3002"),Object(l.b)("p",null,"\u4e3a Form.Object \u8bbe\u7f6e ",Object(l.b)("inlineCode",{parentName:"p"},'name="&"')," \u65f6\uff0c\u53ef\u4ee5\u5c06\u5f53\u524d model \u900f\u4f20\u81f3\u5b50\u8282\u70b9\uff08\u76f8\u5f53\u4e8e\u6ca1\u5199 Form.Object\uff09\u3002"),Object(l.b)("h2",{id:"\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e"},"\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e"),Object(l.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u5229\u7528 ",Object(l.b)("inlineCode",{parentName:"p"},"Form.Array")," \u6765\u5904\u7406\u5217\u8868\u7c7b\u578b\u7684\u6570\u636e\u3002"),Object(l.b)("p",null,"\u4f8b\u5982\uff0c\u5728\u4e0b\u9762\u7684\u300c\u5ba2\u6237\u6ee1\u610f\u5ea6\u8c03\u67e5\u5217\u8868\u300d\u4e2d\uff0c\u6211\u4eec\u7528 Form.Array \u5305\u88f9\u4e86\u591a\u4e2a FormItem\u3002"),Object(l.b)("p",null,"\u4ece Form.Array \u8fd9\u4e2a\u540d\u5b57\u4e2d\u4e5f\u53ef\u4ee5\u770b\u51fa\uff0c\u8868\u5355\u63d0\u4ea4\u65f6\u5c06\u4f1a\u751f\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u5305\u542b name\uff0cdate\uff0cbrand \u7b49\u5b57\u6bb5\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'<Form.Array name="tickets" layout={arrayCard({ showItemOrder: true })}>\n  <FormItem label="\u5ba2\u6237\u540d\u79f0" name="name" />\n  <FormItem label="\u8d2d\u4e70\u65e5\u671f" name="date" />\n  <FormItem label="\u54c1\u724c" name="brand" />\n  {/* \u5176\u4ed6\u8c03\u67e5\u7ed3\u679c\u8868\u5355\u5185\u5bb9 */}\n</Form.Array>\n')),Object(l.b)(d,{fn:s.a,mdxType:"Story"}),Object(l.b)("h3",{id:"formarray"},Object(l.b)("inlineCode",{parentName:"h3"},"Form.Array")),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"<Form.Array name={name} itemFactory={itemFactory} layout={layout} />")),Object(l.b)("p",null,"Form.Array \u4f1a\u6839\u636e\u5217\u8868\u957f\u5ea6\uff08\u5373 ",Object(l.b)("inlineCode",{parentName:"p"},"model.values.length"),"\uff09\uff0c\u6e32\u67d3\u540c\u6837\u6b21\u6570\u7684\u5b50\u8282\u70b9\uff08\u6307 props.children\uff09\u3002Form.Array \u4f1a\u4ee5\u5f53\u524d model \u4e3a\u57fa\u7840\uff0c\u4e3a\u5176\u5b50\u8282\u70b9\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684 sub model\uff0c\u5e76\u5c06\u5b50\u8282\u70b9\u4e2d\u7684\u8868\u5355\u503c\u6536\u96c6\u5230\u5f53\u524d model \u4e2d ",Object(l.b)("inlineCode",{parentName:"p"},"{name}.{itemIndex}")," \u5bf9\u5e94\u7684\u4f4d\u7f6e\u3002"),Object(l.b)("p",null,"Form.Array \u4e0e Form.Object \u975e\u5e38\u7c7b\u4f3c\uff0c\u4f46\u7528\u4e8e\u5904\u7406\u6570\u7ec4\u3002 \u6ce8\u610f Form.Array \u4e3a\u5176\u5b50\u8282\u70b9\u63d0\u4f9b\u7684 sub model \u5305\u542b\u4e24\u5c42\u4e0b\u6807 ",Object(l.b)("inlineCode",{parentName:"p"},"{name}.{itemIndex}"),"\uff1a ",Object(l.b)("inlineCode",{parentName:"p"},"name")," \u8868\u793a\u6570\u7ec4\u6240\u5728\u7684\u5b57\u6bb5\u540d\u79f0\uff0c ",Object(l.b)("inlineCode",{parentName:"p"},"itemIndex")," \u8868\u793a\u6570\u7ec4\u5143\u7d20\u4e0b\u6807\u3002"),Object(l.b)("p",null,"\u5176\u4ed6\u53c2\u6570\uff1a"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"layout")," \u63a7\u5236\u8868\u5355\u5982\u4f55\u5bf9\u6570\u7ec4\u8fdb\u884c\u5e03\u5c40\uff0c\u5305\u62ec\u6570\u7ec4\u4e2d\u6bcf\u4e00\u4e2a\u5143\u7d20\u7684\u5e03\u5c40 \u4ee5\u53ca \u76f8\u5173\u7684\u64cd\u4f5c\u6309\u94ae\uff08\u6dfb\u52a0\u3001\u5220\u9664\u3001\u4e0a\u79fb\u3001\u4e0b\u79fb\u7b49\uff09",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"xform \u63d0\u4f9b\u4e00\u4e9b\u5185\u7f6e\u7684\u6570\u7ec4\u5e03\u5c40\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5728\u4e0a\u5c42\u5b9e\u73b0\u65b0\u7684\u6570\u7ec4\u5e03\u5c40"),Object(l.b)("li",{parentName:"ul"},"\u548c Form.Object \u4e00\u6837\uff0cForm.Array \u672c\u8eab\u4e0d\u4f1a\u63d0\u4f9b\u4efb\u4f55\u5e03\u5c40"))),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"itemFactory")," \u7528\u4e8e\u8bbe\u7f6e\u6570\u7ec4\u4e2d\u65b0\u589e\u5143\u7d20\u7684\u521d\u59cb\u503c")),Object(l.b)("h2",{id:"\u5904\u7406\u5d4c\u5957\u6570\u636e\u7ed3\u6784"},"\u5904\u7406\u5d4c\u5957\u6570\u636e\u7ed3\u6784"),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"Form.Object")," \u4e0e ",Object(l.b)("inlineCode",{parentName:"p"},"Form.Array")," \u5141\u8bb8\u76f8\u4e92\u5d4c\u5957\uff0c\u7075\u6d3b\u4f7f\u7528\u4e24\u8005\uff0c\u6211\u4eec\u53ef\u4ee5\u7ec4\u5408\u51fa\u975e\u5e38\u590d\u6742\u7684\u8868\u5355\u7ed3\u6784\u3002"),Object(l.b)("p",null,"\u800c\u5728\u6570\u636e\u5904\u7406\u65b9\u9762\uff0c xform \u63d0\u4f9b\u4e86\u975e\u5e38\u7075\u6d3b\u7684\u3001\u300c\u5206\u5f62\u300d\u7684 API\u3002"),Object(l.b)("p",null,"\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"new FormModel(values)")," \u521b\u5efa formModel \u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",Object(l.b)("inlineCode",{parentName:"p"},"formModel.getSubModel(name)")," \u6765\u83b7\u53d6 ",Object(l.b)("inlineCode",{parentName:"p"},"name")," \u5bf9\u5e94\u7684\u5b50\u6a21\u578b subModel\uff0c\u5bf9 subModel.values \u7684\u8bfb\u5199\u4f1a\u81ea\u52a8\u53d8\u4e3a\u5bf9 formModel.values \u7684\u8bfb\u5199\uff08\u80cc\u540e\u57fa\u4e8e mobx computed\uff09\uff0c\u786e\u4fdd formModel.values \u662f\u6574\u4e2a\u8868\u5355 values \u7684\u552f\u4e00\u53ef\u4fe1\u6765\u6e90\u3002"),Object(l.b)("p",null,"FormModel\uff08\u6839\u8282\u70b9\uff09\u548c SubModel\uff08\u5b50\u8282\u70b9\uff09\u5747\u5b9e\u73b0\u4e86 ",Object(l.b)("a",{parentName:"p",href:"api#imodel"},Object(l.b)("inlineCode",{parentName:"a"},"IModel")," interface"),"\uff0c\u4e24\u8005\u62e5\u6709\u51e0\u4e4e\u76f8\u540c\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\u3002\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u533a\u5206 FormModel \u6216 SubModel\u3002\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"IModel#getSubModel")," \u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u5b50\u6a21\u578b\u7684\u5b50\u6a21\u578b\uff0c\u751a\u81f3\u662f\u5b50\u6a21\u578b\u7684\u5b50\u6a21\u578b\u7684\u5b50\u6a21\u578b\u2026\u2026 \u5728\u5b9e\u9645\u8fdb\u884c\u5f00\u53d1\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u60c5\u51b5\u7075\u6d3b\u9009\u53d6\u5b50\u6a21\u578b\uff0c\u7136\u540e\u5728\u9002\u5f53\u7684\u6570\u636e\u5c42\u7ea7\u8fdb\u884c\u5f00\u53d1\u3002"),Object(l.b)("h3",{id:"\u793a\u4f8b-1-\u5206\u6b65\u8868\u5355"},"\u793a\u4f8b 1 \u5206\u6b65\u8868\u5355"),Object(l.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a FormModel \u6765\u7ba1\u7406\u300c\u5206\u6b65\u8868\u5355\u300d\u3002\u867d\u7136\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u5e38\u89c1\uff0c\u4f46\u5b83\u6709\u4e00\u4e9b\u72ec\u7279\u7684\u4f18\u52bf\uff1a"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\u590d\u7528\u4e86\u8868\u5355\u5df2\u6709\u7684\u63d0\u4ea4\u6309\u94ae\uff08Form.Submit\uff09\u548c\u63d0\u4ea4\u6210\u529f\u56de\u8c03\uff08onSubmit\uff09\uff0c\u5feb\u901f\u5b9e\u73b0\u300c\u70b9\u51fb\u4e0b\u4e00\u6b65\u89e6\u53d1\u6821\u9a8c\uff0c\u6821\u9a8c\u901a\u8fc7\u540e\u8df3\u8f6c\u5230\u4e0b\u4e00\u6b65\u300d\u529f\u80fd"),Object(l.b)("li",{parentName:"ul"},"\u53ef\u4ee5\u901a\u8fc7 root \u6765\u8fdb\u884c\u5168\u5c40\u7ba1\u7406\uff0c\u4f8b\u5982\u2026\u2026",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\u8c03\u7528 ",Object(l.b)("inlineCode",{parentName:"li"},"modelUtils.reset(root)")," \u6765\u91cd\u7f6e\u6240\u6709\u6b65\u9aa4"),Object(l.b)("li",{parentName:"ul"},"root.values \u8bb0\u5f55\u4e86\u6574\u4f53\u6570\u636e\uff0c\u5411\u540e\u7aef\u53d1\u9001\u8bf7\u6c42\u65f6\u53ea\u9700\u8981\u53d1\u9001 root.values \u5373\u53ef")))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'const root = new FormModel({ step1: {}, step2: {}, step3: {} });\n\n// STEP-1 Component\n<Step>\n  <Form model={root.getSubModel(\'step1\')} onSubmit={jumpToStep2}>\n    <FormItem name="foo" />\n    <FormItem name="bar" />\n    <Form.Submit>\u4e0b\u4e00\u6b65</Form.Submit>\n  </Form>\n</Step>;\n\n// STEP-2 Component\n<Step>\n  <Form model={root.getSubModel(\'step2\')} onSubmit={jumpToStep3}>\n    <FormItem name="hello" />\n    <FormItem name="world" />\n    <Form.Submit>\u4e0b\u4e00\u6b65</Form.Submit>\n  </Form>\n</Step>;\n\n// STEP-3 Component \u7701\u7565\u4ee3\u7801\n')),Object(l.b)("p",null,"(todo \u66f4\u591a\u793a\u4f8b)"),Object(l.b)("h2",{id:"\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6"},"\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6"),Object(l.b)("p",null,"\u968f\u7740\u4e1a\u52a1\u9700\u6c42\u53d8\u5f97\u590d\u6742\uff0cxform \u81ea\u5e26\u7684\u8868\u5355\u7ec4\u4ef6\u5c06\u5f88\u96be\u6ee1\u8db3\u5168\u90e8\u9700\u6c42\uff0c\u6b64\u65f6\u4f60\u53ef\u4ee5\u901a\u8fc7\u63a5\u5165\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u6765\u62d3\u5c55 xform\u3002"),Object(l.b)("h3",{id:"\u89c6\u56fe\u63a5\u5165"},"\u89c6\u56fe\u63a5\u5165"),Object(l.b)("p",null,"\u5f53\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4e0d\u9700\u8981\u63a5\u5165\u8868\u5355\u5185\u90e8\u7684\u6821\u9a8c\u7cfb\u7edf\u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",Object(l.b)("a",{parentName:"p",href:"api#formitemview"},Object(l.b)("inlineCode",{parentName:"a"},"<Form.ItemView />"))," \u6765\u63a5\u5165\u8868\u5355\u5e03\u5c40\uff0c\u8ba9\u81ea\u5b9a\u4e49\u5185\u5bb9\u4e0e\u666e\u901a FormItem \u5c55\u793a\u4e00\u81f4\u3002\u6b64\u65f6\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 ",Object(l.b)("a",{parentName:"p",href:"api#field"},"Field")," \u6765\u4e3a\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u8bbe\u7f6e value/onChange\uff1a"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'const cityField = model.getField(\'city\');\n\n<Form model={model}>\n  <FormItem component="input" name="foo" />\n  <FormItem component="select" name="bar" />\n  <FormItemView label="\u57ce\u5e02" tip="\u8bf7\u9009\u62e9\u4f60\u7684\u5c45\u4f4f\u57ce\u5e02" asterisk={true} error="\u5fc5\u987b\u9009\u62e9\u9646\u5730">\n    <MyPowerCitySelect selectdCity={cityField.value} onChangeSelectedCity={cityField.handleChange} />\n  </FormItemView>\n</Form>;\n')),Object(l.b)("h3",{id:"\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6"},"\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6"),Object(l.b)("p",null,"\u901a\u8fc7 createFormItem \u4f60\u53ef\u4ee5\u521b\u5efa\u5168\u65b0\u7684\u8868\u5355\u7ec4\u4ef6\u3002\u521b\u5efa\u540e\uff0c\u53ef\u4ee5\u50cf\u666e\u901a\u7684 FormItem \u4e00\u6837\u6765\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u8868\u5355\u7ec4\u4ef6\uff0c\u6bd4\u5982\u901a\u8fc7 name \u6765\u6307\u5b9a\u6240\u8981\u7ed1\u5b9a\u7684\u6570\u636e\u7d22\u5f15\uff0c\u901a\u8fc7 validate \u6765\u8bbe\u7f6e\u6821\u9a8c\u65b9\u6cd5\u7b49\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'// \u521b\u5efa\nconst PowerCityFormItem = createFormItem({\n  name: \'powerCitySelect\',\n  fallbackValue: null,\n  isEmpty: () => false,\n  render({ value, onChange }) {\n    return <MyPowerCitySelect selectdCity={value} onChangeSelectedCity={onChange} />;\n  },\n});\n\n// \u4f7f\u7528\n<Form model={model}>\n  <FormItem component="input" name="foo" />\n  <FormItem component="select" name="bar" />\n  <PowerCityFormItem name="city" required validate={isBeautifulCity} validateOnChange={false} />\n</Form>;\n')),Object(l.b)("h3",{id:"\u6ce8\u518c\u4e3a\u5185\u7f6e\u8868\u5355\u7ec4\u4ef6"},"\u6ce8\u518c\u4e3a\u5185\u7f6e\u8868\u5355\u7ec4\u4ef6"),Object(l.b)("p",null,"\u5982\u679c\u4f60\u671f\u671b\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u4ee5 ",Object(l.b)("inlineCode",{parentName:"p"},'<FormItem component="powerCitySelect" name="..." />')," \u7684\u5f62\u5f0f\u88ab\u4f7f\u7528\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"FormItem.register(...)")," \u6765\u8fdb\u884c\u6ce8\u518c\u3002\u65b0\u6ce8\u518c\u7684\u540d\u79f0\u4f1a\u4e0e\u5df2\u6709\u7684\u540d\u79f0\u5171\u4eab\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\uff0c\u6ce8\u610f\u907f\u514d\u51b2\u7a81\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},'// \u6ce8\u518c\nFormItem.register({\n  name: \'powerCitySelect\',\n  fallbackValue: null,\n  isEmpty: () => false,\n  render: ___,\n});\n\n// \u4f7f\u7528\n<Form model={model}>\n  <FormItem component="input" name="foo" />\n  <FormItem component="select" name="bar" />\n  <FormItem component="powerCitySelect" name="city" required validate={isBeautifulCity} validateOnChange={false} />\n</Form>;\n')),Object(l.b)("h2",{id:"\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe"},"\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"\u5f53\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"strong"},'name="..."')," \u6765\u6307\u5b9a FormItem \u5173\u8054\u7684\u6570\u636e\u7d22\u5f15\u65f6\uff0c \u4e00\u4e2a\u6570\u636e\u7d22\u5f15\u6700\u591a\u53ea\u80fd\u5bf9\u5e94\u4e00\u4e2a FormItem\u3002")),Object(l.b)("p",null,"\u5f53\u591a\u4e2a FormItem \u7684 name \u76f8\u540c\u65f6\uff0c\u8fd9\u4e9b FormItem \u5c06\u4f1a\u4f7f\u7528\u540c\u4e00\u4e2a Field \u5bf9\u8c61\u3002\u4f46\u56e0\u4e0d\u540c FormItem \u7684\u914d\u7f6e\u4e0d\u540c\uff08\u4f8b\u5982\u8bbe\u7f6e\u4e86\u4e0d\u540c\u7684 required \u6216 validate\uff09\uff0c\u540e\u6e32\u67d3\u7684 FormItem \u7684\u914d\u7f6e\u5c06\u4f1a\u8986\u76d6\u5148\u6e32\u67d3\u7684 FormItem \u914d\u7f6e\uff0cField \u5bf9\u8c61\u4e0a\u7684\u6821\u9a8c\u5c31\u4f1a\u51fa\u95ee\u9898\u3002\u4f8b\u5982\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\u5c31\u51fa\u73b0\u4e86\u4e24\u4e2a\u4e92\u65a5\u7684\u6821\u9a8c\u65b9\u6cd5\uff0c\u5bfc\u81f4\u6821\u9a8c\u6c38\u8fdc\u65e0\u6cd5\u901a\u8fc7\uff1a"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"// \u274c \u9519\u8bef\u7528\u6cd5\n<FormItem name=\"foo\" required validate={v => v < 3 ? '\u4e0d\u80fd\u5c0f\u4e8e3' : null}} />\n<FormItem name=\"foo\" required={false} validate={v => v > 3 ? '\u4e0d\u80fd\u5927\u4e8e3' : null} />\n")),Object(l.b)("p",null,"\u4f46\u5728\u5b9e\u9645\u573a\u666f\u4e2d\uff0c\u6211\u4eec\u65e0\u6cd5\u907f\u514d\u7c7b\u4f3c\u300c\u76f8\u540c\u6570\u636e\u7d22\u5f15\u5bf9\u5e94\u591a\u4e2a\u89c6\u56fe\u300d\u8fd9\u6837\u7684\u9700\u6c42\u3002\u4e3a\u6b64\uff0cxform \u63d0\u4f9b\u4e86 field fork \u80fd\u529b\uff1a"),Object(l.b)("p",null,"API\uff1a ",Object(l.b)("inlineCode",{parentName:"p"},"field.getFork(forkName :string): Field")),Object(l.b)("p",null,"\u8be5\u65b9\u6cd5\u6839\u636e\u5df2\u6709\u7684 field\uff08original field\uff09\u8fd4\u56de\u4e00\u4e2a",Object(l.b)("strong",{parentName:"p"},"\u65b0\u7684")," field \u5bf9\u8c61\uff08fork field\uff09\uff0cfork \u4e0e original \u4f7f\u7528\u76f8\u540c\u7684\u6570\u636e\u7d22\u5f15\uff08\u610f\u5473\u7740\u4e24\u8005 .value \u603b\u662f\u76f8\u7b49\uff09\uff0c\u4f46\u9664\u6b64\u4e4b\u5916\u7684\u5176\u4ed6\u72b6\u6001\u4e92\u76f8\u9694\u79bb\u3002"),Object(l.b)("p",null,"\u521b\u5efa fork field \u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7684 FormItem \u8bbe\u7f6e\u4e0d\u540c\u7684 field \u4e86\uff1a"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"// \u2705 \u6b63\u786e\u7528\u6cd5\nconst fooField = model.getField('foo')\nconst fooFork = fooField.getFork('fooFork')\n\n<FormItem field={fooField} required validate={v => v < 3 ? '\u4e0d\u80fd\u5c0f\u4e8e3' : null}} />\n<FormItem field={fooFork} required={false} validate={v => v > 3 ? '\u4e0d\u80fd\u5927\u4e8e3' : null} />\n")),Object(l.b)("h3",{id:"fork-field-\u7279\u70b9"},"fork field \u7279\u70b9"),Object(l.b)("p",null,"\u6211\u4eec\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"model.getField(name)")," \u83b7\u53d6\u5230\u7684 field \u5bf9\u8c61\u603b\u4e3a ",Object(l.b)("em",{parentName:"p"},"original fork"),"\uff0c\u8be5 field \u7684 forkName \u603b\u662f\u4e3a ",Object(l.b)("inlineCode",{parentName:"p"},"'original'"),"\u3002"),Object(l.b)("p",null,"\u540c\u4e00\u4e2a\u6570\u636e\u7d22\u5f15\u4e0b\uff0c\u4e0d\u540c\u7684 forks \u5171\u4eab\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\uff0c\u4e92\u76f8\u4e4b\u95f4\u53ef\u4ee5\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"field.getFork(forkName)")," \u8fdb\u884c\u8bbf\u95ee\uff1b\u8be5\u65b9\u6cd5\u8c03\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c forkName \u5bf9\u5e94\u7684 fork field \u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u521d\u59cb\u5316\u5bf9\u5e94\u7684 fork field\uff0c\u5e76\u5c06\u5176\u8fd4\u56de\u3002"),Object(l.b)("p",null,"\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a original fork \u662f\u9ed8\u8ba4\u5b58\u5728\u7684\u4e00\u4e2a fork\uff0c\u5f53\u60f3\u8981\u4f7f\u7528\u65b0\u7684 fork \u65f6\uff0c\u5c31\u6362\u4e00\u4e2a forkName\uff1b\u800c\u5f53\u60f3\u8981\u83b7\u53d6\u5230 original fork \u65f6\uff0c\u5219\u901a\u8fc7 ",Object(l.b)("inlineCode",{parentName:"p"},"forkField.getFork('original')")," \u8fdb\u884c\u83b7\u53d6\u3002"),Object(l.b)("h2",{id:"\u6570\u7ec4\u89e3\u6784"},"\u6570\u7ec4\u89e3\u6784"),Object(l.b)("p",null,"\u4f7f\u7528 ",Object(l.b)("inlineCode",{parentName:"p"},"model.getTupleField(...names)")," \u53ef\u4ee5\u5c06\u591a\u4e2a\u6570\u636e\u7d22\u5f15\u7ec4\u5408\u4e3a\u4e00\u4e2a\u5143\u7956\u7c7b\u578b(tuple)\u7684 field\uff0c\u4e00\u822c\u7528\u4e8e\u65e5\u671f\u8303\u56f4\u3001\u6570\u5b57\u8303\u56f4\u7b49\u8303\u56f4\u7c7b\u578b\u7684\u63a7\u4ef6\uff0c\u65b9\u4fbf\u5904\u7406\u524d\u7aef\u540e\u6570\u636e\u683c\u5f0f\u4e0d\u4e00\u81f4\u7684\u77db\u76fe\uff08\u4f8b\u5982\u540e\u7aef\u8981\u6c42\u7528\u4e24\u4e2a\u72ec\u7acb\u7684\u5b57\u6bb5\u6765\u8868\u793a\u65e5\u671f\u8303\u56f4\uff0c\u800c\u524d\u7aef\u63a7\u4ef6\u5f80\u5f80\u91c7\u7528\u6570\u7ec4\u8868\u793a\u65e5\u671f\u8303\u56f4\uff09\u3002"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-jsx"},"// \u8ba9 dateRangePicker \u7ed1\u5b9a\u5230 start \u548c end \u5b57\u6bb5\u4e0a\nconst field = model.getTupleField('start', 'end')\n<FormItem component=\"dateRangePicker\" field={field} />\n")),Object(l.b)(d,{fn:i.f,mdxType:"Story"}))}f.isMDXComponent=!0}}]);